function ID(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vz(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var m0={exports:{}},Lu={},g0={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function bz(){if(xA)return ct;xA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function x(z,J,le){this.props=z,this.context=J,this.refs=y,this.updater=le||v}x.prototype.isReactComponent={},x.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function _(){}_.prototype=x.prototype;function N(z,J,le){this.props=z,this.context=J,this.refs=y,this.updater=le||v}var E=N.prototype=new _;E.constructor=N,b(E,x.prototype),E.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(z,J,le){var se,xe={},X=null,re=null;if(J!=null)for(se in J.ref!==void 0&&(re=J.ref),J.key!==void 0&&(X=""+J.key),J)S.call(J,se)&&!A.hasOwnProperty(se)&&(xe[se]=J[se]);var me=arguments.length-2;if(me===1)xe.children=le;else if(1<me){for(var fe=Array(me),ye=0;ye<me;ye++)fe[ye]=arguments[ye+2];xe.children=fe}if(z&&z.defaultProps)for(se in me=z.defaultProps,me)xe[se]===void 0&&(xe[se]=me[se]);return{$$typeof:e,type:z,key:X,ref:re,props:xe,_owner:k.current}}function O(z,J){return{$$typeof:e,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function D(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return J[le]})}var L=/\/+/g;function F(z,J){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):J.toString(36)}function G(z,J,le,se,xe){var X=typeof z;(X==="undefined"||X==="boolean")&&(z=null);var re=!1;if(z===null)re=!0;else switch(X){case"string":case"number":re=!0;break;case"object":switch(z.$$typeof){case e:case t:re=!0}}if(re)return re=z,xe=xe(re),z=se===""?"."+F(re,0):se,C(xe)?(le="",z!=null&&(le=z.replace(L,"$&/")+"/"),G(xe,J,le,"",function(ye){return ye})):xe!=null&&(I(xe)&&(xe=O(xe,le+(!xe.key||re&&re.key===xe.key?"":(""+xe.key).replace(L,"$&/")+"/")+z)),J.push(xe)),1;if(re=0,se=se===""?".":se+":",C(z))for(var me=0;me<z.length;me++){X=z[me];var fe=se+F(X,me);re+=G(X,J,le,fe,xe)}else if(fe=g(z),typeof fe=="function")for(z=fe.call(z),me=0;!(X=z.next()).done;)X=X.value,fe=se+F(X,me++),re+=G(X,J,le,fe,xe);else if(X==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return re}function K(z,J,le){if(z==null)return z;var se=[],xe=0;return G(z,se,"","",function(X){return J.call(le,X,xe++)}),se}function U(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var q={current:null},M={transition:null},V={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function Q(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:K,forEach:function(z,J,le){K(z,function(){J.apply(this,arguments)},le)},count:function(z){var J=0;return K(z,function(){J++}),J},toArray:function(z){return K(z,function(J){return J})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ct.Component=x,ct.Fragment=r,ct.Profiler=a,ct.PureComponent=N,ct.StrictMode=n,ct.Suspense=u,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ct.act=Q,ct.cloneElement=function(z,J,le){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var se=b({},z.props),xe=z.key,X=z.ref,re=z._owner;if(J!=null){if(J.ref!==void 0&&(X=J.ref,re=k.current),J.key!==void 0&&(xe=""+J.key),z.type&&z.type.defaultProps)var me=z.type.defaultProps;for(fe in J)S.call(J,fe)&&!A.hasOwnProperty(fe)&&(se[fe]=J[fe]===void 0&&me!==void 0?me[fe]:J[fe])}var fe=arguments.length-2;if(fe===1)se.children=le;else if(1<fe){me=Array(fe);for(var ye=0;ye<fe;ye++)me[ye]=arguments[ye+2];se.children=me}return{$$typeof:e,type:z.type,key:xe,ref:X,props:se,_owner:re}},ct.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},ct.createElement=P,ct.createFactory=function(z){var J=P.bind(null,z);return J.type=z,J},ct.createRef=function(){return{current:null}},ct.forwardRef=function(z){return{$$typeof:l,render:z}},ct.isValidElement=I,ct.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:U}},ct.memo=function(z,J){return{$$typeof:h,type:z,compare:J===void 0?null:J}},ct.startTransition=function(z){var J=M.transition;M.transition={};try{z()}finally{M.transition=J}},ct.unstable_act=Q,ct.useCallback=function(z,J){return q.current.useCallback(z,J)},ct.useContext=function(z){return q.current.useContext(z)},ct.useDebugValue=function(){},ct.useDeferredValue=function(z){return q.current.useDeferredValue(z)},ct.useEffect=function(z,J){return q.current.useEffect(z,J)},ct.useId=function(){return q.current.useId()},ct.useImperativeHandle=function(z,J,le){return q.current.useImperativeHandle(z,J,le)},ct.useInsertionEffect=function(z,J){return q.current.useInsertionEffect(z,J)},ct.useLayoutEffect=function(z,J){return q.current.useLayoutEffect(z,J)},ct.useMemo=function(z,J){return q.current.useMemo(z,J)},ct.useReducer=function(z,J,le){return q.current.useReducer(z,J,le)},ct.useRef=function(z){return q.current.useRef(z)},ct.useState=function(z){return q.current.useState(z)},ct.useSyncExternalStore=function(z,J,le){return q.current.useSyncExternalStore(z,J,le)},ct.useTransition=function(){return q.current.useTransition()},ct.version="18.3.1",ct}var yA;function m_(){return yA||(yA=1,g0.exports=bz()),g0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function wz(){if(vA)return Lu;vA=1;var e=m_(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,h){var f,p={},g=null,v=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)n.call(u,f)&&!i.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:l,key:g,ref:v,props:p,_owner:a.current}}return Lu.Fragment=r,Lu.jsx=o,Lu.jsxs=o,Lu}var bA;function jz(){return bA||(bA=1,m0.exports=wz()),m0.exports}var s=jz(),tp={},x0={exports:{}},yn={},y0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA;function Nz(){return wA||(wA=1,(function(e){function t(M,V){var Q=M.length;M.push(V);e:for(;0<Q;){var z=Q-1>>>1,J=M[z];if(0<a(J,V))M[z]=V,M[Q]=J,Q=z;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],Q=M.pop();if(Q!==V){M[0]=Q;e:for(var z=0,J=M.length,le=J>>>1;z<le;){var se=2*(z+1)-1,xe=M[se],X=se+1,re=M[X];if(0>a(xe,Q))X<J&&0>a(re,xe)?(M[z]=re,M[X]=Q,z=X):(M[z]=xe,M[se]=Q,z=se);else if(X<J&&0>a(re,Q))M[z]=re,M[X]=Q,z=X;else break e}}return V}function a(M,V){var Q=M.sortIndex-V.sortIndex;return Q!==0?Q:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,g=3,v=!1,b=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=M)n(h),V.sortIndex=V.expirationTime,t(u,V);else break;V=r(h)}}function C(M){if(y=!1,E(M),!b)if(r(u)!==null)b=!0,U(S);else{var V=r(h);V!==null&&q(C,V.startTime-M)}}function S(M,V){b=!1,y&&(y=!1,_(P),P=-1),v=!0;var Q=g;try{for(E(V),p=r(u);p!==null&&(!(p.expirationTime>V)||M&&!D());){var z=p.callback;if(typeof z=="function"){p.callback=null,g=p.priorityLevel;var J=z(p.expirationTime<=V);V=e.unstable_now(),typeof J=="function"?p.callback=J:p===r(u)&&n(u),E(V)}else n(u);p=r(u)}if(p!==null)var le=!0;else{var se=r(h);se!==null&&q(C,se.startTime-V),le=!1}return le}finally{p=null,g=Q,v=!1}}var k=!1,A=null,P=-1,O=5,I=-1;function D(){return!(e.unstable_now()-I<O)}function L(){if(A!==null){var M=e.unstable_now();I=M;var V=!0;try{V=A(!0,M)}finally{V?F():(k=!1,A=null)}}else k=!1}var F;if(typeof N=="function")F=function(){N(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=L,F=function(){K.postMessage(null)}}else F=function(){x(L,0)};function U(M){A=M,k||(k=!0,F())}function q(M,V){P=x(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,U(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var Q=g;g=V;try{return M()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=g;g=M;try{return V()}finally{g=Q}},e.unstable_scheduleCallback=function(M,V,Q){var z=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,M={id:f++,callback:V,priorityLevel:M,startTime:Q,expirationTime:J,sortIndex:-1},Q>z?(M.sortIndex=Q,t(h,M),r(u)===null&&M===r(h)&&(y?(_(P),P=-1):y=!0,q(C,Q-z))):(M.sortIndex=J,t(u,M),b||v||(b=!0,U(S))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var V=g;return function(){var Q=g;g=V;try{return M.apply(this,arguments)}finally{g=Q}}}})(v0)),v0}var jA;function _z(){return jA||(jA=1,y0.exports=Nz()),y0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function Sz(){if(NA)return yn;NA=1;var e=m_(),t=_z();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(a[c]=d,c=0;c<d.length;c++)n.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(c){return u.call(p,c)?!0:u.call(f,c)?!1:h.test(c)?p[c]=!0:(f[c]=!0,!1)}function v(c,d,m,j){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:m!==null?!m.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,d,m,j){if(d===null||typeof d>"u"||v(c,d,m,j))return!0;if(j)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(c,d,m,j,T,R,$){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=T,this.mustUseProperty=m,this.propertyName=c,this.type=d,this.sanitizeURL=R,this.removeEmptyString=$}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){x[c]=new y(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];x[d]=new y(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){x[c]=new y(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){x[c]=new y(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){x[c]=new y(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){x[c]=new y(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){x[c]=new y(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){x[c]=new y(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){x[c]=new y(c,5,!1,c.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(_,N);x[d]=new y(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(_,N);x[d]=new y(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(_,N);x[d]=new y(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){x[c]=new y(c,1,!1,c.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){x[c]=new y(c,1,!1,c.toLowerCase(),null,!0,!0)});function E(c,d,m,j){var T=x.hasOwnProperty(d)?x[d]:null;(T!==null?T.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,m,T,j)&&(m=null),j||T===null?g(d)&&(m===null?c.removeAttribute(d):c.setAttribute(d,""+m)):T.mustUseProperty?c[T.propertyName]=m===null?T.type===3?!1:"":m:(d=T.attributeName,j=T.attributeNamespace,m===null?c.removeAttribute(d):(T=T.type,m=T===3||T===4&&m===!0?"":""+m,j?c.setAttributeNS(j,d,m):c.setAttribute(d,m))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),M=Symbol.iterator;function V(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var Q=Object.assign,z;function J(c){if(z===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);z=d&&d[1]||""}return`
`+z+c}var le=!1;function se(c,d){if(!c||le)return"";le=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(de){var j=de}Reflect.construct(c,[],d)}else{try{d.call()}catch(de){j=de}c.call(d.prototype)}else{try{throw Error()}catch(de){j=de}c()}}catch(de){if(de&&j&&typeof de.stack=="string"){for(var T=de.stack.split(`
`),R=j.stack.split(`
`),$=T.length-1,H=R.length-1;1<=$&&0<=H&&T[$]!==R[H];)H--;for(;1<=$&&0<=H;$--,H--)if(T[$]!==R[H]){if($!==1||H!==1)do if($--,H--,0>H||T[$]!==R[H]){var Z=`
`+T[$].replace(" at new "," at ");return c.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",c.displayName)),Z}while(1<=$&&0<=H);break}}}finally{le=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?J(c):""}function xe(c){switch(c.tag){case 5:return J(c.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return c=se(c.type,!1),c;case 11:return c=se(c.type.render,!1),c;case 1:return c=se(c.type,!0),c;default:return""}}function X(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case A:return"Fragment";case k:return"Portal";case O:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case D:return(c.displayName||"Context")+".Consumer";case I:return(c._context.displayName||"Context")+".Provider";case L:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case K:return d=c.displayName||null,d!==null?d:X(c.type)||"Memo";case U:d=c._payload,c=c._init;try{return X(c(d))}catch{}}return null}function re(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(d);case 8:return d===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function me(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function fe(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ye(c){var d=fe(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),j=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,R=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return T.call(this)},set:function($){j=""+$,R.call(this,$)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return j},setValue:function($){j=""+$},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function ve(c){c._valueTracker||(c._valueTracker=ye(c))}function ce(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),j="";return c&&(j=fe(c)?c.checked?"true":"false":c.value),c=j,c!==m?(d.setValue(c),!0):!1}function Oe(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ie(c,d){var m=d.checked;return Q({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??c._wrapperState.initialChecked})}function it(c,d){var m=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;m=me(d.value!=null?d.value:m),c._wrapperState={initialChecked:j,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function at(c,d){d=d.checked,d!=null&&E(c,"checked",d,!1)}function lt(c,d){at(c,d);var m=me(d.value),j=d.type;if(m!=null)j==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+m):c.value!==""+m&&(c.value=""+m);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?zt(c,d.type,m):d.hasOwnProperty("defaultValue")&&zt(c,d.type,me(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Mt(c,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,m||d===c.value||(c.value=d),c.defaultValue=d}m=c.name,m!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,m!==""&&(c.name=m)}function zt(c,d,m){(d!=="number"||Oe(c.ownerDocument)!==c)&&(m==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+m&&(c.defaultValue=""+m))}var Vt=Array.isArray;function xt(c,d,m,j){if(c=c.options,d){d={};for(var T=0;T<m.length;T++)d["$"+m[T]]=!0;for(m=0;m<c.length;m++)T=d.hasOwnProperty("$"+c[m].value),c[m].selected!==T&&(c[m].selected=T),T&&j&&(c[m].defaultSelected=!0)}else{for(m=""+me(m),d=null,T=0;T<c.length;T++){if(c[T].value===m){c[T].selected=!0,j&&(c[T].defaultSelected=!0);return}d!==null||c[T].disabled||(d=c[T])}d!==null&&(d.selected=!0)}}function ht(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function kt(c,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(r(92));if(Vt(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),m=d}c._wrapperState={initialValue:me(m)}}function $r(c,d){var m=me(d.value),j=me(d.defaultValue);m!=null&&(m=""+m,m!==c.value&&(c.value=m),d.defaultValue==null&&c.defaultValue!==m&&(c.defaultValue=m)),j!=null&&(c.defaultValue=""+j)}function qr(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function pe(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?pe(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var W,ie=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,j,T){MSApp.execUnsafeLocalFunction(function(){return c(d,m,j,T)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(W=W||document.createElement("div"),W.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=W.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function Ee(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(ue).forEach(function(c){Ve.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ue[d]=ue[c]})});function Yt(c,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||ue.hasOwnProperty(c)&&ue[c]?(""+d).trim():d+"px"}function ne(c,d){c=c.style;for(var m in d)if(d.hasOwnProperty(m)){var j=m.indexOf("--")===0,T=Yt(m,d[m],j);m==="float"&&(m="cssFloat"),j?c.setProperty(m,T):c[m]=T}}var be=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(c,d){if(d){if(be[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Nt(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dr=null;function Us(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Bs=null,Hn=null,zs=null;function zh(c){if(c=Nu(c)){if(typeof Bs!="function")throw Error(r(280));var d=c.stateNode;d&&(d=mf(d),Bs(c.stateNode,c.type,d))}}function Wh(c){Hn?zs?zs.push(c):zs=[c]:Hn=c}function qh(){if(Hn){var c=Hn,d=zs;if(zs=Hn=null,zh(c),d)for(c=0;c<d.length;c++)zh(d[c])}}function Vh(c,d){return c(d)}function ft(){}var Px=!1;function Fk(c,d,m){if(Px)return c(d,m);Px=!0;try{return Vh(c,d,m)}finally{Px=!1,(Hn!==null||zs!==null)&&(ft(),qh())}}function ru(c,d){var m=c.stateNode;if(m===null)return null;var j=mf(m);if(j===null)return null;m=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var Rx=!1;if(l)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{Rx=!1}function SB(c,d,m,j,T,R,$,H,Z){var de=Array.prototype.slice.call(arguments,3);try{d.apply(m,de)}catch(je){this.onError(je)}}var su=!1,Hh=null,Gh=!1,Ix=null,kB={onError:function(c){su=!0,Hh=c}};function EB(c,d,m,j,T,R,$,H,Z){su=!1,Hh=null,SB.apply(kB,arguments)}function AB(c,d,m,j,T,R,$,H,Z){if(EB.apply(this,arguments),su){if(su){var de=Hh;su=!1,Hh=null}else throw Error(r(198));Gh||(Gh=!0,Ix=de)}}function Hi(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function Uk(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function Bk(c){if(Hi(c)!==c)throw Error(r(188))}function TB(c){var d=c.alternate;if(!d){if(d=Hi(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,j=d;;){var T=m.return;if(T===null)break;var R=T.alternate;if(R===null){if(j=T.return,j!==null){m=j;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===m)return Bk(T),c;if(R===j)return Bk(T),d;R=R.sibling}throw Error(r(188))}if(m.return!==j.return)m=T,j=R;else{for(var $=!1,H=T.child;H;){if(H===m){$=!0,m=T,j=R;break}if(H===j){$=!0,j=T,m=R;break}H=H.sibling}if(!$){for(H=R.child;H;){if(H===m){$=!0,m=R,j=T;break}if(H===j){$=!0,j=R,m=T;break}H=H.sibling}if(!$)throw Error(r(189))}}if(m.alternate!==j)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function zk(c){return c=TB(c),c!==null?Wk(c):null}function Wk(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Wk(c);if(d!==null)return d;c=c.sibling}return null}var qk=t.unstable_scheduleCallback,Vk=t.unstable_cancelCallback,OB=t.unstable_shouldYield,CB=t.unstable_requestPaint,Qt=t.unstable_now,PB=t.unstable_getCurrentPriorityLevel,Dx=t.unstable_ImmediatePriority,Hk=t.unstable_UserBlockingPriority,Kh=t.unstable_NormalPriority,RB=t.unstable_LowPriority,Gk=t.unstable_IdlePriority,Yh=null,Ws=null;function IB(c){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Yh,c,void 0,(c.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:$B,DB=Math.log,MB=Math.LN2;function $B(c){return c>>>=0,c===0?32:31-(DB(c)/MB|0)|0}var Xh=64,Jh=4194304;function au(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Qh(c,d){var m=c.pendingLanes;if(m===0)return 0;var j=0,T=c.suspendedLanes,R=c.pingedLanes,$=m&268435455;if($!==0){var H=$&~T;H!==0?j=au(H):(R&=$,R!==0&&(j=au(R)))}else $=m&~T,$!==0?j=au($):R!==0&&(j=au(R));if(j===0)return 0;if(d!==0&&d!==j&&(d&T)===0&&(T=j&-j,R=d&-d,T>=R||T===16&&(R&4194240)!==0))return d;if((j&4)!==0&&(j|=m&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=j;0<d;)m=31-hs(d),T=1<<m,j|=c[m],d&=~T;return j}function LB(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FB(c,d){for(var m=c.suspendedLanes,j=c.pingedLanes,T=c.expirationTimes,R=c.pendingLanes;0<R;){var $=31-hs(R),H=1<<$,Z=T[$];Z===-1?((H&m)===0||(H&j)!==0)&&(T[$]=LB(H,d)):Z<=d&&(c.expiredLanes|=H),R&=~H}}function Mx(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Kk(){var c=Xh;return Xh<<=1,(Xh&4194240)===0&&(Xh=64),c}function $x(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function iu(c,d,m){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-hs(d),c[d]=m}function UB(c,d){var m=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<m;){var T=31-hs(m),R=1<<T;d[T]=0,j[T]=-1,c[T]=-1,m&=~R}}function Lx(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var j=31-hs(m),T=1<<j;T&d|c[j]&d&&(c[j]|=d),m&=~T}}var _t=0;function Yk(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Xk,Fx,Jk,Qk,Zk,Ux=!1,Zh=[],Ja=null,Qa=null,Za=null,ou=new Map,lu=new Map,ei=[],BB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e2(c,d){switch(c){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":ou.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(d.pointerId)}}function cu(c,d,m,j,T,R){return c===null||c.nativeEvent!==R?(c={blockedOn:d,domEventName:m,eventSystemFlags:j,nativeEvent:R,targetContainers:[T]},d!==null&&(d=Nu(d),d!==null&&Fx(d)),c):(c.eventSystemFlags|=j,d=c.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),c)}function zB(c,d,m,j,T){switch(d){case"focusin":return Ja=cu(Ja,c,d,m,j,T),!0;case"dragenter":return Qa=cu(Qa,c,d,m,j,T),!0;case"mouseover":return Za=cu(Za,c,d,m,j,T),!0;case"pointerover":var R=T.pointerId;return ou.set(R,cu(ou.get(R)||null,c,d,m,j,T)),!0;case"gotpointercapture":return R=T.pointerId,lu.set(R,cu(lu.get(R)||null,c,d,m,j,T)),!0}return!1}function t2(c){var d=Gi(c.target);if(d!==null){var m=Hi(d);if(m!==null){if(d=m.tag,d===13){if(d=Uk(m),d!==null){c.blockedOn=d,Zk(c.priority,function(){Jk(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function ef(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=zx(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(m===null){m=c.nativeEvent;var j=new m.constructor(m.type,m);dr=j,m.target.dispatchEvent(j),dr=null}else return d=Nu(m),d!==null&&Fx(d),c.blockedOn=m,!1;d.shift()}return!0}function r2(c,d,m){ef(c)&&m.delete(d)}function WB(){Ux=!1,Ja!==null&&ef(Ja)&&(Ja=null),Qa!==null&&ef(Qa)&&(Qa=null),Za!==null&&ef(Za)&&(Za=null),ou.forEach(r2),lu.forEach(r2)}function uu(c,d){c.blockedOn===d&&(c.blockedOn=null,Ux||(Ux=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WB)))}function du(c){function d(T){return uu(T,c)}if(0<Zh.length){uu(Zh[0],c);for(var m=1;m<Zh.length;m++){var j=Zh[m];j.blockedOn===c&&(j.blockedOn=null)}}for(Ja!==null&&uu(Ja,c),Qa!==null&&uu(Qa,c),Za!==null&&uu(Za,c),ou.forEach(d),lu.forEach(d),m=0;m<ei.length;m++)j=ei[m],j.blockedOn===c&&(j.blockedOn=null);for(;0<ei.length&&(m=ei[0],m.blockedOn===null);)t2(m),m.blockedOn===null&&ei.shift()}var rl=C.ReactCurrentBatchConfig,tf=!0;function qB(c,d,m,j){var T=_t,R=rl.transition;rl.transition=null;try{_t=1,Bx(c,d,m,j)}finally{_t=T,rl.transition=R}}function VB(c,d,m,j){var T=_t,R=rl.transition;rl.transition=null;try{_t=4,Bx(c,d,m,j)}finally{_t=T,rl.transition=R}}function Bx(c,d,m,j){if(tf){var T=zx(c,d,m,j);if(T===null)ay(c,d,j,rf,m),e2(c,j);else if(zB(T,c,d,m,j))j.stopPropagation();else if(e2(c,j),d&4&&-1<BB.indexOf(c)){for(;T!==null;){var R=Nu(T);if(R!==null&&Xk(R),R=zx(c,d,m,j),R===null&&ay(c,d,j,rf,m),R===T)break;T=R}T!==null&&j.stopPropagation()}else ay(c,d,j,null,m)}}var rf=null;function zx(c,d,m,j){if(rf=null,c=Us(j),c=Gi(c),c!==null)if(d=Hi(c),d===null)c=null;else if(m=d.tag,m===13){if(c=Uk(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return rf=c,null}function n2(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PB()){case Dx:return 1;case Hk:return 4;case Kh:case RB:return 16;case Gk:return 536870912;default:return 16}default:return 16}}var ti=null,Wx=null,nf=null;function s2(){if(nf)return nf;var c,d=Wx,m=d.length,j,T="value"in ti?ti.value:ti.textContent,R=T.length;for(c=0;c<m&&d[c]===T[c];c++);var $=m-c;for(j=1;j<=$&&d[m-j]===T[R-j];j++);return nf=T.slice(c,1<j?1-j:void 0)}function sf(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function af(){return!0}function a2(){return!1}function kn(c){function d(m,j,T,R,$){this._reactName=m,this._targetInst=T,this.type=j,this.nativeEvent=R,this.target=$,this.currentTarget=null;for(var H in c)c.hasOwnProperty(H)&&(m=c[H],this[H]=m?m(R):R[H]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?af:a2,this.isPropagationStopped=a2,this}return Q(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=af)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=af)},persist:function(){},isPersistent:af}),d}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qx=kn(nl),hu=Q({},nl,{view:0,detail:0}),HB=kn(hu),Vx,Hx,fu,of=Q({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kx,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==fu&&(fu&&c.type==="mousemove"?(Vx=c.screenX-fu.screenX,Hx=c.screenY-fu.screenY):Hx=Vx=0,fu=c),Vx)},movementY:function(c){return"movementY"in c?c.movementY:Hx}}),i2=kn(of),GB=Q({},of,{dataTransfer:0}),KB=kn(GB),YB=Q({},hu,{relatedTarget:0}),Gx=kn(YB),XB=Q({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),JB=kn(XB),QB=Q({},nl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),ZB=kn(QB),e7=Q({},nl,{data:0}),o2=kn(e7),t7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s7(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=n7[c])?!!d[c]:!1}function Kx(){return s7}var a7=Q({},hu,{key:function(c){if(c.key){var d=t7[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=sf(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?r7[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kx,charCode:function(c){return c.type==="keypress"?sf(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?sf(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),i7=kn(a7),o7=Q({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l2=kn(o7),l7=Q({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kx}),c7=kn(l7),u7=Q({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),d7=kn(u7),h7=Q({},of,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),f7=kn(h7),p7=[9,13,27,32],Yx=l&&"CompositionEvent"in window,pu=null;l&&"documentMode"in document&&(pu=document.documentMode);var m7=l&&"TextEvent"in window&&!pu,c2=l&&(!Yx||pu&&8<pu&&11>=pu),u2=" ",d2=!1;function h2(c,d){switch(c){case"keyup":return p7.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f2(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sl=!1;function g7(c,d){switch(c){case"compositionend":return f2(d);case"keypress":return d.which!==32?null:(d2=!0,u2);case"textInput":return c=d.data,c===u2&&d2?null:c;default:return null}}function x7(c,d){if(sl)return c==="compositionend"||!Yx&&h2(c,d)?(c=s2(),nf=Wx=ti=null,sl=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return c2&&d.locale!=="ko"?null:d.data;default:return null}}var y7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p2(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!y7[c.type]:d==="textarea"}function m2(c,d,m,j){Wh(j),d=hf(d,"onChange"),0<d.length&&(m=new qx("onChange","change",null,m,j),c.push({event:m,listeners:d}))}var mu=null,gu=null;function v7(c){R2(c,0)}function lf(c){var d=cl(c);if(ce(d))return c}function b7(c,d){if(c==="change")return d}var g2=!1;if(l){var Xx;if(l){var Jx="oninput"in document;if(!Jx){var x2=document.createElement("div");x2.setAttribute("oninput","return;"),Jx=typeof x2.oninput=="function"}Xx=Jx}else Xx=!1;g2=Xx&&(!document.documentMode||9<document.documentMode)}function y2(){mu&&(mu.detachEvent("onpropertychange",v2),gu=mu=null)}function v2(c){if(c.propertyName==="value"&&lf(gu)){var d=[];m2(d,gu,c,Us(c)),Fk(v7,d)}}function w7(c,d,m){c==="focusin"?(y2(),mu=d,gu=m,mu.attachEvent("onpropertychange",v2)):c==="focusout"&&y2()}function j7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return lf(gu)}function N7(c,d){if(c==="click")return lf(d)}function _7(c,d){if(c==="input"||c==="change")return lf(d)}function S7(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var fs=typeof Object.is=="function"?Object.is:S7;function xu(c,d){if(fs(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),j=Object.keys(d);if(m.length!==j.length)return!1;for(j=0;j<m.length;j++){var T=m[j];if(!u.call(d,T)||!fs(c[T],d[T]))return!1}return!0}function b2(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function w2(c,d){var m=b2(c);c=0;for(var j;m;){if(m.nodeType===3){if(j=c+m.textContent.length,c<=d&&j>=d)return{node:m,offset:d-c};c=j}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=b2(m)}}function j2(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?j2(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function N2(){for(var c=window,d=Oe();d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=Oe(c.document)}return d}function Qx(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function k7(c){var d=N2(),m=c.focusedElem,j=c.selectionRange;if(d!==m&&m&&m.ownerDocument&&j2(m.ownerDocument.documentElement,m)){if(j!==null&&Qx(m)){if(d=j.start,c=j.end,c===void 0&&(c=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(c,m.value.length);else if(c=(d=m.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var T=m.textContent.length,R=Math.min(j.start,T);j=j.end===void 0?R:Math.min(j.end,T),!c.extend&&R>j&&(T=j,j=R,R=T),T=w2(m,R);var $=w2(m,j);T&&$&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==$.node||c.focusOffset!==$.offset)&&(d=d.createRange(),d.setStart(T.node,T.offset),c.removeAllRanges(),R>j?(c.addRange(d),c.extend($.node,$.offset)):(d.setEnd($.node,$.offset),c.addRange(d)))}}for(d=[],c=m;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)c=d[m],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var E7=l&&"documentMode"in document&&11>=document.documentMode,al=null,Zx=null,yu=null,ey=!1;function _2(c,d,m){var j=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ey||al==null||al!==Oe(j)||(j=al,"selectionStart"in j&&Qx(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),yu&&xu(yu,j)||(yu=j,j=hf(Zx,"onSelect"),0<j.length&&(d=new qx("onSelect","select",null,d,m),c.push({event:d,listeners:j}),d.target=al)))}function cf(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var il={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},ty={},S2={};l&&(S2=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function uf(c){if(ty[c])return ty[c];if(!il[c])return c;var d=il[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in S2)return ty[c]=d[m];return c}var k2=uf("animationend"),E2=uf("animationiteration"),A2=uf("animationstart"),T2=uf("transitionend"),O2=new Map,C2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(c,d){O2.set(c,d),i(d,[c])}for(var ry=0;ry<C2.length;ry++){var ny=C2[ry],A7=ny.toLowerCase(),T7=ny[0].toUpperCase()+ny.slice(1);ri(A7,"on"+T7)}ri(k2,"onAnimationEnd"),ri(E2,"onAnimationIteration"),ri(A2,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(T2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O7=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function P2(c,d,m){var j=c.type||"unknown-event";c.currentTarget=m,AB(j,d,void 0,c),c.currentTarget=null}function R2(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var j=c[m],T=j.event;j=j.listeners;e:{var R=void 0;if(d)for(var $=j.length-1;0<=$;$--){var H=j[$],Z=H.instance,de=H.currentTarget;if(H=H.listener,Z!==R&&T.isPropagationStopped())break e;P2(T,H,de),R=Z}else for($=0;$<j.length;$++){if(H=j[$],Z=H.instance,de=H.currentTarget,H=H.listener,Z!==R&&T.isPropagationStopped())break e;P2(T,H,de),R=Z}}}if(Gh)throw c=Ix,Gh=!1,Ix=null,c}function $t(c,d){var m=d[dy];m===void 0&&(m=d[dy]=new Set);var j=c+"__bubble";m.has(j)||(I2(d,c,2,!1),m.add(j))}function sy(c,d,m){var j=0;d&&(j|=4),I2(m,c,j,d)}var df="_reactListening"+Math.random().toString(36).slice(2);function bu(c){if(!c[df]){c[df]=!0,n.forEach(function(m){m!=="selectionchange"&&(O7.has(m)||sy(m,!1,c),sy(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[df]||(d[df]=!0,sy("selectionchange",!1,d))}}function I2(c,d,m,j){switch(n2(d)){case 1:var T=qB;break;case 4:T=VB;break;default:T=Bx}m=T.bind(null,d,m,c),T=void 0,!Rx||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),j?T!==void 0?c.addEventListener(d,m,{capture:!0,passive:T}):c.addEventListener(d,m,!0):T!==void 0?c.addEventListener(d,m,{passive:T}):c.addEventListener(d,m,!1)}function ay(c,d,m,j,T){var R=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var $=j.tag;if($===3||$===4){var H=j.stateNode.containerInfo;if(H===T||H.nodeType===8&&H.parentNode===T)break;if($===4)for($=j.return;$!==null;){var Z=$.tag;if((Z===3||Z===4)&&(Z=$.stateNode.containerInfo,Z===T||Z.nodeType===8&&Z.parentNode===T))return;$=$.return}for(;H!==null;){if($=Gi(H),$===null)return;if(Z=$.tag,Z===5||Z===6){j=R=$;continue e}H=H.parentNode}}j=j.return}Fk(function(){var de=R,je=Us(m),Ne=[];e:{var we=O2.get(c);if(we!==void 0){var Ae=qx,Me=c;switch(c){case"keypress":if(sf(m)===0)break e;case"keydown":case"keyup":Ae=i7;break;case"focusin":Me="focus",Ae=Gx;break;case"focusout":Me="blur",Ae=Gx;break;case"beforeblur":case"afterblur":Ae=Gx;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=i2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=KB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=c7;break;case k2:case E2:case A2:Ae=JB;break;case T2:Ae=d7;break;case"scroll":Ae=HB;break;case"wheel":Ae=f7;break;case"copy":case"cut":case"paste":Ae=ZB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=l2}var Fe=(d&4)!==0,Zt=!Fe&&c==="scroll",ae=Fe?we!==null?we+"Capture":null:we;Fe=[];for(var te=de,oe;te!==null;){oe=te;var ke=oe.stateNode;if(oe.tag===5&&ke!==null&&(oe=ke,ae!==null&&(ke=ru(te,ae),ke!=null&&Fe.push(wu(te,ke,oe)))),Zt)break;te=te.return}0<Fe.length&&(we=new Ae(we,Me,null,m,je),Ne.push({event:we,listeners:Fe}))}}if((d&7)===0){e:{if(we=c==="mouseover"||c==="pointerover",Ae=c==="mouseout"||c==="pointerout",we&&m!==dr&&(Me=m.relatedTarget||m.fromElement)&&(Gi(Me)||Me[ga]))break e;if((Ae||we)&&(we=je.window===je?je:(we=je.ownerDocument)?we.defaultView||we.parentWindow:window,Ae?(Me=m.relatedTarget||m.toElement,Ae=de,Me=Me?Gi(Me):null,Me!==null&&(Zt=Hi(Me),Me!==Zt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ae=null,Me=de),Ae!==Me)){if(Fe=i2,ke="onMouseLeave",ae="onMouseEnter",te="mouse",(c==="pointerout"||c==="pointerover")&&(Fe=l2,ke="onPointerLeave",ae="onPointerEnter",te="pointer"),Zt=Ae==null?we:cl(Ae),oe=Me==null?we:cl(Me),we=new Fe(ke,te+"leave",Ae,m,je),we.target=Zt,we.relatedTarget=oe,ke=null,Gi(je)===de&&(Fe=new Fe(ae,te+"enter",Me,m,je),Fe.target=oe,Fe.relatedTarget=Zt,ke=Fe),Zt=ke,Ae&&Me)t:{for(Fe=Ae,ae=Me,te=0,oe=Fe;oe;oe=ol(oe))te++;for(oe=0,ke=ae;ke;ke=ol(ke))oe++;for(;0<te-oe;)Fe=ol(Fe),te--;for(;0<oe-te;)ae=ol(ae),oe--;for(;te--;){if(Fe===ae||ae!==null&&Fe===ae.alternate)break t;Fe=ol(Fe),ae=ol(ae)}Fe=null}else Fe=null;Ae!==null&&D2(Ne,we,Ae,Fe,!1),Me!==null&&Zt!==null&&D2(Ne,Zt,Me,Fe,!0)}}e:{if(we=de?cl(de):window,Ae=we.nodeName&&we.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&we.type==="file")var Ue=b7;else if(p2(we))if(g2)Ue=_7;else{Ue=j7;var Ge=w7}else(Ae=we.nodeName)&&Ae.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Ue=N7);if(Ue&&(Ue=Ue(c,de))){m2(Ne,Ue,m,je);break e}Ge&&Ge(c,we,de),c==="focusout"&&(Ge=we._wrapperState)&&Ge.controlled&&we.type==="number"&&zt(we,"number",we.value)}switch(Ge=de?cl(de):window,c){case"focusin":(p2(Ge)||Ge.contentEditable==="true")&&(al=Ge,Zx=de,yu=null);break;case"focusout":yu=Zx=al=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,_2(Ne,m,je);break;case"selectionchange":if(E7)break;case"keydown":case"keyup":_2(Ne,m,je)}var Ke;if(Yx)e:{switch(c){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else sl?h2(c,m)&&(et="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(et="onCompositionStart");et&&(c2&&m.locale!=="ko"&&(sl||et!=="onCompositionStart"?et==="onCompositionEnd"&&sl&&(Ke=s2()):(ti=je,Wx="value"in ti?ti.value:ti.textContent,sl=!0)),Ge=hf(de,et),0<Ge.length&&(et=new o2(et,c,null,m,je),Ne.push({event:et,listeners:Ge}),Ke?et.data=Ke:(Ke=f2(m),Ke!==null&&(et.data=Ke)))),(Ke=m7?g7(c,m):x7(c,m))&&(de=hf(de,"onBeforeInput"),0<de.length&&(je=new o2("onBeforeInput","beforeinput",null,m,je),Ne.push({event:je,listeners:de}),je.data=Ke))}R2(Ne,d)})}function wu(c,d,m){return{instance:c,listener:d,currentTarget:m}}function hf(c,d){for(var m=d+"Capture",j=[];c!==null;){var T=c,R=T.stateNode;T.tag===5&&R!==null&&(T=R,R=ru(c,m),R!=null&&j.unshift(wu(c,R,T)),R=ru(c,d),R!=null&&j.push(wu(c,R,T))),c=c.return}return j}function ol(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function D2(c,d,m,j,T){for(var R=d._reactName,$=[];m!==null&&m!==j;){var H=m,Z=H.alternate,de=H.stateNode;if(Z!==null&&Z===j)break;H.tag===5&&de!==null&&(H=de,T?(Z=ru(m,R),Z!=null&&$.unshift(wu(m,Z,H))):T||(Z=ru(m,R),Z!=null&&$.push(wu(m,Z,H)))),m=m.return}$.length!==0&&c.push({event:d,listeners:$})}var C7=/\r\n?/g,P7=/\u0000|\uFFFD/g;function M2(c){return(typeof c=="string"?c:""+c).replace(C7,`
`).replace(P7,"")}function ff(c,d,m){if(d=M2(d),M2(c)!==d&&m)throw Error(r(425))}function pf(){}var iy=null,oy=null;function ly(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var cy=typeof setTimeout=="function"?setTimeout:void 0,R7=typeof clearTimeout=="function"?clearTimeout:void 0,$2=typeof Promise=="function"?Promise:void 0,I7=typeof queueMicrotask=="function"?queueMicrotask:typeof $2<"u"?function(c){return $2.resolve(null).then(c).catch(D7)}:cy;function D7(c){setTimeout(function(){throw c})}function uy(c,d){var m=d,j=0;do{var T=m.nextSibling;if(c.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(j===0){c.removeChild(T),du(d);return}j--}else m!=="$"&&m!=="$?"&&m!=="$!"||j++;m=T}while(m);du(d)}function ni(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function L2(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}var ll=Math.random().toString(36).slice(2),qs="__reactFiber$"+ll,ju="__reactProps$"+ll,ga="__reactContainer$"+ll,dy="__reactEvents$"+ll,M7="__reactListeners$"+ll,$7="__reactHandles$"+ll;function Gi(c){var d=c[qs];if(d)return d;for(var m=c.parentNode;m;){if(d=m[ga]||m[qs]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=L2(c);c!==null;){if(m=c[qs])return m;c=L2(c)}return d}c=m,m=c.parentNode}return null}function Nu(c){return c=c[qs]||c[ga],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function cl(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function mf(c){return c[ju]||null}var hy=[],ul=-1;function si(c){return{current:c}}function Lt(c){0>ul||(c.current=hy[ul],hy[ul]=null,ul--)}function Ot(c,d){ul++,hy[ul]=c.current,c.current=d}var ai={},Vr=si(ai),fn=si(!1),Ki=ai;function dl(c,d){var m=c.type.contextTypes;if(!m)return ai;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in m)T[R]=d[R];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=T),T}function pn(c){return c=c.childContextTypes,c!=null}function gf(){Lt(fn),Lt(Vr)}function F2(c,d,m){if(Vr.current!==ai)throw Error(r(168));Ot(Vr,d),Ot(fn,m)}function U2(c,d,m){var j=c.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return m;j=j.getChildContext();for(var T in j)if(!(T in d))throw Error(r(108,re(c)||"Unknown",T));return Q({},m,j)}function xf(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ai,Ki=Vr.current,Ot(Vr,c),Ot(fn,fn.current),!0}function B2(c,d,m){var j=c.stateNode;if(!j)throw Error(r(169));m?(c=U2(c,d,Ki),j.__reactInternalMemoizedMergedChildContext=c,Lt(fn),Lt(Vr),Ot(Vr,c)):Lt(fn),Ot(fn,m)}var xa=null,yf=!1,fy=!1;function z2(c){xa===null?xa=[c]:xa.push(c)}function L7(c){yf=!0,z2(c)}function ii(){if(!fy&&xa!==null){fy=!0;var c=0,d=_t;try{var m=xa;for(_t=1;c<m.length;c++){var j=m[c];do j=j(!0);while(j!==null)}xa=null,yf=!1}catch(T){throw xa!==null&&(xa=xa.slice(c+1)),qk(Dx,ii),T}finally{_t=d,fy=!1}}return null}var hl=[],fl=0,vf=null,bf=0,Gn=[],Kn=0,Yi=null,ya=1,va="";function Xi(c,d){hl[fl++]=bf,hl[fl++]=vf,vf=c,bf=d}function W2(c,d,m){Gn[Kn++]=ya,Gn[Kn++]=va,Gn[Kn++]=Yi,Yi=c;var j=ya;c=va;var T=32-hs(j)-1;j&=~(1<<T),m+=1;var R=32-hs(d)+T;if(30<R){var $=T-T%5;R=(j&(1<<$)-1).toString(32),j>>=$,T-=$,ya=1<<32-hs(d)+T|m<<T|j,va=R+c}else ya=1<<R|m<<T|j,va=c}function py(c){c.return!==null&&(Xi(c,1),W2(c,1,0))}function my(c){for(;c===vf;)vf=hl[--fl],hl[fl]=null,bf=hl[--fl],hl[fl]=null;for(;c===Yi;)Yi=Gn[--Kn],Gn[Kn]=null,va=Gn[--Kn],Gn[Kn]=null,ya=Gn[--Kn],Gn[Kn]=null}var En=null,An=null,Wt=!1,ps=null;function q2(c,d){var m=Qn(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=c,d=c.deletions,d===null?(c.deletions=[m],c.flags|=16):d.push(m)}function V2(c,d){switch(c.tag){case 5:var m=c.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,En=c,An=ni(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,En=c,An=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Yi!==null?{id:ya,overflow:va}:null,c.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Qn(18,null,null,0),m.stateNode=d,m.return=c,c.child=m,En=c,An=null,!0):!1;default:return!1}}function gy(c){return(c.mode&1)!==0&&(c.flags&128)===0}function xy(c){if(Wt){var d=An;if(d){var m=d;if(!V2(c,d)){if(gy(c))throw Error(r(418));d=ni(m.nextSibling);var j=En;d&&V2(c,d)?q2(j,m):(c.flags=c.flags&-4097|2,Wt=!1,En=c)}}else{if(gy(c))throw Error(r(418));c.flags=c.flags&-4097|2,Wt=!1,En=c}}}function H2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;En=c}function wf(c){if(c!==En)return!1;if(!Wt)return H2(c),Wt=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!ly(c.type,c.memoizedProps)),d&&(d=An)){if(gy(c))throw G2(),Error(r(418));for(;d;)q2(c,d),d=ni(d.nextSibling)}if(H2(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"){if(d===0){An=ni(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}c=c.nextSibling}An=null}}else An=En?ni(c.stateNode.nextSibling):null;return!0}function G2(){for(var c=An;c;)c=ni(c.nextSibling)}function pl(){An=En=null,Wt=!1}function yy(c){ps===null?ps=[c]:ps.push(c)}var F7=C.ReactCurrentBatchConfig;function _u(c,d,m){if(c=m.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var j=m.stateNode}if(!j)throw Error(r(147,c));var T=j,R=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function($){var H=T.refs;$===null?delete H[R]:H[R]=$},d._stringRef=R,d)}if(typeof c!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,c))}return c}function jf(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function K2(c){var d=c._init;return d(c._payload)}function Y2(c){function d(ae,te){if(c){var oe=ae.deletions;oe===null?(ae.deletions=[te],ae.flags|=16):oe.push(te)}}function m(ae,te){if(!c)return null;for(;te!==null;)d(ae,te),te=te.sibling;return null}function j(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function T(ae,te){return ae=pi(ae,te),ae.index=0,ae.sibling=null,ae}function R(ae,te,oe){return ae.index=oe,c?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<te?(ae.flags|=2,te):oe):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function $(ae){return c&&ae.alternate===null&&(ae.flags|=2),ae}function H(ae,te,oe,ke){return te===null||te.tag!==6?(te=c0(oe,ae.mode,ke),te.return=ae,te):(te=T(te,oe),te.return=ae,te)}function Z(ae,te,oe,ke){var Ue=oe.type;return Ue===A?je(ae,te,oe.props.children,ke,oe.key):te!==null&&(te.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===U&&K2(Ue)===te.type)?(ke=T(te,oe.props),ke.ref=_u(ae,te,oe),ke.return=ae,ke):(ke=Hf(oe.type,oe.key,oe.props,null,ae.mode,ke),ke.ref=_u(ae,te,oe),ke.return=ae,ke)}function de(ae,te,oe,ke){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=u0(oe,ae.mode,ke),te.return=ae,te):(te=T(te,oe.children||[]),te.return=ae,te)}function je(ae,te,oe,ke,Ue){return te===null||te.tag!==7?(te=so(oe,ae.mode,ke,Ue),te.return=ae,te):(te=T(te,oe),te.return=ae,te)}function Ne(ae,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=c0(""+te,ae.mode,oe),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return oe=Hf(te.type,te.key,te.props,null,ae.mode,oe),oe.ref=_u(ae,null,te),oe.return=ae,oe;case k:return te=u0(te,ae.mode,oe),te.return=ae,te;case U:var ke=te._init;return Ne(ae,ke(te._payload),oe)}if(Vt(te)||V(te))return te=so(te,ae.mode,oe,null),te.return=ae,te;jf(ae,te)}return null}function we(ae,te,oe,ke){var Ue=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ue!==null?null:H(ae,te,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return oe.key===Ue?Z(ae,te,oe,ke):null;case k:return oe.key===Ue?de(ae,te,oe,ke):null;case U:return Ue=oe._init,we(ae,te,Ue(oe._payload),ke)}if(Vt(oe)||V(oe))return Ue!==null?null:je(ae,te,oe,ke,null);jf(ae,oe)}return null}function Ae(ae,te,oe,ke,Ue){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ae=ae.get(oe)||null,H(te,ae,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case S:return ae=ae.get(ke.key===null?oe:ke.key)||null,Z(te,ae,ke,Ue);case k:return ae=ae.get(ke.key===null?oe:ke.key)||null,de(te,ae,ke,Ue);case U:var Ge=ke._init;return Ae(ae,te,oe,Ge(ke._payload),Ue)}if(Vt(ke)||V(ke))return ae=ae.get(oe)||null,je(te,ae,ke,Ue,null);jf(te,ke)}return null}function Me(ae,te,oe,ke){for(var Ue=null,Ge=null,Ke=te,et=te=0,Ar=null;Ke!==null&&et<oe.length;et++){Ke.index>et?(Ar=Ke,Ke=null):Ar=Ke.sibling;var yt=we(ae,Ke,oe[et],ke);if(yt===null){Ke===null&&(Ke=Ar);break}c&&Ke&&yt.alternate===null&&d(ae,Ke),te=R(yt,te,et),Ge===null?Ue=yt:Ge.sibling=yt,Ge=yt,Ke=Ar}if(et===oe.length)return m(ae,Ke),Wt&&Xi(ae,et),Ue;if(Ke===null){for(;et<oe.length;et++)Ke=Ne(ae,oe[et],ke),Ke!==null&&(te=R(Ke,te,et),Ge===null?Ue=Ke:Ge.sibling=Ke,Ge=Ke);return Wt&&Xi(ae,et),Ue}for(Ke=j(ae,Ke);et<oe.length;et++)Ar=Ae(Ke,ae,et,oe[et],ke),Ar!==null&&(c&&Ar.alternate!==null&&Ke.delete(Ar.key===null?et:Ar.key),te=R(Ar,te,et),Ge===null?Ue=Ar:Ge.sibling=Ar,Ge=Ar);return c&&Ke.forEach(function(mi){return d(ae,mi)}),Wt&&Xi(ae,et),Ue}function Fe(ae,te,oe,ke){var Ue=V(oe);if(typeof Ue!="function")throw Error(r(150));if(oe=Ue.call(oe),oe==null)throw Error(r(151));for(var Ge=Ue=null,Ke=te,et=te=0,Ar=null,yt=oe.next();Ke!==null&&!yt.done;et++,yt=oe.next()){Ke.index>et?(Ar=Ke,Ke=null):Ar=Ke.sibling;var mi=we(ae,Ke,yt.value,ke);if(mi===null){Ke===null&&(Ke=Ar);break}c&&Ke&&mi.alternate===null&&d(ae,Ke),te=R(mi,te,et),Ge===null?Ue=mi:Ge.sibling=mi,Ge=mi,Ke=Ar}if(yt.done)return m(ae,Ke),Wt&&Xi(ae,et),Ue;if(Ke===null){for(;!yt.done;et++,yt=oe.next())yt=Ne(ae,yt.value,ke),yt!==null&&(te=R(yt,te,et),Ge===null?Ue=yt:Ge.sibling=yt,Ge=yt);return Wt&&Xi(ae,et),Ue}for(Ke=j(ae,Ke);!yt.done;et++,yt=oe.next())yt=Ae(Ke,ae,et,yt.value,ke),yt!==null&&(c&&yt.alternate!==null&&Ke.delete(yt.key===null?et:yt.key),te=R(yt,te,et),Ge===null?Ue=yt:Ge.sibling=yt,Ge=yt);return c&&Ke.forEach(function(yz){return d(ae,yz)}),Wt&&Xi(ae,et),Ue}function Zt(ae,te,oe,ke){if(typeof oe=="object"&&oe!==null&&oe.type===A&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:e:{for(var Ue=oe.key,Ge=te;Ge!==null;){if(Ge.key===Ue){if(Ue=oe.type,Ue===A){if(Ge.tag===7){m(ae,Ge.sibling),te=T(Ge,oe.props.children),te.return=ae,ae=te;break e}}else if(Ge.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===U&&K2(Ue)===Ge.type){m(ae,Ge.sibling),te=T(Ge,oe.props),te.ref=_u(ae,Ge,oe),te.return=ae,ae=te;break e}m(ae,Ge);break}else d(ae,Ge);Ge=Ge.sibling}oe.type===A?(te=so(oe.props.children,ae.mode,ke,oe.key),te.return=ae,ae=te):(ke=Hf(oe.type,oe.key,oe.props,null,ae.mode,ke),ke.ref=_u(ae,te,oe),ke.return=ae,ae=ke)}return $(ae);case k:e:{for(Ge=oe.key;te!==null;){if(te.key===Ge)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){m(ae,te.sibling),te=T(te,oe.children||[]),te.return=ae,ae=te;break e}else{m(ae,te);break}else d(ae,te);te=te.sibling}te=u0(oe,ae.mode,ke),te.return=ae,ae=te}return $(ae);case U:return Ge=oe._init,Zt(ae,te,Ge(oe._payload),ke)}if(Vt(oe))return Me(ae,te,oe,ke);if(V(oe))return Fe(ae,te,oe,ke);jf(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(m(ae,te.sibling),te=T(te,oe),te.return=ae,ae=te):(m(ae,te),te=c0(oe,ae.mode,ke),te.return=ae,ae=te),$(ae)):m(ae,te)}return Zt}var ml=Y2(!0),X2=Y2(!1),Nf=si(null),_f=null,gl=null,vy=null;function by(){vy=gl=_f=null}function wy(c){var d=Nf.current;Lt(Nf),c._currentValue=d}function jy(c,d,m){for(;c!==null;){var j=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),c===m)break;c=c.return}}function xl(c,d){_f=c,vy=gl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(mn=!0),c.firstContext=null)}function Yn(c){var d=c._currentValue;if(vy!==c)if(c={context:c,memoizedValue:d,next:null},gl===null){if(_f===null)throw Error(r(308));gl=c,_f.dependencies={lanes:0,firstContext:c}}else gl=gl.next=c;return d}var Ji=null;function Ny(c){Ji===null?Ji=[c]:Ji.push(c)}function J2(c,d,m,j){var T=d.interleaved;return T===null?(m.next=m,Ny(d)):(m.next=T.next,T.next=m),d.interleaved=m,ba(c,j)}function ba(c,d){c.lanes|=d;var m=c.alternate;for(m!==null&&(m.lanes|=d),m=c,c=c.return;c!==null;)c.childLanes|=d,m=c.alternate,m!==null&&(m.childLanes|=d),m=c,c=c.return;return m.tag===3?m.stateNode:null}var oi=!1;function _y(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q2(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function wa(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function li(c,d,m){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(pt&2)!==0){var T=j.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),j.pending=d,ba(c,m)}return T=j.interleaved,T===null?(d.next=d,Ny(j)):(d.next=T.next,T.next=d),j.interleaved=d,ba(c,m)}function Sf(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var j=d.lanes;j&=c.pendingLanes,m|=j,d.lanes=m,Lx(c,m)}}function Z2(c,d){var m=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,m===j)){var T=null,R=null;if(m=m.firstBaseUpdate,m!==null){do{var $={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};R===null?T=R=$:R=R.next=$,m=m.next}while(m!==null);R===null?T=R=d:R=R.next=d}else T=R=d;m={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:j.shared,effects:j.effects},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}function kf(c,d,m,j){var T=c.updateQueue;oi=!1;var R=T.firstBaseUpdate,$=T.lastBaseUpdate,H=T.shared.pending;if(H!==null){T.shared.pending=null;var Z=H,de=Z.next;Z.next=null,$===null?R=de:$.next=de,$=Z;var je=c.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==$&&(H===null?je.firstBaseUpdate=de:H.next=de,je.lastBaseUpdate=Z))}if(R!==null){var Ne=T.baseState;$=0,je=de=Z=null,H=R;do{var we=H.lane,Ae=H.eventTime;if((j&we)===we){je!==null&&(je=je.next={eventTime:Ae,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Me=c,Fe=H;switch(we=d,Ae=m,Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){Ne=Me.call(Ae,Ne,we);break e}Ne=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,we=typeof Me=="function"?Me.call(Ae,Ne,we):Me,we==null)break e;Ne=Q({},Ne,we);break e;case 2:oi=!0}}H.callback!==null&&H.lane!==0&&(c.flags|=64,we=T.effects,we===null?T.effects=[H]:we.push(H))}else Ae={eventTime:Ae,lane:we,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(de=je=Ae,Z=Ne):je=je.next=Ae,$|=we;if(H=H.next,H===null){if(H=T.shared.pending,H===null)break;we=H,H=we.next,we.next=null,T.lastBaseUpdate=we,T.shared.pending=null}}while(!0);if(je===null&&(Z=Ne),T.baseState=Z,T.firstBaseUpdate=de,T.lastBaseUpdate=je,d=T.shared.interleaved,d!==null){T=d;do $|=T.lane,T=T.next;while(T!==d)}else R===null&&(T.shared.lanes=0);eo|=$,c.lanes=$,c.memoizedState=Ne}}function eE(c,d,m){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var j=c[d],T=j.callback;if(T!==null){if(j.callback=null,j=m,typeof T!="function")throw Error(r(191,T));T.call(j)}}}var Su={},Vs=si(Su),ku=si(Su),Eu=si(Su);function Qi(c){if(c===Su)throw Error(r(174));return c}function Sy(c,d){switch(Ot(Eu,d),Ot(ku,c),Ot(Vs,Su),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Y(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Y(d,c)}Lt(Vs),Ot(Vs,d)}function yl(){Lt(Vs),Lt(ku),Lt(Eu)}function tE(c){Qi(Eu.current);var d=Qi(Vs.current),m=Y(d,c.type);d!==m&&(Ot(ku,c),Ot(Vs,m))}function ky(c){ku.current===c&&(Lt(Vs),Lt(ku))}var Ht=si(0);function Ef(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ey=[];function Ay(){for(var c=0;c<Ey.length;c++)Ey[c]._workInProgressVersionPrimary=null;Ey.length=0}var Af=C.ReactCurrentDispatcher,Ty=C.ReactCurrentBatchConfig,Zi=0,Gt=null,hr=null,kr=null,Tf=!1,Au=!1,Tu=0,U7=0;function Hr(){throw Error(r(321))}function Oy(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!fs(c[m],d[m]))return!1;return!0}function Cy(c,d,m,j,T,R){if(Zi=R,Gt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Af.current=c===null||c.memoizedState===null?q7:V7,c=m(j,T),Au){R=0;do{if(Au=!1,Tu=0,25<=R)throw Error(r(301));R+=1,kr=hr=null,d.updateQueue=null,Af.current=H7,c=m(j,T)}while(Au)}if(Af.current=Pf,d=hr!==null&&hr.next!==null,Zi=0,kr=hr=Gt=null,Tf=!1,d)throw Error(r(300));return c}function Py(){var c=Tu!==0;return Tu=0,c}function Hs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Gt.memoizedState=kr=c:kr=kr.next=c,kr}function Xn(){if(hr===null){var c=Gt.alternate;c=c!==null?c.memoizedState:null}else c=hr.next;var d=kr===null?Gt.memoizedState:kr.next;if(d!==null)kr=d,hr=c;else{if(c===null)throw Error(r(310));hr=c,c={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},kr===null?Gt.memoizedState=kr=c:kr=kr.next=c}return kr}function Ou(c,d){return typeof d=="function"?d(c):d}function Ry(c){var d=Xn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var j=hr,T=j.baseQueue,R=m.pending;if(R!==null){if(T!==null){var $=T.next;T.next=R.next,R.next=$}j.baseQueue=T=R,m.pending=null}if(T!==null){R=T.next,j=j.baseState;var H=$=null,Z=null,de=R;do{var je=de.lane;if((Zi&je)===je)Z!==null&&(Z=Z.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),j=de.hasEagerState?de.eagerState:c(j,de.action);else{var Ne={lane:je,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Z===null?(H=Z=Ne,$=j):Z=Z.next=Ne,Gt.lanes|=je,eo|=je}de=de.next}while(de!==null&&de!==R);Z===null?$=j:Z.next=H,fs(j,d.memoizedState)||(mn=!0),d.memoizedState=j,d.baseState=$,d.baseQueue=Z,m.lastRenderedState=j}if(c=m.interleaved,c!==null){T=c;do R=T.lane,Gt.lanes|=R,eo|=R,T=T.next;while(T!==c)}else T===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Iy(c){var d=Xn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var j=m.dispatch,T=m.pending,R=d.memoizedState;if(T!==null){m.pending=null;var $=T=T.next;do R=c(R,$.action),$=$.next;while($!==T);fs(R,d.memoizedState)||(mn=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),m.lastRenderedState=R}return[R,j]}function rE(){}function nE(c,d){var m=Gt,j=Xn(),T=d(),R=!fs(j.memoizedState,T);if(R&&(j.memoizedState=T,mn=!0),j=j.queue,Dy(iE.bind(null,m,j,c),[c]),j.getSnapshot!==d||R||kr!==null&&kr.memoizedState.tag&1){if(m.flags|=2048,Cu(9,aE.bind(null,m,j,T,d),void 0,null),Er===null)throw Error(r(349));(Zi&30)!==0||sE(m,d,T)}return T}function sE(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Gt.updateQueue,d===null?(d={lastEffect:null,stores:null},Gt.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function aE(c,d,m,j){d.value=m,d.getSnapshot=j,oE(d)&&lE(c)}function iE(c,d,m){return m(function(){oE(d)&&lE(c)})}function oE(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!fs(c,m)}catch{return!0}}function lE(c){var d=ba(c,1);d!==null&&ys(d,c,1,-1)}function cE(c){var d=Hs();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:c},d.queue=c,c=c.dispatch=W7.bind(null,Gt,c),[d.memoizedState,c]}function Cu(c,d,m,j){return c={tag:c,create:d,destroy:m,deps:j,next:null},d=Gt.updateQueue,d===null?(d={lastEffect:null,stores:null},Gt.updateQueue=d,d.lastEffect=c.next=c):(m=d.lastEffect,m===null?d.lastEffect=c.next=c:(j=m.next,m.next=c,c.next=j,d.lastEffect=c)),c}function uE(){return Xn().memoizedState}function Of(c,d,m,j){var T=Hs();Gt.flags|=c,T.memoizedState=Cu(1|d,m,void 0,j===void 0?null:j)}function Cf(c,d,m,j){var T=Xn();j=j===void 0?null:j;var R=void 0;if(hr!==null){var $=hr.memoizedState;if(R=$.destroy,j!==null&&Oy(j,$.deps)){T.memoizedState=Cu(d,m,R,j);return}}Gt.flags|=c,T.memoizedState=Cu(1|d,m,R,j)}function dE(c,d){return Of(8390656,8,c,d)}function Dy(c,d){return Cf(2048,8,c,d)}function hE(c,d){return Cf(4,2,c,d)}function fE(c,d){return Cf(4,4,c,d)}function pE(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function mE(c,d,m){return m=m!=null?m.concat([c]):null,Cf(4,4,pE.bind(null,d,c),m)}function My(){}function gE(c,d){var m=Xn();d=d===void 0?null:d;var j=m.memoizedState;return j!==null&&d!==null&&Oy(d,j[1])?j[0]:(m.memoizedState=[c,d],c)}function xE(c,d){var m=Xn();d=d===void 0?null:d;var j=m.memoizedState;return j!==null&&d!==null&&Oy(d,j[1])?j[0]:(c=c(),m.memoizedState=[c,d],c)}function yE(c,d,m){return(Zi&21)===0?(c.baseState&&(c.baseState=!1,mn=!0),c.memoizedState=m):(fs(m,d)||(m=Kk(),Gt.lanes|=m,eo|=m,c.baseState=!0),d)}function B7(c,d){var m=_t;_t=m!==0&&4>m?m:4,c(!0);var j=Ty.transition;Ty.transition={};try{c(!1),d()}finally{_t=m,Ty.transition=j}}function vE(){return Xn().memoizedState}function z7(c,d,m){var j=hi(c);if(m={lane:j,action:m,hasEagerState:!1,eagerState:null,next:null},bE(c))wE(d,m);else if(m=J2(c,d,m,j),m!==null){var T=nn();ys(m,c,j,T),jE(m,d,j)}}function W7(c,d,m){var j=hi(c),T={lane:j,action:m,hasEagerState:!1,eagerState:null,next:null};if(bE(c))wE(d,T);else{var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var $=d.lastRenderedState,H=R($,m);if(T.hasEagerState=!0,T.eagerState=H,fs(H,$)){var Z=d.interleaved;Z===null?(T.next=T,Ny(d)):(T.next=Z.next,Z.next=T),d.interleaved=T;return}}catch{}finally{}m=J2(c,d,T,j),m!==null&&(T=nn(),ys(m,c,j,T),jE(m,d,j))}}function bE(c){var d=c.alternate;return c===Gt||d!==null&&d===Gt}function wE(c,d){Au=Tf=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function jE(c,d,m){if((m&4194240)!==0){var j=d.lanes;j&=c.pendingLanes,m|=j,d.lanes=m,Lx(c,m)}}var Pf={readContext:Yn,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},q7={readContext:Yn,useCallback:function(c,d){return Hs().memoizedState=[c,d===void 0?null:d],c},useContext:Yn,useEffect:dE,useImperativeHandle:function(c,d,m){return m=m!=null?m.concat([c]):null,Of(4194308,4,pE.bind(null,d,c),m)},useLayoutEffect:function(c,d){return Of(4194308,4,c,d)},useInsertionEffect:function(c,d){return Of(4,2,c,d)},useMemo:function(c,d){var m=Hs();return d=d===void 0?null:d,c=c(),m.memoizedState=[c,d],c},useReducer:function(c,d,m){var j=Hs();return d=m!==void 0?m(d):d,j.memoizedState=j.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},j.queue=c,c=c.dispatch=z7.bind(null,Gt,c),[j.memoizedState,c]},useRef:function(c){var d=Hs();return c={current:c},d.memoizedState=c},useState:cE,useDebugValue:My,useDeferredValue:function(c){return Hs().memoizedState=c},useTransition:function(){var c=cE(!1),d=c[0];return c=B7.bind(null,c[1]),Hs().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,m){var j=Gt,T=Hs();if(Wt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),Er===null)throw Error(r(349));(Zi&30)!==0||sE(j,d,m)}T.memoizedState=m;var R={value:m,getSnapshot:d};return T.queue=R,dE(iE.bind(null,j,R,c),[c]),j.flags|=2048,Cu(9,aE.bind(null,j,R,m,d),void 0,null),m},useId:function(){var c=Hs(),d=Er.identifierPrefix;if(Wt){var m=va,j=ya;m=(j&~(1<<32-hs(j)-1)).toString(32)+m,d=":"+d+"R"+m,m=Tu++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=U7++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},V7={readContext:Yn,useCallback:gE,useContext:Yn,useEffect:Dy,useImperativeHandle:mE,useInsertionEffect:hE,useLayoutEffect:fE,useMemo:xE,useReducer:Ry,useRef:uE,useState:function(){return Ry(Ou)},useDebugValue:My,useDeferredValue:function(c){var d=Xn();return yE(d,hr.memoizedState,c)},useTransition:function(){var c=Ry(Ou)[0],d=Xn().memoizedState;return[c,d]},useMutableSource:rE,useSyncExternalStore:nE,useId:vE,unstable_isNewReconciler:!1},H7={readContext:Yn,useCallback:gE,useContext:Yn,useEffect:Dy,useImperativeHandle:mE,useInsertionEffect:hE,useLayoutEffect:fE,useMemo:xE,useReducer:Iy,useRef:uE,useState:function(){return Iy(Ou)},useDebugValue:My,useDeferredValue:function(c){var d=Xn();return hr===null?d.memoizedState=c:yE(d,hr.memoizedState,c)},useTransition:function(){var c=Iy(Ou)[0],d=Xn().memoizedState;return[c,d]},useMutableSource:rE,useSyncExternalStore:nE,useId:vE,unstable_isNewReconciler:!1};function ms(c,d){if(c&&c.defaultProps){d=Q({},d),c=c.defaultProps;for(var m in c)d[m]===void 0&&(d[m]=c[m]);return d}return d}function $y(c,d,m,j){d=c.memoizedState,m=m(j,d),m=m==null?d:Q({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Rf={isMounted:function(c){return(c=c._reactInternals)?Hi(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var j=nn(),T=hi(c),R=wa(j,T);R.payload=d,m!=null&&(R.callback=m),d=li(c,R,T),d!==null&&(ys(d,c,T,j),Sf(d,c,T))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var j=nn(),T=hi(c),R=wa(j,T);R.tag=1,R.payload=d,m!=null&&(R.callback=m),d=li(c,R,T),d!==null&&(ys(d,c,T,j),Sf(d,c,T))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=nn(),j=hi(c),T=wa(m,j);T.tag=2,d!=null&&(T.callback=d),d=li(c,T,j),d!==null&&(ys(d,c,j,m),Sf(d,c,j))}};function NE(c,d,m,j,T,R,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,R,$):d.prototype&&d.prototype.isPureReactComponent?!xu(m,j)||!xu(T,R):!0}function _E(c,d,m){var j=!1,T=ai,R=d.contextType;return typeof R=="object"&&R!==null?R=Yn(R):(T=pn(d)?Ki:Vr.current,j=d.contextTypes,R=(j=j!=null)?dl(c,T):ai),d=new d(m,R),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rf,c.stateNode=d,d._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=R),d}function SE(c,d,m,j){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,j),d.state!==c&&Rf.enqueueReplaceState(d,d.state,null)}function Ly(c,d,m,j){var T=c.stateNode;T.props=m,T.state=c.memoizedState,T.refs={},_y(c);var R=d.contextType;typeof R=="object"&&R!==null?T.context=Yn(R):(R=pn(d)?Ki:Vr.current,T.context=dl(c,R)),T.state=c.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&($y(c,d,R,m),T.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&Rf.enqueueReplaceState(T,T.state,null),kf(c,m,T,j),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}function vl(c,d){try{var m="",j=d;do m+=xe(j),j=j.return;while(j);var T=m}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:c,source:d,stack:T,digest:null}}function Fy(c,d,m){return{value:c,source:null,stack:m??null,digest:d??null}}function Uy(c,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var G7=typeof WeakMap=="function"?WeakMap:Map;function kE(c,d,m){m=wa(-1,m),m.tag=3,m.payload={element:null};var j=d.value;return m.callback=function(){Uf||(Uf=!0,t0=j),Uy(c,d)},m}function EE(c,d,m){m=wa(-1,m),m.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var T=d.value;m.payload=function(){return j(T)},m.callback=function(){Uy(c,d)}}var R=c.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(m.callback=function(){Uy(c,d),typeof j!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var $=d.stack;this.componentDidCatch(d.value,{componentStack:$!==null?$:""})}),m}function AE(c,d,m){var j=c.pingCache;if(j===null){j=c.pingCache=new G7;var T=new Set;j.set(d,T)}else T=j.get(d),T===void 0&&(T=new Set,j.set(d,T));T.has(m)||(T.add(m),c=oz.bind(null,c,d,m),d.then(c,c))}function TE(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function OE(c,d,m,j,T){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=wa(-1,1),d.tag=2,li(m,d,1))),m.lanes|=1),c):(c.flags|=65536,c.lanes=T,c)}var K7=C.ReactCurrentOwner,mn=!1;function rn(c,d,m,j){d.child=c===null?X2(d,null,m,j):ml(d,c.child,m,j)}function CE(c,d,m,j,T){m=m.render;var R=d.ref;return xl(d,T),j=Cy(c,d,m,j,R,T),m=Py(),c!==null&&!mn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,ja(c,d,T)):(Wt&&m&&py(d),d.flags|=1,rn(c,d,j,T),d.child)}function PE(c,d,m,j,T){if(c===null){var R=m.type;return typeof R=="function"&&!l0(R)&&R.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=R,RE(c,d,R,j,T)):(c=Hf(m.type,null,j,d,d.mode,T),c.ref=d.ref,c.return=d,d.child=c)}if(R=c.child,(c.lanes&T)===0){var $=R.memoizedProps;if(m=m.compare,m=m!==null?m:xu,m($,j)&&c.ref===d.ref)return ja(c,d,T)}return d.flags|=1,c=pi(R,j),c.ref=d.ref,c.return=d,d.child=c}function RE(c,d,m,j,T){if(c!==null){var R=c.memoizedProps;if(xu(R,j)&&c.ref===d.ref)if(mn=!1,d.pendingProps=j=R,(c.lanes&T)!==0)(c.flags&131072)!==0&&(mn=!0);else return d.lanes=c.lanes,ja(c,d,T)}return By(c,d,m,j,T)}function IE(c,d,m){var j=d.pendingProps,T=j.children,R=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(wl,Tn),Tn|=m;else{if((m&1073741824)===0)return c=R!==null?R.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Ot(wl,Tn),Tn|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=R!==null?R.baseLanes:m,Ot(wl,Tn),Tn|=j}else R!==null?(j=R.baseLanes|m,d.memoizedState=null):j=m,Ot(wl,Tn),Tn|=j;return rn(c,d,T,m),d.child}function DE(c,d){var m=d.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function By(c,d,m,j,T){var R=pn(m)?Ki:Vr.current;return R=dl(d,R),xl(d,T),m=Cy(c,d,m,j,R,T),j=Py(),c!==null&&!mn?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,ja(c,d,T)):(Wt&&j&&py(d),d.flags|=1,rn(c,d,m,T),d.child)}function ME(c,d,m,j,T){if(pn(m)){var R=!0;xf(d)}else R=!1;if(xl(d,T),d.stateNode===null)Df(c,d),_E(d,m,j),Ly(d,m,j,T),j=!0;else if(c===null){var $=d.stateNode,H=d.memoizedProps;$.props=H;var Z=$.context,de=m.contextType;typeof de=="object"&&de!==null?de=Yn(de):(de=pn(m)?Ki:Vr.current,de=dl(d,de));var je=m.getDerivedStateFromProps,Ne=typeof je=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ne||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==j||Z!==de)&&SE(d,$,j,de),oi=!1;var we=d.memoizedState;$.state=we,kf(d,j,$,T),Z=d.memoizedState,H!==j||we!==Z||fn.current||oi?(typeof je=="function"&&($y(d,m,je,j),Z=d.memoizedState),(H=oi||NE(d,m,H,j,we,Z,de))?(Ne||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(d.flags|=4194308)):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=Z),$.props=j,$.state=Z,$.context=de,j=H):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{$=d.stateNode,Q2(c,d),H=d.memoizedProps,de=d.type===d.elementType?H:ms(d.type,H),$.props=de,Ne=d.pendingProps,we=$.context,Z=m.contextType,typeof Z=="object"&&Z!==null?Z=Yn(Z):(Z=pn(m)?Ki:Vr.current,Z=dl(d,Z));var Ae=m.getDerivedStateFromProps;(je=typeof Ae=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(H!==Ne||we!==Z)&&SE(d,$,j,Z),oi=!1,we=d.memoizedState,$.state=we,kf(d,j,$,T);var Me=d.memoizedState;H!==Ne||we!==Me||fn.current||oi?(typeof Ae=="function"&&($y(d,m,Ae,j),Me=d.memoizedState),(de=oi||NE(d,m,de,j,we,Me,Z)||!1)?(je||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(j,Me,Z),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(j,Me,Z)),typeof $.componentDidUpdate=="function"&&(d.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof $.componentDidUpdate!="function"||H===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=Me),$.props=j,$.state=Me,$.context=Z,j=de):(typeof $.componentDidUpdate!="function"||H===c.memoizedProps&&we===c.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&we===c.memoizedState||(d.flags|=1024),j=!1)}return zy(c,d,m,j,R,T)}function zy(c,d,m,j,T,R){DE(c,d);var $=(d.flags&128)!==0;if(!j&&!$)return T&&B2(d,m,!1),ja(c,d,R);j=d.stateNode,K7.current=d;var H=$&&typeof m.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,c!==null&&$?(d.child=ml(d,c.child,null,R),d.child=ml(d,null,H,R)):rn(c,d,H,R),d.memoizedState=j.state,T&&B2(d,m,!0),d.child}function $E(c){var d=c.stateNode;d.pendingContext?F2(c,d.pendingContext,d.pendingContext!==d.context):d.context&&F2(c,d.context,!1),Sy(c,d.containerInfo)}function LE(c,d,m,j,T){return pl(),yy(T),d.flags|=256,rn(c,d,m,j),d.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function qy(c){return{baseLanes:c,cachePool:null,transitions:null}}function FE(c,d,m){var j=d.pendingProps,T=Ht.current,R=!1,$=(d.flags&128)!==0,H;if((H=$)||(H=c!==null&&c.memoizedState===null?!1:(T&2)!==0),H?(R=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),Ot(Ht,T&1),c===null)return xy(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):($=j.children,c=j.fallback,R?(j=d.mode,R=d.child,$={mode:"hidden",children:$},(j&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=$):R=Gf($,j,0,null),c=so(c,j,m,null),R.return=d,c.return=d,R.sibling=c,d.child=R,d.child.memoizedState=qy(m),d.memoizedState=Wy,c):Vy(d,$));if(T=c.memoizedState,T!==null&&(H=T.dehydrated,H!==null))return Y7(c,d,$,j,H,T,m);if(R){R=j.fallback,$=d.mode,T=c.child,H=T.sibling;var Z={mode:"hidden",children:j.children};return($&1)===0&&d.child!==T?(j=d.child,j.childLanes=0,j.pendingProps=Z,d.deletions=null):(j=pi(T,Z),j.subtreeFlags=T.subtreeFlags&14680064),H!==null?R=pi(H,R):(R=so(R,$,m,null),R.flags|=2),R.return=d,j.return=d,j.sibling=R,d.child=j,j=R,R=d.child,$=c.child.memoizedState,$=$===null?qy(m):{baseLanes:$.baseLanes|m,cachePool:null,transitions:$.transitions},R.memoizedState=$,R.childLanes=c.childLanes&~m,d.memoizedState=Wy,j}return R=c.child,c=R.sibling,j=pi(R,{mode:"visible",children:j.children}),(d.mode&1)===0&&(j.lanes=m),j.return=d,j.sibling=null,c!==null&&(m=d.deletions,m===null?(d.deletions=[c],d.flags|=16):m.push(c)),d.child=j,d.memoizedState=null,j}function Vy(c,d){return d=Gf({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function If(c,d,m,j){return j!==null&&yy(j),ml(d,c.child,null,m),c=Vy(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function Y7(c,d,m,j,T,R,$){if(m)return d.flags&256?(d.flags&=-257,j=Fy(Error(r(422))),If(c,d,$,j)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(R=j.fallback,T=d.mode,j=Gf({mode:"visible",children:j.children},T,0,null),R=so(R,T,$,null),R.flags|=2,j.return=d,R.return=d,j.sibling=R,d.child=j,(d.mode&1)!==0&&ml(d,c.child,null,$),d.child.memoizedState=qy($),d.memoizedState=Wy,R);if((d.mode&1)===0)return If(c,d,$,null);if(T.data==="$!"){if(j=T.nextSibling&&T.nextSibling.dataset,j)var H=j.dgst;return j=H,R=Error(r(419)),j=Fy(R,j,void 0),If(c,d,$,j)}if(H=($&c.childLanes)!==0,mn||H){if(j=Er,j!==null){switch($&-$){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(j.suspendedLanes|$))!==0?0:T,T!==0&&T!==R.retryLane&&(R.retryLane=T,ba(c,T),ys(j,c,T,-1))}return o0(),j=Fy(Error(r(421))),If(c,d,$,j)}return T.data==="$?"?(d.flags|=128,d.child=c.child,d=lz.bind(null,c),T._reactRetry=d,null):(c=R.treeContext,An=ni(T.nextSibling),En=d,Wt=!0,ps=null,c!==null&&(Gn[Kn++]=ya,Gn[Kn++]=va,Gn[Kn++]=Yi,ya=c.id,va=c.overflow,Yi=d),d=Vy(d,j.children),d.flags|=4096,d)}function UE(c,d,m){c.lanes|=d;var j=c.alternate;j!==null&&(j.lanes|=d),jy(c.return,d,m)}function Hy(c,d,m,j,T){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:m,tailMode:T}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=j,R.tail=m,R.tailMode=T)}function BE(c,d,m){var j=d.pendingProps,T=j.revealOrder,R=j.tail;if(rn(c,d,j.children,m),j=Ht.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&UE(c,m,d);else if(c.tag===19)UE(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(Ot(Ht,j),(d.mode&1)===0)d.memoizedState=null;else switch(T){case"forwards":for(m=d.child,T=null;m!==null;)c=m.alternate,c!==null&&Ef(c)===null&&(T=m),m=m.sibling;m=T,m===null?(T=d.child,d.child=null):(T=m.sibling,m.sibling=null),Hy(d,!1,T,m,R);break;case"backwards":for(m=null,T=d.child,d.child=null;T!==null;){if(c=T.alternate,c!==null&&Ef(c)===null){d.child=T;break}c=T.sibling,T.sibling=m,m=T,T=c}Hy(d,!0,m,null,R);break;case"together":Hy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Df(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function ja(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),eo|=d.lanes,(m&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=pi(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=pi(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function X7(c,d,m){switch(d.tag){case 3:$E(d),pl();break;case 5:tE(d);break;case 1:pn(d.type)&&xf(d);break;case 4:Sy(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,T=d.memoizedProps.value;Ot(Nf,j._currentValue),j._currentValue=T;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(Ot(Ht,Ht.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?FE(c,d,m):(Ot(Ht,Ht.current&1),c=ja(c,d,m),c!==null?c.sibling:null);Ot(Ht,Ht.current&1);break;case 19:if(j=(m&d.childLanes)!==0,(c.flags&128)!==0){if(j)return BE(c,d,m);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ot(Ht,Ht.current),j)break;return null;case 22:case 23:return d.lanes=0,IE(c,d,m)}return ja(c,d,m)}var zE,Gy,WE,qE;zE=function(c,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Gy=function(){},WE=function(c,d,m,j){var T=c.memoizedProps;if(T!==j){c=d.stateNode,Qi(Vs.current);var R=null;switch(m){case"input":T=Ie(c,T),j=Ie(c,j),R=[];break;case"select":T=Q({},T,{value:void 0}),j=Q({},j,{value:void 0}),R=[];break;case"textarea":T=ht(c,T),j=ht(c,j),R=[];break;default:typeof T.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=pf)}qe(m,j);var $;m=null;for(de in T)if(!j.hasOwnProperty(de)&&T.hasOwnProperty(de)&&T[de]!=null)if(de==="style"){var H=T[de];for($ in H)H.hasOwnProperty($)&&(m||(m={}),m[$]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(a.hasOwnProperty(de)?R||(R=[]):(R=R||[]).push(de,null));for(de in j){var Z=j[de];if(H=T?.[de],j.hasOwnProperty(de)&&Z!==H&&(Z!=null||H!=null))if(de==="style")if(H){for($ in H)!H.hasOwnProperty($)||Z&&Z.hasOwnProperty($)||(m||(m={}),m[$]="");for($ in Z)Z.hasOwnProperty($)&&H[$]!==Z[$]&&(m||(m={}),m[$]=Z[$])}else m||(R||(R=[]),R.push(de,m)),m=Z;else de==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,H=H?H.__html:void 0,Z!=null&&H!==Z&&(R=R||[]).push(de,Z)):de==="children"?typeof Z!="string"&&typeof Z!="number"||(R=R||[]).push(de,""+Z):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(a.hasOwnProperty(de)?(Z!=null&&de==="onScroll"&&$t("scroll",c),R||H===Z||(R=[])):(R=R||[]).push(de,Z))}m&&(R=R||[]).push("style",m);var de=R;(d.updateQueue=de)&&(d.flags|=4)}},qE=function(c,d,m,j){m!==j&&(d.flags|=4)};function Pu(c,d){if(!Wt)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function Gr(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,j=0;if(d)for(var T=c.child;T!==null;)m|=T.lanes|T.childLanes,j|=T.subtreeFlags&14680064,j|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)m|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=j,c.childLanes=m,d}function J7(c,d,m){var j=d.pendingProps;switch(my(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(d),null;case 1:return pn(d.type)&&gf(),Gr(d),null;case 3:return j=d.stateNode,yl(),Lt(fn),Lt(Vr),Ay(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(wf(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,ps!==null&&(s0(ps),ps=null))),Gy(c,d),Gr(d),null;case 5:ky(d);var T=Qi(Eu.current);if(m=d.type,c!==null&&d.stateNode!=null)WE(c,d,m,j,T),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(r(166));return Gr(d),null}if(c=Qi(Vs.current),wf(d)){j=d.stateNode,m=d.type;var R=d.memoizedProps;switch(j[qs]=d,j[ju]=R,c=(d.mode&1)!==0,m){case"dialog":$t("cancel",j),$t("close",j);break;case"iframe":case"object":case"embed":$t("load",j);break;case"video":case"audio":for(T=0;T<vu.length;T++)$t(vu[T],j);break;case"source":$t("error",j);break;case"img":case"image":case"link":$t("error",j),$t("load",j);break;case"details":$t("toggle",j);break;case"input":it(j,R),$t("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!R.multiple},$t("invalid",j);break;case"textarea":kt(j,R),$t("invalid",j)}qe(m,R),T=null;for(var $ in R)if(R.hasOwnProperty($)){var H=R[$];$==="children"?typeof H=="string"?j.textContent!==H&&(R.suppressHydrationWarning!==!0&&ff(j.textContent,H,c),T=["children",H]):typeof H=="number"&&j.textContent!==""+H&&(R.suppressHydrationWarning!==!0&&ff(j.textContent,H,c),T=["children",""+H]):a.hasOwnProperty($)&&H!=null&&$==="onScroll"&&$t("scroll",j)}switch(m){case"input":ve(j),Mt(j,R,!0);break;case"textarea":ve(j),qr(j);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(j.onclick=pf)}j=T,d.updateQueue=j,j!==null&&(d.flags|=4)}else{$=T.nodeType===9?T:T.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=pe(m)),c==="http://www.w3.org/1999/xhtml"?m==="script"?(c=$.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=$.createElement(m,{is:j.is}):(c=$.createElement(m),m==="select"&&($=c,j.multiple?$.multiple=!0:j.size&&($.size=j.size))):c=$.createElementNS(c,m),c[qs]=d,c[ju]=j,zE(c,d,!1,!1),d.stateNode=c;e:{switch($=Nt(m,j),m){case"dialog":$t("cancel",c),$t("close",c),T=j;break;case"iframe":case"object":case"embed":$t("load",c),T=j;break;case"video":case"audio":for(T=0;T<vu.length;T++)$t(vu[T],c);T=j;break;case"source":$t("error",c),T=j;break;case"img":case"image":case"link":$t("error",c),$t("load",c),T=j;break;case"details":$t("toggle",c),T=j;break;case"input":it(c,j),T=Ie(c,j),$t("invalid",c);break;case"option":T=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},T=Q({},j,{value:void 0}),$t("invalid",c);break;case"textarea":kt(c,j),T=ht(c,j),$t("invalid",c);break;default:T=j}qe(m,T),H=T;for(R in H)if(H.hasOwnProperty(R)){var Z=H[R];R==="style"?ne(c,Z):R==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&ie(c,Z)):R==="children"?typeof Z=="string"?(m!=="textarea"||Z!=="")&&Ee(c,Z):typeof Z=="number"&&Ee(c,""+Z):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(a.hasOwnProperty(R)?Z!=null&&R==="onScroll"&&$t("scroll",c):Z!=null&&E(c,R,Z,$))}switch(m){case"input":ve(c),Mt(c,j,!1);break;case"textarea":ve(c),qr(c);break;case"option":j.value!=null&&c.setAttribute("value",""+me(j.value));break;case"select":c.multiple=!!j.multiple,R=j.value,R!=null?xt(c,!!j.multiple,R,!1):j.defaultValue!=null&&xt(c,!!j.multiple,j.defaultValue,!0);break;default:typeof T.onClick=="function"&&(c.onclick=pf)}switch(m){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Gr(d),null;case 6:if(c&&d.stateNode!=null)qE(c,d,c.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(r(166));if(m=Qi(Eu.current),Qi(Vs.current),wf(d)){if(j=d.stateNode,m=d.memoizedProps,j[qs]=d,(R=j.nodeValue!==m)&&(c=En,c!==null))switch(c.tag){case 3:ff(j.nodeValue,m,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&ff(j.nodeValue,m,(c.mode&1)!==0)}R&&(d.flags|=4)}else j=(m.nodeType===9?m:m.ownerDocument).createTextNode(j),j[qs]=d,d.stateNode=j}return Gr(d),null;case 13:if(Lt(Ht),j=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Wt&&An!==null&&(d.mode&1)!==0&&(d.flags&128)===0)G2(),pl(),d.flags|=98560,R=!1;else if(R=wf(d),j!==null&&j.dehydrated!==null){if(c===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[qs]=d}else pl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Gr(d),R=!1}else ps!==null&&(s0(ps),ps=null),R=!0;if(!R)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Ht.current&1)!==0?fr===0&&(fr=3):o0())),d.updateQueue!==null&&(d.flags|=4),Gr(d),null);case 4:return yl(),Gy(c,d),c===null&&bu(d.stateNode.containerInfo),Gr(d),null;case 10:return wy(d.type._context),Gr(d),null;case 17:return pn(d.type)&&gf(),Gr(d),null;case 19:if(Lt(Ht),R=d.memoizedState,R===null)return Gr(d),null;if(j=(d.flags&128)!==0,$=R.rendering,$===null)if(j)Pu(R,!1);else{if(fr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if($=Ef(c),$!==null){for(d.flags|=128,Pu(R,!1),j=$.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=m,m=d.child;m!==null;)R=m,c=j,R.flags&=14680066,$=R.alternate,$===null?(R.childLanes=0,R.lanes=c,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=$.childLanes,R.lanes=$.lanes,R.child=$.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=$.memoizedProps,R.memoizedState=$.memoizedState,R.updateQueue=$.updateQueue,R.type=$.type,c=$.dependencies,R.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),m=m.sibling;return Ot(Ht,Ht.current&1|2),d.child}c=c.sibling}R.tail!==null&&Qt()>jl&&(d.flags|=128,j=!0,Pu(R,!1),d.lanes=4194304)}else{if(!j)if(c=Ef($),c!==null){if(d.flags|=128,j=!0,m=c.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Pu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!$.alternate&&!Wt)return Gr(d),null}else 2*Qt()-R.renderingStartTime>jl&&m!==1073741824&&(d.flags|=128,j=!0,Pu(R,!1),d.lanes=4194304);R.isBackwards?($.sibling=d.child,d.child=$):(m=R.last,m!==null?m.sibling=$:d.child=$,R.last=$)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Qt(),d.sibling=null,m=Ht.current,Ot(Ht,j?m&1|2:m&1),d):(Gr(d),null);case 22:case 23:return i0(),j=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(d.flags|=8192),j&&(d.mode&1)!==0?(Tn&1073741824)!==0&&(Gr(d),d.subtreeFlags&6&&(d.flags|=8192)):Gr(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function Q7(c,d){switch(my(d),d.tag){case 1:return pn(d.type)&&gf(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return yl(),Lt(fn),Lt(Vr),Ay(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return ky(d),null;case 13:if(Lt(Ht),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));pl()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Lt(Ht),null;case 4:return yl(),null;case 10:return wy(d.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var Mf=!1,Kr=!1,Z7=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function bl(c,d){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(j){Xt(c,d,j)}else m.current=null}function Ky(c,d,m){try{m()}catch(j){Xt(c,d,j)}}var VE=!1;function ez(c,d){if(iy=tf,c=N2(),Qx(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var j=m.getSelection&&m.getSelection();if(j&&j.rangeCount!==0){m=j.anchorNode;var T=j.anchorOffset,R=j.focusNode;j=j.focusOffset;try{m.nodeType,R.nodeType}catch{m=null;break e}var $=0,H=-1,Z=-1,de=0,je=0,Ne=c,we=null;t:for(;;){for(var Ae;Ne!==m||T!==0&&Ne.nodeType!==3||(H=$+T),Ne!==R||j!==0&&Ne.nodeType!==3||(Z=$+j),Ne.nodeType===3&&($+=Ne.nodeValue.length),(Ae=Ne.firstChild)!==null;)we=Ne,Ne=Ae;for(;;){if(Ne===c)break t;if(we===m&&++de===T&&(H=$),we===R&&++je===j&&(Z=$),(Ae=Ne.nextSibling)!==null)break;Ne=we,we=Ne.parentNode}Ne=Ae}m=H===-1||Z===-1?null:{start:H,end:Z}}else m=null}m=m||{start:0,end:0}}else m=null;for(oy={focusedElem:c,selectionRange:m},tf=!1,Ce=d;Ce!==null;)if(d=Ce,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ce=c;else for(;Ce!==null;){d=Ce;try{var Me=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Fe=Me.memoizedProps,Zt=Me.memoizedState,ae=d.stateNode,te=ae.getSnapshotBeforeUpdate(d.elementType===d.type?Fe:ms(d.type,Fe),Zt);ae.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=d.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ke){Xt(d,d.return,ke)}if(c=d.sibling,c!==null){c.return=d.return,Ce=c;break}Ce=d.return}return Me=VE,VE=!1,Me}function Ru(c,d,m){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var T=j=j.next;do{if((T.tag&c)===c){var R=T.destroy;T.destroy=void 0,R!==void 0&&Ky(d,m,R)}T=T.next}while(T!==j)}}function $f(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&c)===c){var j=m.create;m.destroy=j()}m=m.next}while(m!==d)}}function Yy(c){var d=c.ref;if(d!==null){var m=c.stateNode;switch(c.tag){case 5:c=m;break;default:c=m}typeof d=="function"?d(c):d.current=c}}function HE(c){var d=c.alternate;d!==null&&(c.alternate=null,HE(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[qs],delete d[ju],delete d[dy],delete d[M7],delete d[$7])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function GE(c){return c.tag===5||c.tag===3||c.tag===4}function KE(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||GE(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Xy(c,d,m){var j=c.tag;if(j===5||j===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=pf));else if(j!==4&&(c=c.child,c!==null))for(Xy(c,d,m),c=c.sibling;c!==null;)Xy(c,d,m),c=c.sibling}function Jy(c,d,m){var j=c.tag;if(j===5||j===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(Jy(c,d,m),c=c.sibling;c!==null;)Jy(c,d,m),c=c.sibling}var Lr=null,gs=!1;function ci(c,d,m){for(m=m.child;m!==null;)YE(c,d,m),m=m.sibling}function YE(c,d,m){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Yh,m)}catch{}switch(m.tag){case 5:Kr||bl(m,d);case 6:var j=Lr,T=gs;Lr=null,ci(c,d,m),Lr=j,gs=T,Lr!==null&&(gs?(c=Lr,m=m.stateNode,c.nodeType===8?c.parentNode.removeChild(m):c.removeChild(m)):Lr.removeChild(m.stateNode));break;case 18:Lr!==null&&(gs?(c=Lr,m=m.stateNode,c.nodeType===8?uy(c.parentNode,m):c.nodeType===1&&uy(c,m),du(c)):uy(Lr,m.stateNode));break;case 4:j=Lr,T=gs,Lr=m.stateNode.containerInfo,gs=!0,ci(c,d,m),Lr=j,gs=T;break;case 0:case 11:case 14:case 15:if(!Kr&&(j=m.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){T=j=j.next;do{var R=T,$=R.destroy;R=R.tag,$!==void 0&&((R&2)!==0||(R&4)!==0)&&Ky(m,d,$),T=T.next}while(T!==j)}ci(c,d,m);break;case 1:if(!Kr&&(bl(m,d),j=m.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=m.memoizedProps,j.state=m.memoizedState,j.componentWillUnmount()}catch(H){Xt(m,d,H)}ci(c,d,m);break;case 21:ci(c,d,m);break;case 22:m.mode&1?(Kr=(j=Kr)||m.memoizedState!==null,ci(c,d,m),Kr=j):ci(c,d,m);break;default:ci(c,d,m)}}function XE(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new Z7),d.forEach(function(j){var T=cz.bind(null,c,j);m.has(j)||(m.add(j),j.then(T,T))})}}function xs(c,d){var m=d.deletions;if(m!==null)for(var j=0;j<m.length;j++){var T=m[j];try{var R=c,$=d,H=$;e:for(;H!==null;){switch(H.tag){case 5:Lr=H.stateNode,gs=!1;break e;case 3:Lr=H.stateNode.containerInfo,gs=!0;break e;case 4:Lr=H.stateNode.containerInfo,gs=!0;break e}H=H.return}if(Lr===null)throw Error(r(160));YE(R,$,T),Lr=null,gs=!1;var Z=T.alternate;Z!==null&&(Z.return=null),T.return=null}catch(de){Xt(T,d,de)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)JE(d,c),d=d.sibling}function JE(c,d){var m=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(xs(d,c),Gs(c),j&4){try{Ru(3,c,c.return),$f(3,c)}catch(Fe){Xt(c,c.return,Fe)}try{Ru(5,c,c.return)}catch(Fe){Xt(c,c.return,Fe)}}break;case 1:xs(d,c),Gs(c),j&512&&m!==null&&bl(m,m.return);break;case 5:if(xs(d,c),Gs(c),j&512&&m!==null&&bl(m,m.return),c.flags&32){var T=c.stateNode;try{Ee(T,"")}catch(Fe){Xt(c,c.return,Fe)}}if(j&4&&(T=c.stateNode,T!=null)){var R=c.memoizedProps,$=m!==null?m.memoizedProps:R,H=c.type,Z=c.updateQueue;if(c.updateQueue=null,Z!==null)try{H==="input"&&R.type==="radio"&&R.name!=null&&at(T,R),Nt(H,$);var de=Nt(H,R);for($=0;$<Z.length;$+=2){var je=Z[$],Ne=Z[$+1];je==="style"?ne(T,Ne):je==="dangerouslySetInnerHTML"?ie(T,Ne):je==="children"?Ee(T,Ne):E(T,je,Ne,de)}switch(H){case"input":lt(T,R);break;case"textarea":$r(T,R);break;case"select":var we=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!R.multiple;var Ae=R.value;Ae!=null?xt(T,!!R.multiple,Ae,!1):we!==!!R.multiple&&(R.defaultValue!=null?xt(T,!!R.multiple,R.defaultValue,!0):xt(T,!!R.multiple,R.multiple?[]:"",!1))}T[ju]=R}catch(Fe){Xt(c,c.return,Fe)}}break;case 6:if(xs(d,c),Gs(c),j&4){if(c.stateNode===null)throw Error(r(162));T=c.stateNode,R=c.memoizedProps;try{T.nodeValue=R}catch(Fe){Xt(c,c.return,Fe)}}break;case 3:if(xs(d,c),Gs(c),j&4&&m!==null&&m.memoizedState.isDehydrated)try{du(d.containerInfo)}catch(Fe){Xt(c,c.return,Fe)}break;case 4:xs(d,c),Gs(c);break;case 13:xs(d,c),Gs(c),T=c.child,T.flags&8192&&(R=T.memoizedState!==null,T.stateNode.isHidden=R,!R||T.alternate!==null&&T.alternate.memoizedState!==null||(e0=Qt())),j&4&&XE(c);break;case 22:if(je=m!==null&&m.memoizedState!==null,c.mode&1?(Kr=(de=Kr)||je,xs(d,c),Kr=de):xs(d,c),Gs(c),j&8192){if(de=c.memoizedState!==null,(c.stateNode.isHidden=de)&&!je&&(c.mode&1)!==0)for(Ce=c,je=c.child;je!==null;){for(Ne=Ce=je;Ce!==null;){switch(we=Ce,Ae=we.child,we.tag){case 0:case 11:case 14:case 15:Ru(4,we,we.return);break;case 1:bl(we,we.return);var Me=we.stateNode;if(typeof Me.componentWillUnmount=="function"){j=we,m=we.return;try{d=j,Me.props=d.memoizedProps,Me.state=d.memoizedState,Me.componentWillUnmount()}catch(Fe){Xt(j,m,Fe)}}break;case 5:bl(we,we.return);break;case 22:if(we.memoizedState!==null){eA(Ne);continue}}Ae!==null?(Ae.return=we,Ce=Ae):eA(Ne)}je=je.sibling}e:for(je=null,Ne=c;;){if(Ne.tag===5){if(je===null){je=Ne;try{T=Ne.stateNode,de?(R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(H=Ne.stateNode,Z=Ne.memoizedProps.style,$=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,H.style.display=Yt("display",$))}catch(Fe){Xt(c,c.return,Fe)}}}else if(Ne.tag===6){if(je===null)try{Ne.stateNode.nodeValue=de?"":Ne.memoizedProps}catch(Fe){Xt(c,c.return,Fe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===c)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===c)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===c)break e;je===Ne&&(je=null),Ne=Ne.return}je===Ne&&(je=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:xs(d,c),Gs(c),j&4&&XE(c);break;case 21:break;default:xs(d,c),Gs(c)}}function Gs(c){var d=c.flags;if(d&2){try{e:{for(var m=c.return;m!==null;){if(GE(m)){var j=m;break e}m=m.return}throw Error(r(160))}switch(j.tag){case 5:var T=j.stateNode;j.flags&32&&(Ee(T,""),j.flags&=-33);var R=KE(c);Jy(c,R,T);break;case 3:case 4:var $=j.stateNode.containerInfo,H=KE(c);Xy(c,H,$);break;default:throw Error(r(161))}}catch(Z){Xt(c,c.return,Z)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function tz(c,d,m){Ce=c,QE(c)}function QE(c,d,m){for(var j=(c.mode&1)!==0;Ce!==null;){var T=Ce,R=T.child;if(T.tag===22&&j){var $=T.memoizedState!==null||Mf;if(!$){var H=T.alternate,Z=H!==null&&H.memoizedState!==null||Kr;H=Mf;var de=Kr;if(Mf=$,(Kr=Z)&&!de)for(Ce=T;Ce!==null;)$=Ce,Z=$.child,$.tag===22&&$.memoizedState!==null?tA(T):Z!==null?(Z.return=$,Ce=Z):tA(T);for(;R!==null;)Ce=R,QE(R),R=R.sibling;Ce=T,Mf=H,Kr=de}ZE(c)}else(T.subtreeFlags&8772)!==0&&R!==null?(R.return=T,Ce=R):ZE(c)}}function ZE(c){for(;Ce!==null;){var d=Ce;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Kr||$f(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!Kr)if(m===null)j.componentDidMount();else{var T=d.elementType===d.type?m.memoizedProps:ms(d.type,m.memoizedProps);j.componentDidUpdate(T,m.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&eE(d,R,j);break;case 3:var $=d.updateQueue;if($!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}eE(d,$,m)}break;case 5:var H=d.stateNode;if(m===null&&d.flags&4){m=H;var Z=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&m.focus();break;case"img":Z.src&&(m.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var de=d.alternate;if(de!==null){var je=de.memoizedState;if(je!==null){var Ne=je.dehydrated;Ne!==null&&du(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kr||d.flags&512&&Yy(d)}catch(we){Xt(d,d.return,we)}}if(d===c){Ce=null;break}if(m=d.sibling,m!==null){m.return=d.return,Ce=m;break}Ce=d.return}}function eA(c){for(;Ce!==null;){var d=Ce;if(d===c){Ce=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Ce=m;break}Ce=d.return}}function tA(c){for(;Ce!==null;){var d=Ce;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{$f(4,d)}catch(Z){Xt(d,m,Z)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var T=d.return;try{j.componentDidMount()}catch(Z){Xt(d,T,Z)}}var R=d.return;try{Yy(d)}catch(Z){Xt(d,R,Z)}break;case 5:var $=d.return;try{Yy(d)}catch(Z){Xt(d,$,Z)}}}catch(Z){Xt(d,d.return,Z)}if(d===c){Ce=null;break}var H=d.sibling;if(H!==null){H.return=d.return,Ce=H;break}Ce=d.return}}var rz=Math.ceil,Lf=C.ReactCurrentDispatcher,Qy=C.ReactCurrentOwner,Jn=C.ReactCurrentBatchConfig,pt=0,Er=null,nr=null,Fr=0,Tn=0,wl=si(0),fr=0,Iu=null,eo=0,Ff=0,Zy=0,Du=null,gn=null,e0=0,jl=1/0,Na=null,Uf=!1,t0=null,ui=null,Bf=!1,di=null,zf=0,Mu=0,r0=null,Wf=-1,qf=0;function nn(){return(pt&6)!==0?Qt():Wf!==-1?Wf:Wf=Qt()}function hi(c){return(c.mode&1)===0?1:(pt&2)!==0&&Fr!==0?Fr&-Fr:F7.transition!==null?(qf===0&&(qf=Kk()),qf):(c=_t,c!==0||(c=window.event,c=c===void 0?16:n2(c.type)),c)}function ys(c,d,m,j){if(50<Mu)throw Mu=0,r0=null,Error(r(185));iu(c,m,j),((pt&2)===0||c!==Er)&&(c===Er&&((pt&2)===0&&(Ff|=m),fr===4&&fi(c,Fr)),xn(c,j),m===1&&pt===0&&(d.mode&1)===0&&(jl=Qt()+500,yf&&ii()))}function xn(c,d){var m=c.callbackNode;FB(c,d);var j=Qh(c,c===Er?Fr:0);if(j===0)m!==null&&Vk(m),c.callbackNode=null,c.callbackPriority=0;else if(d=j&-j,c.callbackPriority!==d){if(m!=null&&Vk(m),d===1)c.tag===0?L7(nA.bind(null,c)):z2(nA.bind(null,c)),I7(function(){(pt&6)===0&&ii()}),m=null;else{switch(Yk(j)){case 1:m=Dx;break;case 4:m=Hk;break;case 16:m=Kh;break;case 536870912:m=Gk;break;default:m=Kh}m=dA(m,rA.bind(null,c))}c.callbackPriority=d,c.callbackNode=m}}function rA(c,d){if(Wf=-1,qf=0,(pt&6)!==0)throw Error(r(327));var m=c.callbackNode;if(Nl()&&c.callbackNode!==m)return null;var j=Qh(c,c===Er?Fr:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||d)d=Vf(c,j);else{d=j;var T=pt;pt|=2;var R=aA();(Er!==c||Fr!==d)&&(Na=null,jl=Qt()+500,ro(c,d));do try{az();break}catch(H){sA(c,H)}while(!0);by(),Lf.current=R,pt=T,nr!==null?d=0:(Er=null,Fr=0,d=fr)}if(d!==0){if(d===2&&(T=Mx(c),T!==0&&(j=T,d=n0(c,T))),d===1)throw m=Iu,ro(c,0),fi(c,j),xn(c,Qt()),m;if(d===6)fi(c,j);else{if(T=c.current.alternate,(j&30)===0&&!nz(T)&&(d=Vf(c,j),d===2&&(R=Mx(c),R!==0&&(j=R,d=n0(c,R))),d===1))throw m=Iu,ro(c,0),fi(c,j),xn(c,Qt()),m;switch(c.finishedWork=T,c.finishedLanes=j,d){case 0:case 1:throw Error(r(345));case 2:no(c,gn,Na);break;case 3:if(fi(c,j),(j&130023424)===j&&(d=e0+500-Qt(),10<d)){if(Qh(c,0)!==0)break;if(T=c.suspendedLanes,(T&j)!==j){nn(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=cy(no.bind(null,c,gn,Na),d);break}no(c,gn,Na);break;case 4:if(fi(c,j),(j&4194240)===j)break;for(d=c.eventTimes,T=-1;0<j;){var $=31-hs(j);R=1<<$,$=d[$],$>T&&(T=$),j&=~R}if(j=T,j=Qt()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*rz(j/1960))-j,10<j){c.timeoutHandle=cy(no.bind(null,c,gn,Na),j);break}no(c,gn,Na);break;case 5:no(c,gn,Na);break;default:throw Error(r(329))}}}return xn(c,Qt()),c.callbackNode===m?rA.bind(null,c):null}function n0(c,d){var m=Du;return c.current.memoizedState.isDehydrated&&(ro(c,d).flags|=256),c=Vf(c,d),c!==2&&(d=gn,gn=m,d!==null&&s0(d)),c}function s0(c){gn===null?gn=c:gn.push.apply(gn,c)}function nz(c){for(var d=c;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var j=0;j<m.length;j++){var T=m[j],R=T.getSnapshot;T=T.value;try{if(!fs(R(),T))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function fi(c,d){for(d&=~Zy,d&=~Ff,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var m=31-hs(d),j=1<<m;c[m]=-1,d&=~j}}function nA(c){if((pt&6)!==0)throw Error(r(327));Nl();var d=Qh(c,0);if((d&1)===0)return xn(c,Qt()),null;var m=Vf(c,d);if(c.tag!==0&&m===2){var j=Mx(c);j!==0&&(d=j,m=n0(c,j))}if(m===1)throw m=Iu,ro(c,0),fi(c,d),xn(c,Qt()),m;if(m===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,no(c,gn,Na),xn(c,Qt()),null}function a0(c,d){var m=pt;pt|=1;try{return c(d)}finally{pt=m,pt===0&&(jl=Qt()+500,yf&&ii())}}function to(c){di!==null&&di.tag===0&&(pt&6)===0&&Nl();var d=pt;pt|=1;var m=Jn.transition,j=_t;try{if(Jn.transition=null,_t=1,c)return c()}finally{_t=j,Jn.transition=m,pt=d,(pt&6)===0&&ii()}}function i0(){Tn=wl.current,Lt(wl)}function ro(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==-1&&(c.timeoutHandle=-1,R7(m)),nr!==null)for(m=nr.return;m!==null;){var j=m;switch(my(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&gf();break;case 3:yl(),Lt(fn),Lt(Vr),Ay();break;case 5:ky(j);break;case 4:yl();break;case 13:Lt(Ht);break;case 19:Lt(Ht);break;case 10:wy(j.type._context);break;case 22:case 23:i0()}m=m.return}if(Er=c,nr=c=pi(c.current,null),Fr=Tn=d,fr=0,Iu=null,Zy=Ff=eo=0,gn=Du=null,Ji!==null){for(d=0;d<Ji.length;d++)if(m=Ji[d],j=m.interleaved,j!==null){m.interleaved=null;var T=j.next,R=m.pending;if(R!==null){var $=R.next;R.next=T,j.next=$}m.pending=j}Ji=null}return c}function sA(c,d){do{var m=nr;try{if(by(),Af.current=Pf,Tf){for(var j=Gt.memoizedState;j!==null;){var T=j.queue;T!==null&&(T.pending=null),j=j.next}Tf=!1}if(Zi=0,kr=hr=Gt=null,Au=!1,Tu=0,Qy.current=null,m===null||m.return===null){fr=1,Iu=d,nr=null;break}e:{var R=c,$=m.return,H=m,Z=d;if(d=Fr,H.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var de=Z,je=H,Ne=je.tag;if((je.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var we=je.alternate;we?(je.updateQueue=we.updateQueue,je.memoizedState=we.memoizedState,je.lanes=we.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ae=TE($);if(Ae!==null){Ae.flags&=-257,OE(Ae,$,H,R,d),Ae.mode&1&&AE(R,de,d),d=Ae,Z=de;var Me=d.updateQueue;if(Me===null){var Fe=new Set;Fe.add(Z),d.updateQueue=Fe}else Me.add(Z);break e}else{if((d&1)===0){AE(R,de,d),o0();break e}Z=Error(r(426))}}else if(Wt&&H.mode&1){var Zt=TE($);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),OE(Zt,$,H,R,d),yy(vl(Z,H));break e}}R=Z=vl(Z,H),fr!==4&&(fr=2),Du===null?Du=[R]:Du.push(R),R=$;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var ae=kE(R,Z,d);Z2(R,ae);break e;case 1:H=Z;var te=R.type,oe=R.stateNode;if((R.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(ui===null||!ui.has(oe)))){R.flags|=65536,d&=-d,R.lanes|=d;var ke=EE(R,H,d);Z2(R,ke);break e}}R=R.return}while(R!==null)}oA(m)}catch(Ue){d=Ue,nr===m&&m!==null&&(nr=m=m.return);continue}break}while(!0)}function aA(){var c=Lf.current;return Lf.current=Pf,c===null?Pf:c}function o0(){(fr===0||fr===3||fr===2)&&(fr=4),Er===null||(eo&268435455)===0&&(Ff&268435455)===0||fi(Er,Fr)}function Vf(c,d){var m=pt;pt|=2;var j=aA();(Er!==c||Fr!==d)&&(Na=null,ro(c,d));do try{sz();break}catch(T){sA(c,T)}while(!0);if(by(),pt=m,Lf.current=j,nr!==null)throw Error(r(261));return Er=null,Fr=0,fr}function sz(){for(;nr!==null;)iA(nr)}function az(){for(;nr!==null&&!OB();)iA(nr)}function iA(c){var d=uA(c.alternate,c,Tn);c.memoizedProps=c.pendingProps,d===null?oA(c):nr=d,Qy.current=null}function oA(c){var d=c;do{var m=d.alternate;if(c=d.return,(d.flags&32768)===0){if(m=J7(m,d,Tn),m!==null){nr=m;return}}else{if(m=Q7(m,d),m!==null){m.flags&=32767,nr=m;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{fr=6,nr=null;return}}if(d=d.sibling,d!==null){nr=d;return}nr=d=c}while(d!==null);fr===0&&(fr=5)}function no(c,d,m){var j=_t,T=Jn.transition;try{Jn.transition=null,_t=1,iz(c,d,m,j)}finally{Jn.transition=T,_t=j}return null}function iz(c,d,m,j){do Nl();while(di!==null);if((pt&6)!==0)throw Error(r(327));m=c.finishedWork;var T=c.finishedLanes;if(m===null)return null;if(c.finishedWork=null,c.finishedLanes=0,m===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var R=m.lanes|m.childLanes;if(UB(c,R),c===Er&&(nr=Er=null,Fr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Bf||(Bf=!0,dA(Kh,function(){return Nl(),null})),R=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||R){R=Jn.transition,Jn.transition=null;var $=_t;_t=1;var H=pt;pt|=4,Qy.current=null,ez(c,m),JE(m,c),k7(oy),tf=!!iy,oy=iy=null,c.current=m,tz(m),CB(),pt=H,_t=$,Jn.transition=R}else c.current=m;if(Bf&&(Bf=!1,di=c,zf=T),R=c.pendingLanes,R===0&&(ui=null),IB(m.stateNode),xn(c,Qt()),d!==null)for(j=c.onRecoverableError,m=0;m<d.length;m++)T=d[m],j(T.value,{componentStack:T.stack,digest:T.digest});if(Uf)throw Uf=!1,c=t0,t0=null,c;return(zf&1)!==0&&c.tag!==0&&Nl(),R=c.pendingLanes,(R&1)!==0?c===r0?Mu++:(Mu=0,r0=c):Mu=0,ii(),null}function Nl(){if(di!==null){var c=Yk(zf),d=Jn.transition,m=_t;try{if(Jn.transition=null,_t=16>c?16:c,di===null)var j=!1;else{if(c=di,di=null,zf=0,(pt&6)!==0)throw Error(r(331));var T=pt;for(pt|=4,Ce=c.current;Ce!==null;){var R=Ce,$=R.child;if((Ce.flags&16)!==0){var H=R.deletions;if(H!==null){for(var Z=0;Z<H.length;Z++){var de=H[Z];for(Ce=de;Ce!==null;){var je=Ce;switch(je.tag){case 0:case 11:case 15:Ru(8,je,R)}var Ne=je.child;if(Ne!==null)Ne.return=je,Ce=Ne;else for(;Ce!==null;){je=Ce;var we=je.sibling,Ae=je.return;if(HE(je),je===de){Ce=null;break}if(we!==null){we.return=Ae,Ce=we;break}Ce=Ae}}}var Me=R.alternate;if(Me!==null){var Fe=Me.child;if(Fe!==null){Me.child=null;do{var Zt=Fe.sibling;Fe.sibling=null,Fe=Zt}while(Fe!==null)}}Ce=R}}if((R.subtreeFlags&2064)!==0&&$!==null)$.return=R,Ce=$;else e:for(;Ce!==null;){if(R=Ce,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Ru(9,R,R.return)}var ae=R.sibling;if(ae!==null){ae.return=R.return,Ce=ae;break e}Ce=R.return}}var te=c.current;for(Ce=te;Ce!==null;){$=Ce;var oe=$.child;if(($.subtreeFlags&2064)!==0&&oe!==null)oe.return=$,Ce=oe;else e:for($=te;Ce!==null;){if(H=Ce,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:$f(9,H)}}catch(Ue){Xt(H,H.return,Ue)}if(H===$){Ce=null;break e}var ke=H.sibling;if(ke!==null){ke.return=H.return,Ce=ke;break e}Ce=H.return}}if(pt=T,ii(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Yh,c)}catch{}j=!0}return j}finally{_t=m,Jn.transition=d}}return!1}function lA(c,d,m){d=vl(m,d),d=kE(c,d,1),c=li(c,d,1),d=nn(),c!==null&&(iu(c,1,d),xn(c,d))}function Xt(c,d,m){if(c.tag===3)lA(c,c,m);else for(;d!==null;){if(d.tag===3){lA(d,c,m);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(ui===null||!ui.has(j))){c=vl(m,c),c=EE(d,c,1),d=li(d,c,1),c=nn(),d!==null&&(iu(d,1,c),xn(d,c));break}}d=d.return}}function oz(c,d,m){var j=c.pingCache;j!==null&&j.delete(d),d=nn(),c.pingedLanes|=c.suspendedLanes&m,Er===c&&(Fr&m)===m&&(fr===4||fr===3&&(Fr&130023424)===Fr&&500>Qt()-e0?ro(c,0):Zy|=m),xn(c,d)}function cA(c,d){d===0&&((c.mode&1)===0?d=1:(d=Jh,Jh<<=1,(Jh&130023424)===0&&(Jh=4194304)));var m=nn();c=ba(c,d),c!==null&&(iu(c,d,m),xn(c,m))}function lz(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),cA(c,m)}function cz(c,d){var m=0;switch(c.tag){case 13:var j=c.stateNode,T=c.memoizedState;T!==null&&(m=T.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(d),cA(c,m)}var uA;uA=function(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps||fn.current)mn=!0;else{if((c.lanes&m)===0&&(d.flags&128)===0)return mn=!1,X7(c,d,m);mn=(c.flags&131072)!==0}else mn=!1,Wt&&(d.flags&1048576)!==0&&W2(d,bf,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;Df(c,d),c=d.pendingProps;var T=dl(d,Vr.current);xl(d,m),T=Cy(null,d,j,c,T,m);var R=Py();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,pn(j)?(R=!0,xf(d)):R=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,_y(d),T.updater=Rf,d.stateNode=T,T._reactInternals=d,Ly(d,j,c,m),d=zy(null,d,j,!0,R,m)):(d.tag=0,Wt&&R&&py(d),rn(null,d,T,m),d=d.child),d;case 16:j=d.elementType;e:{switch(Df(c,d),c=d.pendingProps,T=j._init,j=T(j._payload),d.type=j,T=d.tag=dz(j),c=ms(j,c),T){case 0:d=By(null,d,j,c,m);break e;case 1:d=ME(null,d,j,c,m);break e;case 11:d=CE(null,d,j,c,m);break e;case 14:d=PE(null,d,j,ms(j.type,c),m);break e}throw Error(r(306,j,""))}return d;case 0:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:ms(j,T),By(c,d,j,T,m);case 1:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:ms(j,T),ME(c,d,j,T,m);case 3:e:{if($E(d),c===null)throw Error(r(387));j=d.pendingProps,R=d.memoizedState,T=R.element,Q2(c,d),kf(d,j,null,m);var $=d.memoizedState;if(j=$.element,R.isDehydrated)if(R={element:j,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){T=vl(Error(r(423)),d),d=LE(c,d,j,m,T);break e}else if(j!==T){T=vl(Error(r(424)),d),d=LE(c,d,j,m,T);break e}else for(An=ni(d.stateNode.containerInfo.firstChild),En=d,Wt=!0,ps=null,m=X2(d,null,j,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(pl(),j===T){d=ja(c,d,m);break e}rn(c,d,j,m)}d=d.child}return d;case 5:return tE(d),c===null&&xy(d),j=d.type,T=d.pendingProps,R=c!==null?c.memoizedProps:null,$=T.children,ly(j,T)?$=null:R!==null&&ly(j,R)&&(d.flags|=32),DE(c,d),rn(c,d,$,m),d.child;case 6:return c===null&&xy(d),null;case 13:return FE(c,d,m);case 4:return Sy(d,d.stateNode.containerInfo),j=d.pendingProps,c===null?d.child=ml(d,null,j,m):rn(c,d,j,m),d.child;case 11:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:ms(j,T),CE(c,d,j,T,m);case 7:return rn(c,d,d.pendingProps,m),d.child;case 8:return rn(c,d,d.pendingProps.children,m),d.child;case 12:return rn(c,d,d.pendingProps.children,m),d.child;case 10:e:{if(j=d.type._context,T=d.pendingProps,R=d.memoizedProps,$=T.value,Ot(Nf,j._currentValue),j._currentValue=$,R!==null)if(fs(R.value,$)){if(R.children===T.children&&!fn.current){d=ja(c,d,m);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var H=R.dependencies;if(H!==null){$=R.child;for(var Z=H.firstContext;Z!==null;){if(Z.context===j){if(R.tag===1){Z=wa(-1,m&-m),Z.tag=2;var de=R.updateQueue;if(de!==null){de=de.shared;var je=de.pending;je===null?Z.next=Z:(Z.next=je.next,je.next=Z),de.pending=Z}}R.lanes|=m,Z=R.alternate,Z!==null&&(Z.lanes|=m),jy(R.return,m,d),H.lanes|=m;break}Z=Z.next}}else if(R.tag===10)$=R.type===d.type?null:R.child;else if(R.tag===18){if($=R.return,$===null)throw Error(r(341));$.lanes|=m,H=$.alternate,H!==null&&(H.lanes|=m),jy($,m,d),$=R.sibling}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===d){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}rn(c,d,T.children,m),d=d.child}return d;case 9:return T=d.type,j=d.pendingProps.children,xl(d,m),T=Yn(T),j=j(T),d.flags|=1,rn(c,d,j,m),d.child;case 14:return j=d.type,T=ms(j,d.pendingProps),T=ms(j.type,T),PE(c,d,j,T,m);case 15:return RE(c,d,d.type,d.pendingProps,m);case 17:return j=d.type,T=d.pendingProps,T=d.elementType===j?T:ms(j,T),Df(c,d),d.tag=1,pn(j)?(c=!0,xf(d)):c=!1,xl(d,m),_E(d,j,T),Ly(d,j,T,m),zy(null,d,j,!0,c,m);case 19:return BE(c,d,m);case 22:return IE(c,d,m)}throw Error(r(156,d.tag))};function dA(c,d){return qk(c,d)}function uz(c,d,m,j){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(c,d,m,j){return new uz(c,d,m,j)}function l0(c){return c=c.prototype,!(!c||!c.isReactComponent)}function dz(c){if(typeof c=="function")return l0(c)?1:0;if(c!=null){if(c=c.$$typeof,c===L)return 11;if(c===K)return 14}return 2}function pi(c,d){var m=c.alternate;return m===null?(m=Qn(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&14680064,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function Hf(c,d,m,j,T,R){var $=2;if(j=c,typeof c=="function")l0(c)&&($=1);else if(typeof c=="string")$=5;else e:switch(c){case A:return so(m.children,T,R,d);case P:$=8,T|=8;break;case O:return c=Qn(12,m,d,T|2),c.elementType=O,c.lanes=R,c;case F:return c=Qn(13,m,d,T),c.elementType=F,c.lanes=R,c;case G:return c=Qn(19,m,d,T),c.elementType=G,c.lanes=R,c;case q:return Gf(m,T,R,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case I:$=10;break e;case D:$=9;break e;case L:$=11;break e;case K:$=14;break e;case U:$=16,j=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=Qn($,m,d,T),d.elementType=c,d.type=j,d.lanes=R,d}function so(c,d,m,j){return c=Qn(7,c,j,d),c.lanes=m,c}function Gf(c,d,m,j){return c=Qn(22,c,j,d),c.elementType=q,c.lanes=m,c.stateNode={isHidden:!1},c}function c0(c,d,m){return c=Qn(6,c,null,d),c.lanes=m,c}function u0(c,d,m){return d=Qn(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function hz(c,d,m,j,T){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$x(0),this.expirationTimes=$x(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$x(0),this.identifierPrefix=j,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function d0(c,d,m,j,T,R,$,H,Z){return c=new hz(c,d,m,H,Z),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Qn(3,null,null,d),c.current=R,R.stateNode=c,R.memoizedState={element:j,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},_y(R),c}function fz(c,d,m){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:j==null?null:""+j,children:c,containerInfo:d,implementation:m}}function hA(c){if(!c)return ai;c=c._reactInternals;e:{if(Hi(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(pn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var m=c.type;if(pn(m))return U2(c,m,d)}return d}function fA(c,d,m,j,T,R,$,H,Z){return c=d0(m,j,!0,c,T,R,$,H,Z),c.context=hA(null),m=c.current,j=nn(),T=hi(m),R=wa(j,T),R.callback=d??null,li(m,R,T),c.current.lanes=T,iu(c,T,j),xn(c,j),c}function Kf(c,d,m,j){var T=d.current,R=nn(),$=hi(T);return m=hA(m),d.context===null?d.context=m:d.pendingContext=m,d=wa(R,$),d.payload={element:c},j=j===void 0?null:j,j!==null&&(d.callback=j),c=li(T,d,$),c!==null&&(ys(c,T,$,R),Sf(c,T,$)),$}function Yf(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function pA(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function h0(c,d){pA(c,d),(c=c.alternate)&&pA(c,d)}function pz(){return null}var mA=typeof reportError=="function"?reportError:function(c){console.error(c)};function f0(c){this._internalRoot=c}Xf.prototype.render=f0.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));Kf(c,d,null,null)},Xf.prototype.unmount=f0.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;to(function(){Kf(null,c,null,null)}),d[ga]=null}};function Xf(c){this._internalRoot=c}Xf.prototype.unstable_scheduleHydration=function(c){if(c){var d=Qk();c={blockedOn:null,target:c,priority:d};for(var m=0;m<ei.length&&d!==0&&d<ei[m].priority;m++);ei.splice(m,0,c),m===0&&t2(c)}};function p0(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Jf(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function gA(){}function mz(c,d,m,j,T){if(T){if(typeof j=="function"){var R=j;j=function(){var de=Yf($);R.call(de)}}var $=fA(d,j,c,0,null,!1,!1,"",gA);return c._reactRootContainer=$,c[ga]=$.current,bu(c.nodeType===8?c.parentNode:c),to(),$}for(;T=c.lastChild;)c.removeChild(T);if(typeof j=="function"){var H=j;j=function(){var de=Yf(Z);H.call(de)}}var Z=d0(c,0,!1,null,null,!1,!1,"",gA);return c._reactRootContainer=Z,c[ga]=Z.current,bu(c.nodeType===8?c.parentNode:c),to(function(){Kf(d,Z,m,j)}),Z}function Qf(c,d,m,j,T){var R=m._reactRootContainer;if(R){var $=R;if(typeof T=="function"){var H=T;T=function(){var Z=Yf($);H.call(Z)}}Kf(d,$,c,T)}else $=mz(m,d,c,T,j);return Yf($)}Xk=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var m=au(d.pendingLanes);m!==0&&(Lx(d,m|1),xn(d,Qt()),(pt&6)===0&&(jl=Qt()+500,ii()))}break;case 13:to(function(){var j=ba(c,1);if(j!==null){var T=nn();ys(j,c,1,T)}}),h0(c,1)}},Fx=function(c){if(c.tag===13){var d=ba(c,134217728);if(d!==null){var m=nn();ys(d,c,134217728,m)}h0(c,134217728)}},Jk=function(c){if(c.tag===13){var d=hi(c),m=ba(c,d);if(m!==null){var j=nn();ys(m,c,d,j)}h0(c,d)}},Qk=function(){return _t},Zk=function(c,d){var m=_t;try{return _t=c,d()}finally{_t=m}},Bs=function(c,d,m){switch(d){case"input":if(lt(c,m),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var j=m[d];if(j!==c&&j.form===c.form){var T=mf(j);if(!T)throw Error(r(90));ce(j),lt(j,T)}}}break;case"textarea":$r(c,m);break;case"select":d=m.value,d!=null&&xt(c,!!m.multiple,d,!1)}},Vh=a0,ft=to;var gz={usingClientEntryPoint:!1,Events:[Nu,cl,mf,Wh,qh,a0]},$u={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xz={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=zk(c),c===null?null:c.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||pz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{Yh=Zf.inject(xz),Ws=Zf}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gz,yn.createPortal=function(c,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p0(d))throw Error(r(200));return fz(c,d,null,m)},yn.createRoot=function(c,d){if(!p0(c))throw Error(r(299));var m=!1,j="",T=mA;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),d=d0(c,1,!1,null,null,m,!1,j,T),c[ga]=d.current,bu(c.nodeType===8?c.parentNode:c),new f0(d)},yn.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=zk(d),c=c===null?null:c.stateNode,c},yn.flushSync=function(c){return to(c)},yn.hydrate=function(c,d,m){if(!Jf(d))throw Error(r(200));return Qf(null,c,d,!0,m)},yn.hydrateRoot=function(c,d,m){if(!p0(c))throw Error(r(405));var j=m!=null&&m.hydratedSources||null,T=!1,R="",$=mA;if(m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onRecoverableError!==void 0&&($=m.onRecoverableError)),d=fA(d,null,c,1,m??null,T,!1,R,$),c[ga]=d.current,bu(c),j)for(c=0;c<j.length;c++)m=j[c],T=m._getVersion,T=T(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,T]:d.mutableSourceEagerHydrationData.push(m,T);return new Xf(d)},yn.render=function(c,d,m){if(!Jf(d))throw Error(r(200));return Qf(null,c,d,!1,m)},yn.unmountComponentAtNode=function(c){if(!Jf(c))throw Error(r(40));return c._reactRootContainer?(to(function(){Qf(null,null,c,!1,function(){c._reactRootContainer=null,c[ga]=null})}),!0):!1},yn.unstable_batchedUpdates=a0,yn.unstable_renderSubtreeIntoContainer=function(c,d,m,j){if(!Jf(m))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Qf(c,d,m,!1,j)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var _A;function DD(){if(_A)return x0.exports;_A=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),x0.exports=Sz(),x0.exports}var SA;function kz(){if(SA)return tp;SA=1;var e=DD();return tp.createRoot=e.createRoot,tp.hydrateRoot=e.hydrateRoot,tp}var Ez=kz(),w=m_();const B=bt(w),g_=ID({__proto__:null,default:B},[w]);var cN=function(e,t){return cN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},cN(e,t)};function MD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var is=function(){return is=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},is.apply(this,arguments)};function Di(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $D(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function LD(e,t){return function(r,n){t(r,n,e)}}function FD(e,t,r,n,a,i){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,f=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,g=!1,v=r.length-1;v>=0;v--){var b={};for(var y in n)b[y]=y==="access"?{}:n[y];for(var y in n.access)b.access[y]=n.access[y];b.addInitializer=function(_){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(_||null))};var x=(0,r[v])(l==="accessor"?{get:f.get,set:f.set}:f[u],b);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(p=o(x.get))&&(f.get=p),(p=o(x.set))&&(f.set=p),(p=o(x.init))&&a.unshift(p)}else(p=o(x))&&(l==="field"?a.unshift(p):f[u]=p)}h&&Object.defineProperty(h,n.name,f),g=!0}function UD(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function BD(e){return typeof e=="symbol"?e:"".concat(e)}function zD(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function WD(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function De(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(p){o(p)}}function u(f){try{h(n.throw(f))}catch(p){o(p)}}function h(f){f.done?i(f.value):a(f.value).then(l,u)}h((n=n.apply(e,t||[])).next())})}function qD(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(h){return function(f){return u([h,f])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(f){h=[6,f],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var vg=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function VD(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vg(t,e,r)}function Yp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function HD(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x_(arguments[t]));return e}function GD(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function y_(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function sc(e){return this instanceof sc?(this.v=e,this):new sc(e)}function KD(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(v){return function(b){return Promise.resolve(b).then(v,p)}}function l(v,b){n[v]&&(a[v]=function(y){return new Promise(function(x,_){i.push([v,y,x,_])>1||u(v,y)})},b&&(a[v]=b(a[v])))}function u(v,b){try{h(n[v](b))}catch(y){g(i[0][3],y)}}function h(v){v.value instanceof sc?Promise.resolve(v.value.v).then(f,p):g(i[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function g(v,b){v(b),i.shift(),i.length&&u(i[0][0],i[0][1])}}function YD(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:sc(e[a](o)),done:!1}:i?i(o):o}:i}}function XD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Yp=="function"?Yp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,u){o=e[i](o),a(l,u,o.done,o.value)})}}function a(i,o,l,u){Promise.resolve(u).then(function(h){i({value:h,done:l})},o)}}function JD(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Az=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},uN=function(e){return uN=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},uN(e)};function QD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=uN(e),n=0;n<r.length;n++)r[n]!=="default"&&vg(t,e,r[n]);return Az(t,e),t}function ZD(e){return e&&e.__esModule?e:{default:e}}function eM(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function tM(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function rM(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function nM(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Tz=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function sM(e){function t(i){e.error=e.hasError?new Tz(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function aM(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const Oz={__extends:MD,__assign:is,__rest:Di,__decorate:$D,__param:LD,__esDecorate:FD,__runInitializers:UD,__propKey:BD,__setFunctionName:zD,__metadata:WD,__awaiter:De,__generator:qD,__createBinding:vg,__exportStar:VD,__values:Yp,__read:x_,__spread:HD,__spreadArrays:GD,__spreadArray:y_,__await:sc,__asyncGenerator:KD,__asyncDelegator:YD,__asyncValues:XD,__makeTemplateObject:JD,__importStar:QD,__importDefault:ZD,__classPrivateFieldGet:eM,__classPrivateFieldSet:tM,__classPrivateFieldIn:rM,__addDisposableResource:nM,__disposeResources:sM,__rewriteRelativeImportExtension:aM},Cz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nM,get __assign(){return is},__asyncDelegator:YD,__asyncGenerator:KD,__asyncValues:XD,__await:sc,__awaiter:De,__classPrivateFieldGet:eM,__classPrivateFieldIn:rM,__classPrivateFieldSet:tM,__createBinding:vg,__decorate:$D,__disposeResources:sM,__esDecorate:FD,__exportStar:VD,__extends:MD,__generator:qD,__importDefault:ZD,__importStar:QD,__makeTemplateObject:JD,__metadata:WD,__param:LD,__propKey:BD,__read:x_,__rest:Di,__rewriteRelativeImportExtension:aM,__runInitializers:UD,__setFunctionName:zD,__spread:HD,__spreadArray:y_,__spreadArrays:GD,__values:Yp,default:Oz},Symbol.toStringTag,{value:"Module"})),Pz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class v_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Rz extends v_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kA extends v_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class EA extends v_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dN||(dN={}));class Iz{constructor(t,{headers:r={},customFetch:n,region:a=dN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Pz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return De(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:u,body:h,signal:f,timeout:p}=n;let g={},{region:v}=n;v||(v=this.region);const b=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let y;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(g["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(g["Content-Type"]="application/json",y=JSON.stringify(h)):y=h;let x=f;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),f?(x=o.signal,f.addEventListener("abort",()=>o.abort())):x=o.signal);const _=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:y,signal:x}).catch(S=>{throw new Rz(S)}),N=_.headers.get("x-relay-error");if(N&&N==="true")throw new kA(_);if(!_.ok)throw new EA(_);let E=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return E==="application/json"?C=yield _.json():E==="application/octet-stream"||E==="application/pdf"?C=yield _.blob():E==="text/event-stream"?C=_:E==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof EA||l instanceof kA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Yr={};const Lc=vz(Cz);var rp={},np={},sp={},ap={},ip={},op={},AA;function iM(){if(AA)return op;AA=1,Object.defineProperty(op,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return op.default=e,op}var TA;function oM(){if(TA)return ip;TA=1,Object.defineProperty(ip,"__esModule",{value:!0});const t=Lc.__importDefault(iM());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,f,p,g;let v=null,b=null,y=null,x=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const E=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");E&&C&&C.length>1&&(y=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,x=406,_="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const E=await u.text();try{v=JSON.parse(E),Array.isArray(v)&&u.status===404&&(b=[],v=null,x=200,_="OK")}catch{u.status===404&&E===""?(x=204,_="No Content"):v={message:E}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,x=200,_="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:b,count:y,status:x,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var h,f,p,g,v,b;let y="";const x=u?.cause;if(x){const _=(h=x?.message)!==null&&h!==void 0?h:"",N=(f=x?.code)!==null&&f!==void 0?f:"";y=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,y+=`

Caused by: ${(g=x?.name)!==null&&g!==void 0?g:"Error"}: ${_}`,N&&(y+=` (${N})`),x?.stack&&(y+=`
${x.stack}`)}else y=(v=u?.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(b=u?.name)!==null&&b!==void 0?b:"FetchError"}: ${u?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}}return ip.default=r,ip}var OA;function lM(){if(OA)return ap;OA=1,Object.defineProperty(ap,"__esModule",{value:!0});const t=Lc.__importDefault(oM());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this.url.searchParams.set(h,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const p=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ap.default=r,ap}var CA;function b_(){if(CA)return sp;CA=1,Object.defineProperty(sp,"__esModule",{value:!0});const t=Lc.__importDefault(lM()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${h}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return sp.default=n,sp}var PA;function cM(){if(PA)return np;PA=1,Object.defineProperty(np,"__esModule",{value:!0});const t=Lc.__importDefault(b_());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},u=o?"HEAD":"GET";let h=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return np.default=r,np}var RA;function Dz(){if(RA)return rp;RA=1,Object.defineProperty(rp,"__esModule",{value:!0});const e=Lc,t=e.__importDefault(cM()),r=e.__importDefault(b_());class n{constructor(i,{headers:o={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:u=!1,count:h}={}){var f;let p;const g=new URL(`${this.url}/rpc/${i}`);let v;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{g.searchParams.append(y,x)})):(p="POST",v=o);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new r.default({method:p,url:g,headers:b,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return rp.default=n,rp}var IA;function Mz(){if(IA)return Yr;IA=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const e=Lc,t=e.__importDefault(Dz());Yr.PostgrestClient=t.default;const r=e.__importDefault(cM());Yr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(b_());Yr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(lM());Yr.PostgrestTransformBuilder=a.default;const i=e.__importDefault(oM());Yr.PostgrestBuilder=i.default;const o=e.__importDefault(iM());return Yr.PostgrestError=o.default,Yr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Yr}var uM=Mz();const dM=bt(uM),$z=ID({__proto__:null,default:dM},[uM]),{PostgrestClient:Lz,PostgrestQueryBuilder:Wje,PostgrestFilterBuilder:qje,PostgrestTransformBuilder:Vje,PostgrestBuilder:Hje,PostgrestError:Gje}=dM||$z;class Fz{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Uz="2.86.0",Bz=`realtime-js/${Uz}`,hM="1.0.0",zz="2.0.0",DA=hM,hN=1e4,Wz=1e3,qz=100;var go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(go||(go={}));var xr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xr||(xr={}));var Ns;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ns||(Ns={}));var fN;(function(e){e.websocket="websocket"})(fN||(fN={}));var xo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xo||(xo={}));class Vz{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",h=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(v),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,u.length),b.setUint8(y++,l.length),b.setUint8(y++,o.length),b.setUint8(y++,h.length),b.setUint8(y++,p.length),b.setUint8(y++,r),Array.from(u,_=>b.setUint8(y++,_.charCodeAt(0))),Array.from(l,_=>b.setUint8(y++,_.charCodeAt(0))),Array.from(o,_=>b.setUint8(y++,_.charCodeAt(0))),Array.from(h,_=>b.setUint8(y++,_.charCodeAt(0))),Array.from(p,_=>b.setUint8(y++,_.charCodeAt(0)));var x=new Uint8Array(v.byteLength+n.byteLength);return x.set(new Uint8Array(v),0),x.set(new Uint8Array(n),v.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,u]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const h=n.decode(t.slice(u,u+a));u=u+a;const f=n.decode(t.slice(u,u+i));u=u+i;const p=n.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:f,payload:v};return o>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class fM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ct||(Ct={}));const MA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Hz(o,e,t,a),i),{}):{}},Hz=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?pM(i,o):pN(o)},pM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xz(t,r)}switch(e){case Ct.bool:return Gz(t);case Ct.float4:case Ct.float8:case Ct.int2:case Ct.int4:case Ct.int8:case Ct.numeric:case Ct.oid:return Kz(t);case Ct.json:case Ct.jsonb:return Yz(t);case Ct.timestamp:return Jz(t);case Ct.abstime:case Ct.date:case Ct.daterange:case Ct.int4range:case Ct.int8range:case Ct.money:case Ct.reltime:case Ct.text:case Ct.time:case Ct.timestamptz:case Ct.timetz:case Ct.tsrange:case Ct.tstzrange:return pN(t);default:return pN(t)}},pN=e=>e,Gz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>pM(t,l))}return e},Jz=e=>typeof e=="string"?e.replace(" ","T"):e,mM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class b0{constructor(t,r,n={},a=hN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $A;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($A||($A={}));class ld{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ld.syncState(this.state,a,i,o),this.pendingDiffs.forEach(u=>{this.state=ld.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ld.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(h,f)=>{o[h]||(u[h]=f)}),this.map(o,(h,f)=>{const p=i[h];if(p){const g=f.map(x=>x.presence_ref),v=p.map(x=>x.presence_ref),b=f.filter(x=>v.indexOf(x.presence_ref)<0),y=p.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(l[h]=b),y.length>0&&(u[h]=y)}else l[h]=f}),this.syncDiff(i,{joins:l,leaves:u},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,u)=>{var h;const f=(h=t[l])!==null&&h!==void 0?h:[];if(t[l]=this.cloneDeep(u),f.length>0){const p=t[l].map(v=>v.presence_ref),g=f.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,f,u)}),this.map(o,(l,u)=>{let h=t[l];if(!h)return;const f=u.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=h,a(l,h,u),h.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var LA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(LA||(LA={}));var cd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cd||(cd={}));var Aa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Aa||(Aa={}));class w_{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new b0(this,Ns.join,this.params,this.timeout),this.rejoinTimer=new fM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ns.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ld(this),this.broadcastEndpointURL=mM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xr.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[cd.PRESENCE]&&this.bindings[cd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(Aa.CHANNEL_ERROR,v)),this._onClose(()=>t?.(Aa.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){t?.(Aa.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(b=y?.length)!==null&&b!==void 0?b:0,_=[];for(let N=0;N<x;N++){const E=y[N],{filter:{event:C,schema:S,table:k,filter:A}}=E,P=v&&v[N];if(P&&P.event===C&&P.schema===S&&P.table===k&&P.filter===A)_.push(Object.assign(Object.assign({},E),{id:P.id}));else{this.unsubscribe(),this.state=xr.errored,t?.(Aa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Aa.SUBSCRIBED);return}}).receive("error",v=>{this.state=xr.errored,t?.(Aa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(Aa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===xr.joined&&t===cd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const h=await l.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ns.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new b0(this,Ns.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new b0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:h,join:f}=Ns;if(n&&[l,u,h,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var b,y,x;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(y=v.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var b,y,x,_,N,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const C=v.id,S=(b=v.filter)===null||b===void 0?void 0:b.event;return C&&((y=r.ids)===null||y===void 0?void 0:y.includes(C))&&(S==="*"||S?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(N=(_=v?.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:y,table:x,commit_timestamp:_,type:N,errors:E}=b;g=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:_,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(b))}v.callback(g,n)})}_isClosed(){return this.state===xr.closed}_isJoined(){return this.state===xr.joined}_isJoining(){return this.state===xr.joining}_isLeaving(){return this.state===xr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&w_.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ns.close,{},t)}_onError(t){this._on(Ns.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=MA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=MA(t.columns,t.old_record)),r}}const w0=()=>{},lp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qz=[1e3,2e3,5e3,1e4],Zz=1e4,e9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hN,this.transport=null,this.heartbeatIntervalMs=lp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w0,this.ref=0,this.reconnectTimer=null,this.vsn=DA,this.logger=w0,this.conn=null,this.sendBuffer=[],this.serializer=new Vz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fN.websocket}`,this.httpEndpoint=mM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case go.connecting:return xo.Connecting;case go.open:return xo.Open;case go.closing:return xo.Closing;default:return xo.Closed}}isConnected(){return this.connectionState()===xo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new w_(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${a} ${l}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===go.open||this.conn.readyState===go.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ns.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([e9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Bz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ns.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,u,h,f,p,g,v;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:hN,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:lp.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:w0,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:DA,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(b=>Qz[b-1]||Zz),this.vsn){case hM:this.encode=(f=t?.encode)!==null&&f!==void 0?f:((b,y)=>y(JSON.stringify(b))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((b,y)=>y(JSON.parse(b)));break;case zz:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class bg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class r9 extends bg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mN extends bg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const j_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),n9=()=>Response,gN=e=>{if(Array.isArray(e))return e.map(r=>gN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=gN(n)}),t},s9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},a9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),j0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},i9=(e,t,r)=>De(void 0,void 0,void 0,function*(){const n=yield n9();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new r9(j0(a),i,o))}).catch(a=>{t(new mN(j0(a),a))}):t(new mN(j0(e),e))}),o9=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(s9(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function vh(e,t,r,n,a,i){return De(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,o9(t,n,a,i)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>i9(u,l,n))})})}function wd(e,t,r,n){return De(this,void 0,void 0,function*(){return vh(e,"GET",t,r,n)})}function js(e,t,r,n,a){return De(this,void 0,void 0,function*(){return vh(e,"POST",t,n,a,r)})}function xN(e,t,r,n,a){return De(this,void 0,void 0,function*(){return vh(e,"PUT",t,n,a,r)})}function l9(e,t,r,n){return De(this,void 0,void 0,function*(){return vh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function N_(e,t,r,n,a){return De(this,void 0,void 0,function*(){return vh(e,"DELETE",t,n,a,r)})}class c9{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return De(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Kt(t))return{data:null,error:t};throw t}})}}var gM;class u9{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[gM]="BlobDownloadBuilder",this.promise=null}asStream(){return new c9(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return De(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Kt(t))return{data:null,error:t};throw t}})}}gM=Symbol.toStringTag;const d9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class h9{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=j_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return De(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},FA),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),p=yield(t=="PUT"?xN:js)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return De(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const h=Object.assign({upsert:FA.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield xN(this.fetch,l.toString(),u,{headers:f});return{data:{path:i,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Kt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return De(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield js(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new bg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}update(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return De(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield js(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return De(this,void 0,void 0,function*(){try{const a=yield js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>wd(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new u9(u,this.shouldThrowOnError)}info(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield wd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gN(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}exists(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield l9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n)&&n instanceof mN){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&a.push(u);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}list(t,r,n){return De(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},d9),r),{prefix:t||""});return{data:yield js(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}})}listV2(t,r){return De(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield js(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const xM="2.86.0",yM={"X-Client-Info":`storage-js/${xM}`};class f9{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yM),r),this.fetch=j_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return De(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield wd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}createBucket(t){return De(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield js(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return De(this,void 0,void 0,function*(){try{return{data:yield xN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var jd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function p9(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function m9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function g9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=p9(e.baseUrl,n,a),u=await m9(e.auth),h=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...o},body:i?JSON.stringify(i):void 0}),f=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),g=p&&f?JSON.parse(f):f;if(!h.ok){const v=p?g:void 0,b=v?.error;throw new jd(b?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:b?.type,icebergCode:b?.code,details:v})}return{status:h.status,headers:h.headers,data:g}}}}function cp(e){return e.join("")}var x9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:cp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cp(e.namespace)}`}),!0}catch(t){if(t instanceof jd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof jd&&r.status===409)return;throw r}}};function _l(e){return e.join("")}var y9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_l(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_l(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_l(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_l(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_l(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_l(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof jd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof jd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},v9=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=g9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new x9(this.client,t),this.tableOps=new y9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class b9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yM),r),this.fetch=j_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listBuckets(t){return De(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield wd(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}from(t){if(!a9(t))throw new bg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new v9({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>De(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const __={"X-Client-Info":`storage-js/${xM}`,"Content-Type":"application/json"};class vM extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class N0 extends vM{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class w9 extends vM{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var UA;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(UA||(UA={}));const S_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N9=(e,t,r)=>De(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=o?.statusCode||o?.code||a+"";t(new N0(BA(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new N0(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new N0(l,a,o))}}else t(new w9(BA(e),e))}),_9=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(j9(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function S9(e,t,r,n,a,i){return De(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,_9(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n?.noResolveJson)return u;const h=u.headers.get("content-type");return!h||!h.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>N9(u,l,n))})})}function $n(e,t,r,n,a){return De(this,void 0,void 0,function*(){return S9(e,"POST",t,n,a,r)})}class k9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},__),r),this.fetch=S_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return De(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return De(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}listIndexes(t){return De(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return De(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}})}}class E9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},__),r),this.fetch=S_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return De(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}listVectors(t){return De(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $n(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}queryVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return De(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}}class A9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},__),r),this.fetch=S_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}listBuckets(){return De(this,arguments,void 0,function*(t={}){try{return{data:yield $n(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}})}}class T9 extends A9{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new O9(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return De(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return De(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return De(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return De(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class O9 extends k9{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return De(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return De(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return De(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return De(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new C9(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class C9 extends E9{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return De(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return De(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return De(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return De(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return De(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class P9 extends f9{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new h9(this.url,this.headers,t,this.fetch)}get vectors(){return new T9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new b9(this.url+"/iceberg",this.headers,this.fetch)}}const R9="2.86.0";let Zu="";typeof Deno<"u"?Zu="deno":typeof document<"u"?Zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zu="react-native":Zu="node";const I9={"X-Client-Info":`supabase-js-${Zu}/${R9}`},D9={headers:I9},M9={schema:"public"},$9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L9={},F9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U9=()=>Headers,B9=(e,t,r)=>{const n=F9(r),a=U9();return async(i,o)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let h=new a(o?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:h}))}};function z9(e){return e.endsWith("/")?e:e+"/"}function W9(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:u,auth:h,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},u),a),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function q9(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(z9(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bM="2.86.0",Fl=30*1e3,yN=3,_0=yN*Fl,V9="http://localhost:9999",H9="supabase.auth.token",G9={"X-Client-Info":`gotrue-js/${bM}`},vN="X-Supabase-Api-Version",wM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y9=600*1e3;class Nd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class X9 extends Nd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function J9(e){return Be(e)&&e.name==="AuthApiError"}class yo extends Nd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Mi extends Nd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class On extends Mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q9(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Sl extends Mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class up extends Mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dp extends Mi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z9(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class zA extends Mi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bN extends Mi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function S0(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class WA extends Mi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wN extends Mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qA=` 	
\r=`.split(""),eW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qA.length;t+=1)e[qA[t].charCodeAt(0)]=-2;for(let t=0;t<Xp.length;t+=1)e[Xp[t].charCodeAt(0)]=t;return e})();function VA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xp[n]),t.queuedBits-=6}}function jM(e,t,r){const n=eW[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function HA(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{nW(o,n,r)};for(let o=0;o<e.length;o+=1)jM(e.charCodeAt(o),a,i);return t.join("")}function tW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}tW(n,t)}}function nW(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)jM(e.charCodeAt(a),r,n);return new Uint8Array(t)}function sW(e){const t=[];return rW(e,r=>t.push(r)),new Uint8Array(t)}function bo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>VA(a,r,n)),VA(null,r,n),t.join("")}function aW(e){return Math.round(Date.now()/1e3)+e}function iW(){return Symbol("auth-callback")}const Ur=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},NM=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function oW(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const _M=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ul=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},io=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gi=async(e,t)=>{await e.removeItem(t)};class wg{constructor(){this.promise=new wg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wg.promiseConstructor=Promise;function k0(e){const t=e.split(".");if(t.length!==3)throw new wN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!K9.test(t[n]))throw new wN("JWT not in base64url format");return{header:JSON.parse(HA(t[0])),payload:JSON.parse(HA(t[1])),signature:Xl(t[2]),raw:{header:t[0],payload:t[1]}}}async function cW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uW(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function dW(e){return("0"+e.toString(16)).substr(-2)}function hW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,dW).join("")}async function fW(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function pW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await fW(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kl(e,t,r=!1){const n=hW();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ul(e,`${t}-code-verifier`,a);const i=await pW(n);return[i,n===i?"plain":"s256"]}const mW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gW(e){const t=e.headers.get(vN);if(!t||!t.match(mW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function El(e){if(!vW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function E0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bW(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function GA(e){return JSON.parse(JSON.stringify(e))}const ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wW=[502,503,504];async function KA(e){var t;if(!lW(e))throw new bN(ho(e),0);if(wW.includes(e.status))throw new bN(ho(e),e.status);let r;try{r=await e.json()}catch(i){throw new yo(ho(i),i)}let n;const a=gW(e);if(a&&a.getTime()>=wM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new WA(ho(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new WA(ho(r),e.status,r.weak_password.reasons);throw new X9(ho(r),e.status||500,n)}const jW=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Xe(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[vN]||(i[vN]=wM["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await NW(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function NW(e,t,r,n,a,i){const o=jW(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new bN(ho(u),0)}if(l.ok||await KA(l),n?.noResolveJson)return l;try{return await l.json()}catch(u){await KA(u)}}function bs(e){var t;let r=null;kW(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=aW(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function YA(e){const t=bs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _i(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _W(e){return{data:e,error:null}}function SW(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Di(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function XA(e){return e}function kW(e){return e.access_token&&e.refresh_token&&e.expires_in}const A0=["global","local","others"];class EW{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=_M(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=A0[0]){if(A0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${A0.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_i})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Di(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:SW,redirectTo:r?.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_i})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,u;try{const h={nextPage:null,lastPage:0,total:0},f=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:XA});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);h[`${x}Page`]=y}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){El(t);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_i})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){El(t);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_i})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){El(t);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_i})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){El(t.userId);try{const{data:r,error:n}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){El(t.userId),El(t.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,u;try{const h={nextPage:null,lastPage:0,total:0},f=await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:XA});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);h[`${x}Page`]=y}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function JA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Al={debug:!!(globalThis&&NM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AW extends SM{}async function TW(e,t,r){Al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Al.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Al.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Al.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AW(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Al.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function OW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function CW(e){return parseInt(e,16)}function PW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function RW(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:u,resources:h,scheme:f,uri:p,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=kM(e.address),b=f?`${f}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${v}

${y}`;let _=`URI: ${p}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),u&&(_+=`
Request ID: ${u}`),h){let N=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}_+=N}return`${x}
${_}`}class ar extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Jp extends ar{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function IW({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(EM(o)){if(i.rp.id!==o)return new ar({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DW({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(EM(n)){if(r.rpId!==n)return new ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $W=new MW;function LW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Di(e,["challenge","user","excludeCredentials"]),i=Xl(t).buffer,o=Object.assign(Object.assign({},r),{id:Xl(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:Xl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function FW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Di(e,["challenge","allowCredentials"]),a=Xl(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Xl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function UW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:bo(new Uint8Array(e.response.attestationObject)),clientDataJSON:bo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bo(new Uint8Array(a.authenticatorData)),clientDataJSON:bo(new Uint8Array(a.clientDataJSON)),signature:bo(new Uint8Array(a.signature)),userHandle:a.userHandle?bo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function QA(){var e,t;return!!(Ur()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jp("Browser returned unexpected credential type",t)}:{data:null,error:new Jp("Empty credential response",t)}}catch(t){return{data:null,error:IW({error:t,options:e})}}}async function WW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jp("Browser returned unexpected credential type",t)}:{data:null,error:new Jp("Empty credential response",t)}}catch(t){return{data:null,error:DW({error:t,options:e})}}}const qW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qp(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Qp(l,o):n[i]=Qp(o)}else n[i]=o}return n}function HW(e,t){return Qp(qW,e,t||{})}function GW(e,t){return Qp(VW,e,t||{})}class KW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const u=a??$W.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=HW(o.webauthn.credential_options.publicKey,i?.create),{data:f,error:p}=await zW({publicKey:h,signal:u});return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=GW(o.webauthn.credential_options.publicKey,i?.request),{data:f,error:p}=await WW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new yo("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Nd("rpId is required for WebAuthn authentication")};try{if(!QA())return{data:null,error:new yo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new yo("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Nd("rpId is required for WebAuthn registration")};try{if(!QA())return{data:null,error:new yo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:l};const{data:u,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new yo("Unexpected error in register",o)}}}}OW();const YW={url:V9,storageKey:H9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ZA(e,t,r){return await r()}const Tl={};class _d{get jwks(){var t,r;return(r=(t=Tl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tl[this.storageKey]=Object.assign(Object.assign({},Tl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tl[this.storageKey]=Object.assign(Object.assign({},Tl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},YW),t);if(this.storageKey=i.storageKey,this.instanceID=(r=_d.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ur()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new EW({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_M(i.fetch),this.lock=i.lock||ZA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ur()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=TW:this.lock=ZA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:NM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=JA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=JA(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ur()&&(r=oW(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ur()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Z9(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new yo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:bs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:p,options:g}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await kl(this.storage,this.storageKey)),i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:b},xform:bs})}else if("phone"in t){const{phone:f,password:p,options:g}=t;i=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(a=g?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:bs})}else throw new up("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:YA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:YA})}else throw new up("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Sl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,u,h,f,p,g;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:y,wallet:x,statement:_,options:N}=t;let E;if(Ur())if(typeof x=="object")E=x;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")E=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const C=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),S=await E.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=kM(S[0]);let A=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const O=await E.request({method:"eth_chainId"});A=CW(O)}const P={domain:C.host,address:k,statement:_,uri:C.href,version:"1",chainId:A,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=RW(P),b=await E.request({method:"personal_sign",params:[PW(v),k]})}try{const{data:y,error:x}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:bs});if(x)throw x;if(!y||!y.session||!y.user){const _=new Sl;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(Be(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,o,l,u,h,f,p,g,v;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:x,wallet:_,statement:N,options:E}=t;let C;if(Ur())if(typeof _=="object")C=_;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))C=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const S=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const k=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),N?{statement:N}:null));let A;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")A=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)A=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)b=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(f=E?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const k=await C.signMessage(new TextEncoder().encode(b),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:x,error:_}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:bo(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:bs});if(_)throw _;if(!x||!x.session||!x.user){const N=new Sl;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await io(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bs});if(await gi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Sl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:bs}),{data:u,error:h}=l;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const f=new Sl;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:u}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await kl(this.storage,this.storageKey));const{error:p}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:h,error:f}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=u?.data)!==null&&a!==void 0?a:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:f})}throw new up("You must provide either an email or phone number.")}catch(l){if(Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:bs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,h=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(a){if(Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await kl(this.storage,this.storageKey));const h=await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:_W});return!((i=h.data)===null||i===void 0)&&i.url&&Ur()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(l){if(Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new On;const{error:a}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new up("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await io(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=E0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=bW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_i}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:_i})})}catch(r){if(Be(r))return Q9(r)&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new On;const o=a.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await kl(this.storage,this.storageKey));const{data:h,error:f}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:_i});if(f)throw f;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new On;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=k0(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new On;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ur())throw new dp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zA("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:h}=t;if(!i||!l||!o||!h)throw new dp("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let g=f+p;u&&(g=parseInt(u));const v=g-f;v*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const b=g-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:h,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(J9(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=iW(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await kl(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,u,h,f;const{data:p,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return Ur()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:u,access_token:h,nonce:f}=t,p=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:bs}),{data:g,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Sl}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(a){if(Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uW(async a=>(a>0&&await cW(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bs})),(a,i)=>{const o=200*Math.pow(2,a);return i&&S0(i)&&Date.now()+o-n<Fl})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ur()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await io(this.storage,this.storageKey);if(a&&this.userStorage){let o=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Ul(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:E0()}else if(a&&!a.user&&!a.user){const o=await io(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await gi(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,a)):a.user=E0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),S0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new wg;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new On;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Be(i)){const o={data:null,error:i};return S0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=GA(a);await Ul(this.storage,this.storageKey,i)}else{const a=GA(r);await Ul(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await gi(this.storage,this.storageKey),await gi(this.storage,this.storageKey+"-code-verifier"),await gi(this.storage,this.storageKey+"-user"),this.userStorage&&await gi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ur()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fl}ms, refresh threshold is ${yN} ticks`),a<=yN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await kl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:h}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&u.type==="totp"&&(!((a=u?.totp)===null||a===void 0)&&a.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UW(t.webauthn.credential_response):BW(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:LW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:FW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=k0(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new On})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new On});const o=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ur()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new On});const o=await Xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ur()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new On})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new On})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Y9>a)return n;const{data:i,error:o}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});n=v.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:u}}=k0(n);r?.allowExpired||xW(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:o},error:null}}const f=yW(a.alg),p=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,sW(`${l}.${u}`)))throw new wN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}_d.nextInstanceID={};const XW=_d;class JW extends XW{constructor(t){super(t)}}class QW{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=q9(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:M9,realtime:L9,auth:Object.assign(Object.assign({},$9),{storageKey:u}),global:D9},f=W9(n??{},h);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=B9(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new Lz(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new P9(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Iz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:u,debug:h,throwOnError:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JW({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:u,debug:h,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new t9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jN=(e,t,r)=>new QW(e,t,r);function ZW(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const He="lnherrwzjtemrvzahppg",he="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuaGVycnd6anRlbXJ2emFocHBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTkyNTksImV4cCI6MjA3OTU3NTI1OX0.Okhete2Bda3oXFVjh8-Xg5Xt-Rd_I1nwcq0kapJuAuI",eq=`https://${He}.supabase.co`,tq=he,rq=()=>jN(eq,tq),Xs=rq();class nq{cache=new Map;pendingRequests=new Map;DEFAULT_TTL=300*1e3;MAX_CACHE_SIZE=100;getCacheKey(t){return`api_cache_${t}`}isValid(t){return Date.now()<t.expiresAt}get(t){const r=this.getCacheKey(t),n=this.cache.get(r);return n?this.isValid(n)?(console.log(`[Cache] HIT for ${t}`),n.data):(this.cache.delete(r),console.log(`[Cache] EXPIRED for ${t}`),null):null}set(t,r,n=this.DEFAULT_TTL){if(this.cache.size>=this.MAX_CACHE_SIZE){const o=this.cache.keys().next().value;o&&this.cache.delete(o)}const a=this.getCacheKey(t),i={data:r,timestamp:Date.now(),expiresAt:Date.now()+n};this.cache.set(a,i),console.log(`[Cache] SET for ${t} (TTL: ${n}ms)`)}isPending(t){return this.pendingRequests.has(t)}getPending(t){return this.pendingRequests.get(t)||null}setPending(t,r){this.pendingRequests.set(t,r),r.finally(()=>{this.pendingRequests.delete(t)})}clear(){this.cache.clear(),console.log("[Cache] Cleared all entries")}clearEndpoint(t){const r=this.getCacheKey(t);this.cache.delete(r),console.log(`[Cache] Cleared ${t}`)}delete(t){this.clearEndpoint(t)}clearByPattern(t){let r=0;for(const n of this.cache.keys())n.replace("api_cache_","").includes(t)&&(this.cache.delete(n),r++);console.log(`[Cache] Cleared ${r} entries matching pattern: ${t}`)}getStats(){return{size:this.cache.size,entries:Array.from(this.cache.keys())}}saveToStorage(){try{const t={};this.cache.forEach((r,n)=>{this.isValid(r)&&(t[n]=r)}),localStorage.setItem("api_cache",JSON.stringify(t)),console.log("[Cache] Saved to localStorage")}catch(t){console.error("[Cache] Failed to save to localStorage:",t)}}loadFromStorage(){try{const t=localStorage.getItem("api_cache");if(t){const r=JSON.parse(t);Object.entries(r).forEach(([n,a])=>{const i=a;this.isValid(i)&&this.cache.set(n,i)}),console.log("[Cache] Loaded from localStorage:",this.cache.size,"entries")}}catch(t){console.error("[Cache] Failed to load from localStorage:",t)}}}const ns=new nq;typeof window<"u"&&(ns.loadFromStorage(),setInterval(()=>{ns.saveToStorage()},3e4),window.addEventListener("beforeunload",()=>{ns.saveToStorage()}));const AM=He,T0=he,NN=`https://${AM}.supabase.co/functions/v1/make-server-4a075ebc`;console.log("[UserAPI]  Configuration loaded:",{projectId:AM,hasAnonKey:!0,apiBase:NN});class sq{userToken=null;setUserToken(t){this.userToken=t,typeof window<"u"&&localStorage.setItem("user_token",t)}getUserToken(){return this.userToken?this.userToken:typeof window<"u"?localStorage.getItem("user_token"):null}async importAudioFromUrl(t){return await this.request("/api/audio/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},0,!1)}async uploadAudio(t){return await this.request("/api/audio/upload",{method:"POST",body:t},0,!1)}async getAudio(t){return await this.request(`/api/audio/${t}`,{},0,!1)}async getAudioStatus(t){return await this.request(`/api/audio/${t}/status`,{},0,!1)}async getLyrics(t){return await this.request(`/api/audio/${t}/lyrics`,{},0,!1)}async ingestLyricsFromText(t,r){return await this.request(`/api/audio/${t}/lyrics/ingest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},0,!1)}async saveLyricsBlocks(t,r){return await this.request(`/api/audio/${t}/lyrics`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},0,!1)}async processAudio(t){return await this.request(`/api/audio/${t}/process`,{method:"POST"},0,!1)}async trackAnalyticsEvent(t){return await this.request("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},0,!1)}async getAnalyticsItemStats(t,r){return await this.request(`/api/analytics/stats/${t}/${r}`,{},0,!1)}async request(t,r={},n=0,a=!0){const i=!r.method||r.method==="GET";if(i&&a){const p=ns.get(t);if(p)return p;if(ns.isPending(t)){console.log(`[UserAPI] Request already pending, waiting: ${t}`);const g=ns.getPending(t);if(g)return g}}const o={"Content-Type":"application/json",Authorization:`Bearer ${T0}`,...r.headers},l=this.getUserToken();l&&(o["X-User-Token"]=l);const u=1,h=6e4;console.log(`[UserAPI] Requesting: ${t}${n>0?` (retry ${n}/${u})`:""}`);const f=(async()=>{try{const p=new AbortController,g=setTimeout(()=>p.abort(),h),v=await fetch(`${NN}${t}`,{...r,headers:o,signal:p.signal});if(clearTimeout(g),!v.ok){const y=await v.json().catch(()=>({message:"Request failed"}));if(y.error==="unauthorized"||y.message?.includes("Invalid token")||y.message?.includes("unauthorized")||v.status===401){const N=new Error(y.message||"Authentication required");throw N.isAuthError=!0,N.statusCode=v.status,N}if((y.code==="WORKER_LIMIT"||y.message?.includes("compute resources")||y.message?.includes("timeout")||y.message?.includes("connection pool")||y.error==="server_error")&&n<u)return console.warn("[UserAPI] Resource limit error, retrying in 1500ms..."),await new Promise(E=>setTimeout(E,1500)),this.request(t,r,n+1,a);throw console.error("[UserAPI] Error:",y),new Error(y.message||`HTTP ${v.status}`)}const b=await v.json();if(i&&a){const y=t.includes("/media/list")?6e5:3e5;ns.set(t,b,y)}return b}catch(p){if(p.name==="AbortError"||p.message?.includes("timeout")||p.message?.includes("Failed to fetch")){if(n<u)return console.warn("[UserAPI] Request timeout, retrying in 1500ms..."),await new Promise(b=>setTimeout(b,1500)),this.request(t,r,n+1,a);console.warn(`[UserAPI] Backend not responding after ${u} retries - will use fallback data`);const g=new Error("Backend timeout - using offline mode");throw g.isBackendTimeout=!0,g}throw p.isAuthError||console.error(`[UserAPI] Request failed for ${t}:`,p),p}})();return i&&a&&ns.setPending(t,f),f}async signup(t,r,n,a){const i=await this.request("/auth/signup",{method:"POST",body:JSON.stringify({email:t,password:r,name:n,phone:a})},0,!1);return i.success&&i.access_token&&this.setUserToken(i.access_token),i}async login(t,r){const n=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:r})},0,!1);return n.success&&n.access_token&&this.setUserToken(n.access_token),n}async checkSession(){return this.request("/auth/session",{},0,!1)}clearCache(){ns.clear(),console.log("[UserAPI] Cache cleared")}getCacheStats(){return ns.getStats()}async getWallpapers(t={}){const r={page:t.page||1,limit:t.limit||20,search:t.search||void 0};console.log("[UserAPI] MOBILE MODE - POST /wallpapers/list",r);try{console.log("[UserAPI]  Warming up edge function with health check...");try{const o=Date.now();await fetch(`${NN}/health`,{method:"GET",headers:{Authorization:`Bearer ${T0}`},signal:AbortSignal.timeout(15e3)});const l=Date.now()-o;console.log(`[UserAPI]  Edge function warmed up in ${l}ms`)}catch(o){console.warn("[UserAPI]  Warmup failed, proceeding anyway:",o)}const n={"Content-Type":"application/json",Authorization:`Bearer ${T0}`},a=await this.request("/wallpapers/list",{method:"POST",headers:n,body:JSON.stringify(r)});if(console.log("[UserAPI] Admin backend response:",{success:a.success,dataLength:a.data?.length||0,firstItem:a.data?.[0],pagination:a.pagination}),!a.data||!Array.isArray(a.data))throw console.error("[UserAPI] Admin backend did not return data array:",a),new Error("Invalid response from admin backend: missing data array");const i=(a.data||[]).map(this.transformMediaToUserFormat);return console.log(`[UserAPI] Transformed ${i.length} media items`),i.length>0&&console.log("[UserAPI] Sample transformed item:",i[0]),{data:i,pagination:a.pagination||{page:1,limit:20,total:0,hasMore:!1}}}catch(n){return console.error("[UserAPI]  Failed to fetch wallpapers from admin backend:",n),console.error("[UserAPI] Error details:",{message:n.message,isBackendTimeout:n.isBackendTimeout,isAuthError:n.isAuthError,statusCode:n.statusCode}),{data:[],pagination:{page:t.page||1,limit:t.limit||20,total:0,hasMore:!1}}}}async getYouTubeMedia(t={}){try{console.log("[UserAPI] Fetching media from admin backend...");const r=await this.request("/api/media",{},0,!1);if(console.log("[UserAPI] Admin backend raw response:",{success:r.success,dataLength:r.data?.length||0,firstItem:r.data?.[0]}),!r.success||!r.data)return console.error("[UserAPI] Invalid response from admin backend:",r),{data:[],pagination:{page:1,limit:100,total:0,hasMore:!1}};const n=(r.data||[]).map(this.transformAdminMediaToYouTube);return console.log(`[UserAPI]  Transformed ${n.length} media items`),n.length>0&&console.log("[UserAPI] Sample transformed item:",n[0]),{data:n,pagination:{page:t.page||1,limit:t.limit||100,total:n.length,hasMore:!1}}}catch(r){return console.error("[UserAPI]  Failed to fetch media from admin backend:",r),{data:[],pagination:{page:1,limit:100,total:0,hasMore:!1}}}}async getSparkleArticles(t={}){try{console.log("[UserAPI] Fetching sparkles from admin backend...");const r=await this.request("/api/sparkles?publishStatus=published",{},0,!1);if(console.log("[UserAPI] Admin backend raw response:",{success:r.success,dataLength:r.data?.length||0,firstItem:r.data?.[0]}),!r.success||!r.data)return console.error("[UserAPI] Invalid response from admin backend:",r),{data:[],pagination:{page:1,limit:100,total:0,hasMore:!1}};const n=(r.data||[]).map(this.transformSparkleToUserFormat);return console.log(`[UserAPI]  Transformed ${n.length} sparkle articles`),n.length>0&&console.log("[UserAPI] Sample transformed item:",n[0]),{data:n,pagination:{page:t.page||1,limit:t.limit||100,total:n.length,hasMore:!1}}}catch(r){return console.error("[UserAPI]  Failed to fetch sparkles from admin backend:",r),{data:[],pagination:{page:1,limit:100,total:0,hasMore:!1}}}}getAnonymousUserId(){if(typeof window>"u")return"server";let t=localStorage.getItem("murugan_anonymous_user_id");return t||(t=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("murugan_anonymous_user_id",t)),t}async likeMedia(t){try{const r=this.getAnonymousUserId(),n=await this.request(`/media/${t}/like`,{method:"POST",body:JSON.stringify({user_id:r})},0,!1);return{success:!0,action:n.result?.action||"liked",like_count:n.result?.like_count||0,...n}}catch(r){return console.warn("[UserAPI] Like failed (may need auth):",r),{success:!1,error:r?.message||String(r)}}}async unlikeMedia(t){try{const r=this.getAnonymousUserId(),n=await this.request(`/media/${t}/like`,{method:"POST",body:JSON.stringify({user_id:r})},0,!1);return{success:!0,action:n.result?.action||"unliked",like_count:n.result?.like_count||0,...n}}catch(r){return console.warn("[UserAPI] Unlike failed:",r),{success:!1,error:r?.message||String(r)}}}async toggleLike(t){try{const r=this.getAnonymousUserId(),n=await this.request(`/media/${t}/like`,{method:"POST",body:JSON.stringify({user_id:r})},0,!1);return ns.delete(`/media/${t}/check-like?user_id=${r}`),ns.clearByPattern("/wallpapers/list"),{success:!0,action:n.result?.action||"liked",like_count:n.result?.like_count||0,...n}}catch(r){throw console.warn("[UserAPI] Toggle like failed:",r),r}}async downloadMedia(t){try{return await this.request(`/media/${t}/download`,{method:"POST"},0,!1)}catch(r){return console.warn("[UserAPI] Download tracking failed:",r),{success:!0}}}async trackShare(t){try{return await this.request(`/media/${t}/share`,{method:"POST"},0,!1)}catch(r){return console.warn("[UserAPI] Share tracking failed:",r),{success:!0}}}async trackView(t){try{return await this.request(`/media/${t}/view`,{method:"POST"},0,!1)}catch(r){return console.warn("[UserAPI] View tracking failed:",r),{success:!0}}}async checkIfLiked(t){try{const r=this.getAnonymousUserId();return(await this.request(`/media/${t}/check-like?user_id=${r}`,{method:"GET"},0,!0))?.liked||!1}catch(r){return console.warn("[UserAPI] Check like failed:",r),!1}}transformMediaToUserFormat=t=>{console.log("[UserAPI]  Transforming admin media:",{id:t.id,title:t.title,rawFields:Object.keys(t),image_url:t.image_url,thumbnail_url:t.thumbnail_url,is_video:t.is_video,video_url:t.video_url,publish_status:t.publish_status,visibility:t.visibility}),!t.url&&!t.storagePath&&!t.storage_path&&!t.imageUrl&&!t.image_url&&!t.originalUrl&&!t.original_url&&!t.video_url&&console.error("[UserAPI]  Media missing ALL possible URL fields:",t);const r=t.video_url||t.url||t.imageUrl||t.image_url||t.originalUrl||t.original_url||t.storagePath||t.storage_path||t.largeUrl||t.large_url||"",n=t.thumbnail||t.thumbnailUrl||t.thumbnail_url||t.smallUrl||t.small_url||t.mediumUrl||t.medium_url||r||"",a={id:t.id,type:t.is_video||t.type==="video"?"video":(t.type==="photo","image"),is_video:t.is_video||!1,video_url:t.video_url||null,title:t.title||"Untitled",description:t.description||"",tags:Array.isArray(t.tags)?t.tags:[],uploader:t.uploadedBy||t.uploader||t.uploaded_by||"unknown",created_at:t.uploadedAt||t.uploaded_at||t.created_at||t.createdAt||new Date().toISOString(),storage_path:r,thumbnail_url:n,duration_seconds:t.duration||t.duration_seconds||0,downloadable:t.downloadable!==!1&&!t.isPremium,views:t.stats?.views||t.view_count||t.views||0,likes:t.stats?.likes||t.like_count||t.likes||0,downloads:t.stats?.downloads||t.download_count||t.downloads||0,shares:t.stats?.shares||t.share_count||t.shares||0};return console.log("[UserAPI]  Transformed result:",{id:a.id,title:a.title,type:a.type,is_video:a.is_video,storage_path:a.storage_path,video_url:a.video_url,thumbnail_url:a.thumbnail_url}),a};transformAdminMediaToYouTube=t=>{console.log("[UserAPI]  Transforming admin media to YouTube format:",{id:t.id,title:t.title,media_type:t.media_type,youtube_url:t.youtube_url,file_url:t.file_url,thumbnail_url:t.thumbnail_url,category_name:t.categories?.name});const r=t.media_type==="audio"?"songs":t.media_type==="video"?"videos":"uncategorized",n=t.youtube_url||t.file_url||"",a=this.extractYouTubeId(n),i=t.thumbnail_url||(a?`https://img.youtube.com/vi/${a}/mqdefault.jpg`:"");return{id:t.id,type:"youtube",title:t.title||"Untitled",description:t.description||"",tags:Array.isArray(t.tags)?t.tags:[],category:r,embedUrl:n,thumbnail:i,youtubeId:a,stats:{views:t.play_count||0,likes:t.like_count||0,downloads:t.download_count||0,shares:t.share_count||0},uploadedAt:t.created_at||new Date().toISOString()}};transformSparkleToUserFormat=t=>{console.log("[UserAPI]  Transforming admin sparkle:",{id:t.id,title:t.title,subtitle:t.subtitle,cover_image_url:t.cover_image_url,thumbnail_url:t.thumbnail_url,video_url:t.video_url,video_id:t.video_id,publish_status:t.publish_status});const r=!!(t.video_url||t.videoId||t.video_id),n=t.cover_image_url||t.thumbnail_url||t.thumbnail||(r?t.video_url:"")||"",a=typeof t.title=="string"?t.title.trim():"",i=typeof t.subtitle=="string"?t.subtitle.trim():"",o={id:t.id,type:r?"video":"article",title:a,snippet:i||t.content?.substring(0,200)?.trim()||"",content:typeof t.content=="string"?t.content:"",source:t.source||"Murugan Wallpapers",publishedAt:t.published_at||t.created_at||new Date().toISOString(),url:t.external_link||"#",image:n,tags:Array.isArray(t.tags)?t.tags:[],videoUrl:t.video_url||null,videoId:t.video_id||t.videoId||null};return console.log("[UserAPI]  Transformed result:",{id:o.id,type:o.type,hasVideo:r,videoUrl:o.videoUrl,image:o.image,imageUrl:n}),o};extractYouTubeId=t=>{if(!t)return"";const o=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/^([a-zA-Z0-9_-]{11})$/];for(const l of o){const u=t.match(l);if(u&&u[1])return u[1]}return""}}const er=new sq;let Da=null,Bp=null,TM=Date.now(),Jl=null,ud=0;function aq(){try{const e=globalThis?.crypto;if(e?.randomUUID)return e.randomUUID();const t=e?.getRandomValues?.bind(e),r=new Uint8Array(16);if(t)t(r);else for(let a=0;a<r.length;a++)r[a]=Math.floor(Math.random()*256);r[6]=r[6]&15|64,r[8]=r[8]&63|128;const n=Array.from(r,a=>a.toString(16).padStart(2,"0")).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}catch{const e=()=>Math.floor((1+Math.random())*65536).toString(16).slice(1);return`${e()}${e()}-${e()}-4${e().slice(1)}-8${e().slice(1)}-${e()}${e()}${e()}`}}function iq(e){Da=e}function oq(){const e=aq();Bp=e,TM=Date.now(),Jl=null,ud=0,Da?.setSessionId(e),Da?.upsertSession({id:e,started_at:new Date().toISOString()}),Da?.trackEvent("session_start",{})}function lq(){Jl==null&&(Jl=Date.now(),Da?.trackEvent("idle_start",{}))}function OM(){if(Jl==null)return;const e=Date.now(),t=Math.max(0,Math.floor((e-Jl)/1e3));ud+=t,Jl=null,Da?.trackEvent("idle_end",{idle_seconds:t})}function O0(){if(!Bp)return;OM();const e=Math.max(0,Math.floor((Date.now()-TM)/1e3)),t=Math.max(0,e-ud);Da?.trackEvent("session_end",{total_duration_seconds:e,idle_duration_seconds:ud,active_duration_seconds:t}),Da?.upsertSession({id:Bp,ended_at:new Date().toISOString(),total_duration_seconds:e,idle_duration_seconds:ud,active_duration_seconds:t});try{Da?.flush?.(!0)}catch{}Bp=null}const rr=`https://${He}.supabase.co/functions/v1/make-server-4a075ebc`;async function CM(e){const t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/overview${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function cq(e){const t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/features${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function C0(e,t){const r=new URLSearchParams;t?.from&&r.set("from",t.from),t?.to&&r.set("to",t.to);const n=r.toString()?`?${r.toString()}`:"";return ur(`/api/admin/analytics/features/${encodeURIComponent(e)}${n}`,{headers:{Authorization:`Bearer ${he}`}})}async function PM(e){const t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/pages${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function uq(e,t){const r=new URLSearchParams;t?.from&&r.set("from",t.from),t?.to&&r.set("to",t.to);const n=r.toString()?`?${r.toString()}`:"";return ur(`/api/admin/analytics/pages/${encodeURIComponent(e)}${n}`,{headers:{Authorization:`Bearer ${he}`}})}async function dq(e){const t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),t.set("limit",String(e.limit));const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/sessions${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function hq(e){return ur(`/api/admin/analytics/sessions/${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${he}`}})}async function fq(){return ur("/api/admin/experiments",{headers:{Authorization:`Bearer ${he}`}})}async function pq(e){return ur("/api/admin/experiments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(e)})}async function eT(e,t){return ur(`/api/admin/experiments/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(t)})}async function mq(e,t){return ur(`/api/admin/experiments/${encodeURIComponent(e)}/variants`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({variants:t})})}const RM="/make-server-4a075ebc",IM=[rr,`https://${He}.supabase.co/functions/v1/server`];function gq(){try{return typeof window>"u"?null:window.localStorage.getItem("user_token")}catch{return null}}function DM(e){const t=gq(),r={apikey:he},n=e?.headers||{};if(n)try{n instanceof Headers?n.forEach((a,i)=>{r[i]=a}):Object.assign(r,n)}catch{}return t&&(r["X-User-Token"]=t),{...e||{},headers:r}}async function Je(e,t){const r=e.startsWith("/")?e:`/${e}`,n=DM(t),a=[];for(const l of IM)a.push(`${l}${r}`),a.push(`${l}${RM}${r}`);let i=null,o=null;for(const l of a)try{const u=await fetch(l,n);if(i=u,u.status===404)continue;return u}catch(u){o=u;continue}if(i)return i;throw o||new Error("Request failed")}async function ur(e,t){const r=e.startsWith("/")?e:`/${e}`,n=DM(t),a=[];for(const l of IM)a.push(`${l}${r}`),a.push(`${l}${RM}${r}`);let i=null,o=null;for(const l of a)try{const u=await fetch(l,n);if(i=u,u.ok)return P0(u);if(u.status===404)continue;return P0(u)}catch(u){o=u;continue}if(i)return P0(i);throw o||new Error("Request failed")}async function P0(e){const n=(e.headers.get("content-type")||"").includes("application/json")?await e.json().catch(()=>null):await e.text().catch(()=>"");if(!e.ok){const a=n&&typeof n=="object"&&n.error||typeof n=="string"&&n||`HTTP ${e.status}: ${e.statusText}`;throw new Error(a)}return n}async function k_(){return(await fetch(`${rr}/api/wallpapers`,{headers:{Authorization:`Bearer ${he}`}})).json()}async function _a(e,t){return(await fetch(`${rr}/api/wallpapers/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(t)})).json()}async function xq(e){return(await fetch(`${rr}/api/wallpapers/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json()}async function MM(){return(await fetch(`${rr}/api/banners`,{headers:{Authorization:`Bearer ${he}`}})).json()}async function Fu(e,t){return(await fetch(`${rr}/api/banners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(t)})).json()}async function tT(e){return(await fetch(`${rr}/api/banners/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json()}async function yq(){return(await fetch(`${rr}/api/media`,{headers:{Authorization:`Bearer ${he}`}})).json()}async function $M(){return(await fetch(`${rr}/api/sparkles`,{headers:{Authorization:`Bearer ${he}`}})).json()}async function Uu(e,t){return(await fetch(`${rr}/api/sparkle/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(t)})).json()}async function rT(e){return(await fetch(`${rr}/api/sparkle/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json()}async function vq(e,t){const r=new FormData;return e&&r.append("file",e),Object.keys(t).forEach(a=>{t[a]!==void 0&&t[a]!==null&&r.append(a,t[a])}),(await fetch(`${rr}/api/upload/wallpaper`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:r})).json()}async function bq(e,t){const r=new FormData;return e&&r.append("file",e),Object.keys(t).forEach(a=>{t[a]!==void 0&&t[a]!==null&&r.append(a,t[a])}),(await fetch(`${rr}/api/upload/banner`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:r})).json()}async function wq(e,t){const r=new FormData;return e&&r.append("file",e),Object.keys(t).forEach(a=>{t[a]!==void 0&&t[a]!==null&&r.append(a,t[a])}),(await fetch(`${rr}/api/upload/popup-banner`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:r})).json()}async function jq(){return(await fetch(`${rr}/api/popup-banners`,{headers:{Authorization:`Bearer ${he}`}})).json()}async function Nq(e,t){return(await fetch(`${rr}/api/popup-banners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(t)})).json()}async function _q(e){return(await fetch(`${rr}/api/popup-banners/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json()}async function Sq(e){return(await fetch(`${rr}/api/popup-banners/${e}/push`,{method:"POST",headers:{Authorization:`Bearer ${he}`}})).json()}async function kq(e,t){const r=new FormData;return r.append("file",t),(await fetch(`${rr}/api/popup-banners/${e}/image`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:r})).json()}async function Eq(e,t){const r=new FormData;return e&&r.append("file",e),t&&t.videoFile instanceof File&&r.append("video",t.videoFile),Object.keys(t).forEach(a=>{a!=="videoFile"&&t[a]!==void 0&&t[a]!==null&&r.append(a,t[a])}),(await fetch(`${rr}/api/upload/sparkle`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:r})).json()}async function LM(){return(await fetch(`${rr}/api/storage/stats`,{headers:{Authorization:`Bearer ${he}`}})).json()}async function Aq(e){const t=new URLSearchParams;e?.event_name&&t.set("event_name",e.event_name),e?.feature_key&&t.set("feature_key",e.feature_key),e?.page&&t.set("page",e.page),e?.route&&t.set("route",e.route),e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),e?.before&&t.set("before",e.before),t.set("limit",String(e.limit));const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/events${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Tq(e){const t=new URLSearchParams;e?.page&&t.set("page",e.page),e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/content/calendar-usage${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Oq(e){const t=new URLSearchParams;t.set("acknowledged",String(e.acknowledged)),t.set("limit",String(e.limit));const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/analytics/insights${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Cq(){return ur("/api/admin/divine-guard/release-versions",{headers:{Authorization:`Bearer ${he}`}})}async function Pq(e){const t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),e?.app_version&&t.set("app_version",e.app_version),e?.screen&&t.set("screen",e.screen),e?.feature_key&&t.set("feature_key",e.feature_key),e?.network_state&&t.set("network_state",e.network_state);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/divine-guard/media/overview${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Rq(e){const t=new URLSearchParams;e?.from&&t.set("from",e.from),e?.to&&t.set("to",e.to),e?.app_version&&t.set("app_version",e.app_version),e?.screen&&t.set("screen",e.screen),e?.feature_key&&t.set("feature_key",e.feature_key),e?.network_state&&t.set("network_state",e.network_state),e?.limit!=null&&t.set("limit",String(e.limit));const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/divine-guard/media/assets${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Iq(e){const t=new URLSearchParams;t.set("version_a",e.version_a),t.set("version_b",e.version_b),e.from&&t.set("from",e.from),e.to&&t.set("to",e.to);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/admin/divine-guard/media/compare${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Dq(e){const t=new URLSearchParams;e?.app_version&&t.set("app_version",e.app_version),e?.feature_key&&t.set("feature_key",e.feature_key),e?.network_state&&t.set("network_state",e.network_state);const r=t.toString()?`?${t.toString()}`:"";return ur(`/api/divine-guard/control-snapshot${r}`,{headers:{Authorization:`Bearer ${he}`}})}async function Mq(e){return ur("/api/admin/divine-guard/rules/upsert",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(e)})}const E_="murugan_analytics_consent_v1";function FM(){try{if(typeof window>"u")return{analytics:!0};const e=window.localStorage.getItem(E_);return e?{analytics:JSON.parse(e)?.analytics!==!1}:{analytics:!0}}catch{return{analytics:!0}}}function $q(){try{return typeof window>"u"?!0:window.localStorage.getItem(E_)!=null}catch{return!0}}function _N(e){try{if(typeof window>"u")return;window.localStorage.setItem(E_,JSON.stringify({analytics:e.analytics!==!1})),window.dispatchEvent(new CustomEvent("murugan_analytics_consent_changed",{detail:e}))}catch{}}function zl(){return FM().analytics!==!1}let UM=null,ed=null;function nT(){try{const e=globalThis?.crypto;if(e?.randomUUID)return e.randomUUID();const t=e?.getRandomValues?.bind(e),r=new Uint8Array(16);if(t)t(r);else for(let a=0;a<r.length;a++)r[a]=Math.floor(Math.random()*256);r[6]=r[6]&15|64,r[8]=r[8]&63|128;const n=Array.from(r,a=>a.toString(16).padStart(2,"0")).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}catch{const e=()=>Math.floor((1+Math.random())*65536).toString(16).slice(1);return`${e()}${e()}-${e()}-4${e().slice(1)}-8${e().slice(1)}-${e()}${e()}${e()}`}}function sT(e){UM=e}function Lq(){const e="universal_analytics_session_id";try{const t=globalThis?.sessionStorage;if(t?.getItem){const r=t.getItem(e);if(r)return r;const n=nT();return t.setItem(e,n),n}}catch{}return ed||(ed=nT(),ed)}function R0(){const e=import.meta?.env?.VITE_APP_VERSION;return typeof e=="string"&&e.length>0?e:"0.1.0"}class Fq{queue=[];flushTimer=null;sessionId;userId=null;sessionSent=!1;pendingSession=null;constructor(){this.sessionId=Lq();try{typeof setInterval=="function"&&(this.flushTimer=setInterval(()=>{this.flush()},5e3))}catch{}if(typeof window<"u"){const t=localStorage.getItem("universal_analytics_user_id");t&&(this.userId=t),window.addEventListener("murugan_analytics_consent_changed",()=>{zl()||(this.queue=[],this.pendingSession=null)}),window.addEventListener("beforeunload",()=>{this.destroy(),this.flush(!0)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flush(!0)})}}destroy(){this.flushTimer!=null&&(clearInterval(this.flushTimer),this.flushTimer=null)}setUserId(t){this.userId=t,typeof window<"u"&&(t?localStorage.setItem("universal_analytics_user_id",t):localStorage.removeItem("universal_analytics_user_id"))}setSessionId(t){this.sessionId=t,this.sessionSent=!1,this.pendingSession=null;const r="universal_analytics_session_id";try{const n=globalThis?.sessionStorage;n?.setItem&&n.setItem(r,t)}catch{}ed=t}upsertSession(t){t?.id&&(this.pendingSession={...this.pendingSession||{},...t,id:t.id,user_id:t.user_id??this.userId??void 0,device:t.device??(typeof navigator<"u"?navigator.userAgent:void 0),platform:t.platform??(typeof navigator<"u"?navigator.platform:void 0),app_version:t.app_version??R0()})}track(t,r={}){if(!zl())return;const n=UM??(typeof window<"u"?window.location.pathname:void 0),a=r.route??n,i=r.page??n,{feature_key:o,metadata:l,user_id:u,session_id:h,...f}=r||{},p={event_name:t,feature_key:o,page:i,route:a,user_id:u??this.userId??void 0,session_id:h??this.sessionId,metadata:{...l||{},...f,timestamp:new Date().toISOString(),app_version:R0(),user_agent:typeof navigator<"u"?navigator.userAgent:void 0,platform:typeof navigator<"u"?navigator.platform:void 0}};this.queue.push(p),this.queue.length>=10&&this.flush()}buildSessionPayload(){return{id:this.sessionId,user_id:this.userId??void 0,device:typeof navigator<"u"?navigator.userAgent:void 0,platform:typeof navigator<"u"?navigator.platform:void 0,app_version:R0(),started_at:new Date().toISOString()}}async flush(t=!1){if(!zl()){this.queue=[],this.pendingSession=null;return}if(this.queue.length===0&&this.sessionSent&&!this.pendingSession)return;const r=this.queue.splice(0,50),n=this.pendingSession||(this.sessionSent?void 0:this.buildSessionPayload()),a=JSON.stringify({session:n,events:r,consent:{analytics:zl()}});try{(await Je("/api/analytics/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:a,keepalive:t})).ok&&(this.sessionSent=!0,this.pendingSession=null)}catch{r.length>0&&this.queue.unshift(...r)}}}const wo=new Fq;iq({trackEvent:(e,t={})=>{wo.track(e,t)},upsertSession:e=>{zl()&&wo.upsertSession(e)},setSessionId:e=>{zl()&&wo.setSessionId(e)},flush:async e=>{await wo.flush(!!e)}});function aT(e){wo.setUserId(e)}function ss(e,t={}){wo.track(e,t)}async function iT(){await wo.flush()}const BM=w.createContext(void 0);function Uq({children:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!0);w.useEffect(()=>{Xs.auth.getSession().then(({data:{session:u}})=>{r(u?.user??null),a(!1),aT(u?.user?.id??null),u?.access_token&&er.setUserToken(u.access_token)});const{data:{subscription:l}}=Xs.auth.onAuthStateChange((u,h)=>{r(h?.user??null),aT(h?.user?.id??null),h?.access_token&&er.setUserToken(h.access_token)});return()=>l.unsubscribe()},[]);const i=async(l,u)=>{const{data:h,error:f}=await Xs.auth.signInWithPassword({email:l,password:u});if(f)throw f;r(h.user),h.session?.access_token&&er.setUserToken(h.session.access_token)},o=async()=>{await Xs.auth.signOut(),r(null),typeof window<"u"&&localStorage.removeItem("user_token")};return s.jsx(BM.Provider,{value:{user:t,loading:n,signIn:i,signOut:o},children:e})}function Vo(){const e=w.useContext(BM);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const zM="/assets/murugan-DvkKsd_O.gif",Bq="/assets/TKM_White-DElprvbR.png";function zq({onComplete:e}){return w.useEffect(()=>{if(!e)return;const t=setTimeout(()=>{e()},2500);return()=>clearTimeout(t)},[e]),s.jsx("div",{className:"bg-[#084C28] fixed inset-0 z-[9999] flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[s.jsx("div",{className:"w-[120px] h-[120px]",children:s.jsx("img",{src:zM,alt:"Lord Murugan",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"w-[90px] max-w-[70vw]",children:s.jsx("img",{src:Bq,alt:"Murugan",className:"w-full h-auto object-contain"})})]})})}const Wq="/assets/splash-logo-BR9D1NL7.png";function WM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=WM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=WM(e))&&(n&&(n+=" "),n+=t);return n}const qq=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Vq=(e,t)=>({classGroupId:e,validator:t}),qM=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Zp="-",oT=[],Hq="arbitrary..",Gq=e=>{const t=Yq(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Kq(o);const l=o.split(Zp),u=l[0]===""&&l.length>1?1:0;return VM(l,u,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=n[o],h=r[o];return u?h?qq(h,u):u:h||oT}return r[o]||oT}}},VM=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const h=VM(e,t+1,i);if(h)return h}const o=r.validators;if(o===null)return;const l=t===0?e.join(Zp):e.slice(t).join(Zp),u=o.length;for(let h=0;h<u;h++){const f=o[h];if(f.validator(l))return f.classGroupId}},Kq=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Hq+n:void 0})(),Yq=e=>{const{theme:t,classGroups:r}=e;return Xq(r,t)},Xq=(e,t)=>{const r=qM();for(const n in e){const a=e[n];A_(a,r,n,t)}return r},A_=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];Jq(o,t,r,n)}},Jq=(e,t,r,n)=>{if(typeof e=="string"){Qq(e,t,r);return}if(typeof e=="function"){Zq(e,t,r,n);return}eV(e,t,r,n)},Qq=(e,t,r)=>{const n=e===""?t:HM(t,e);n.classGroupId=r},Zq=(e,t,r,n)=>{if(tV(e)){A_(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Vq(r,e))},eV=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,u]=a[o];A_(u,HM(t,l),r,n)}},HM=(e,t)=>{let r=e;const n=t.split(Zp),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=qM(),r.nextPart.set(o,l)),r=l}return r},tV=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,rV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},SN="!",lT=":",nV=[],cT=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),sV=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,u=0,h;const f=a.length;for(let y=0;y<f;y++){const x=a[y];if(o===0&&l===0){if(x===lT){i.push(a.slice(u,y)),u=y+1;continue}if(x==="/"){h=y;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const p=i.length===0?a:a.slice(u);let g=p,v=!1;p.endsWith(SN)?(g=p.slice(0,-1),v=!0):p.startsWith(SN)&&(g=p.slice(1),v=!0);const b=h&&h>u?h-u:void 0;return cT(i,v,g,b)};if(t){const a=t+lT,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):cT(nV,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},aV=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",u=t.has(o);l||u?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},iV=e=>({cache:rV(e.cacheSize),parseClassName:sV(e),sortModifiers:aV(e),...Gq(e)}),oV=/\s+/,lV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(oV);let u="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{isExternal:p,modifiers:g,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:y}=r(f);if(p){u=f+(u.length>0?" "+u:u);continue}let x=!!y,_=n(x?b.substring(0,y):b);if(!_){if(!x){u=f+(u.length>0?" "+u:u);continue}if(_=n(b),!_){u=f+(u.length>0?" "+u:u);continue}x=!1}const N=g.length===0?"":g.length===1?g[0]:i(g).join(":"),E=v?N+SN:N,C=E+_;if(o.indexOf(C)>-1)continue;o.push(C);const S=a(_,x);for(let k=0;k<S.length;++k){const A=S[k];o.push(E+A)}u=f+(u.length>0?" "+u:u)}return u},cV=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=GM(r))&&(a&&(a+=" "),a+=n);return a},GM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=GM(e[n]))&&(r&&(r+=" "),r+=t);return r},uV=(e,...t)=>{let r,n,a,i;const o=u=>{const h=t.reduce((f,p)=>p(f),e());return r=iV(h),n=r.cache.get,a=r.cache.set,i=l,l(u)},l=u=>{const h=n(u);if(h)return h;const f=lV(u,r);return a(u,f),f};return i=o,(...u)=>i(cV(...u))},dV=[],pr=e=>{const t=r=>r[e]||dV;return t.isThemeGetter=!0,t},KM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hV=/^\d+\/\d+$/,fV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ol=e=>hV.test(e),ot=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),I0=e=>e.endsWith("%")&&ot(e.slice(0,-1)),Sa=e=>fV.test(e),yV=()=>!0,vV=e=>pV.test(e)&&!mV.test(e),XM=()=>!1,bV=e=>gV.test(e),wV=e=>xV.test(e),jV=e=>!$e(e)&&!Le(e),NV=e=>Fc(e,ZM,XM),$e=e=>KM.test(e),oo=e=>Fc(e,e3,vV),D0=e=>Fc(e,AV,ot),uT=e=>Fc(e,JM,XM),_V=e=>Fc(e,QM,wV),hp=e=>Fc(e,t3,bV),Le=e=>YM.test(e),Bu=e=>Uc(e,e3),SV=e=>Uc(e,TV),dT=e=>Uc(e,JM),kV=e=>Uc(e,ZM),EV=e=>Uc(e,QM),fp=e=>Uc(e,t3,!0),Fc=(e,t,r)=>{const n=KM.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Uc=(e,t,r=!1)=>{const n=YM.exec(e);return n?n[1]?t(n[1]):r:!1},JM=e=>e==="position"||e==="percentage",QM=e=>e==="image"||e==="url",ZM=e=>e==="length"||e==="size"||e==="bg-size",e3=e=>e==="length",AV=e=>e==="number",TV=e=>e==="family-name",t3=e=>e==="shadow",OV=()=>{const e=pr("color"),t=pr("font"),r=pr("text"),n=pr("font-weight"),a=pr("tracking"),i=pr("leading"),o=pr("breakpoint"),l=pr("container"),u=pr("spacing"),h=pr("radius"),f=pr("shadow"),p=pr("inset-shadow"),g=pr("text-shadow"),v=pr("drop-shadow"),b=pr("blur"),y=pr("perspective"),x=pr("aspect"),_=pr("ease"),N=pr("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...C(),Le,$e],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],P=()=>[Le,$e,u],O=()=>[Ol,"full","auto",...P()],I=()=>[xi,"none","subgrid",Le,$e],D=()=>["auto",{span:["full",xi,Le,$e]},xi,Le,$e],L=()=>[xi,"auto",Le,$e],F=()=>["auto","min","max","fr",Le,$e],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...P()],q=()=>[Ol,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],M=()=>[e,Le,$e],V=()=>[...C(),dT,uT,{position:[Le,$e]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",kV,NV,{size:[Le,$e]}],J=()=>[I0,Bu,oo],le=()=>["","none","full",h,Le,$e],se=()=>["",ot,Bu,oo],xe=()=>["solid","dashed","dotted","double"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[ot,I0,dT,uT],me=()=>["","none",b,Le,$e],fe=()=>["none",ot,Le,$e],ye=()=>["none",ot,Le,$e],ve=()=>[ot,Le,$e],ce=()=>[Ol,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sa],breakpoint:[Sa],color:[yV],container:[Sa],"drop-shadow":[Sa],ease:["in","out","in-out"],font:[jV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sa],shadow:[Sa],spacing:["px",ot],text:[Sa],"text-shadow":[Sa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ol,$e,Le,x]}],container:["container"],columns:[{columns:[ot,$e,Le,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",Le,$e]}],basis:[{basis:[Ol,"full","auto",l,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,Ol,"auto","initial","none",$e]}],grow:[{grow:["",ot,Le,$e]}],shrink:[{shrink:["",ot,Le,$e]}],order:[{order:[xi,"first","last","none",Le,$e]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,Bu,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Le,D0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",I0,$e]}],"font-family":[{font:[SV,$e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Le,$e]}],"line-clamp":[{"line-clamp":[ot,"none",Le,D0]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",Le,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",Le,oo]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[ot,"auto",Le,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,Le,$e],radial:["",Le,$e],conic:[xi,Le,$e]},EV,_V]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,Le,$e]}],"outline-w":[{outline:["",ot,Bu,oo]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",f,fp,hp]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",p,fp,hp]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[ot,oo]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",g,fp,hp]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[ot,Le,$e]}],"mix-blend":[{"mix-blend":[...X(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":X()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Le,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,$e]}],filter:[{filter:["","none",Le,$e]}],blur:[{blur:me()}],brightness:[{brightness:[ot,Le,$e]}],contrast:[{contrast:[ot,Le,$e]}],"drop-shadow":[{"drop-shadow":["","none",v,fp,hp]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",ot,Le,$e]}],"hue-rotate":[{"hue-rotate":[ot,Le,$e]}],invert:[{invert:["",ot,Le,$e]}],saturate:[{saturate:[ot,Le,$e]}],sepia:[{sepia:["",ot,Le,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,$e]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[ot,Le,$e]}],"backdrop-contrast":[{"backdrop-contrast":[ot,Le,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,Le,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,Le,$e]}],"backdrop-invert":[{"backdrop-invert":["",ot,Le,$e]}],"backdrop-opacity":[{"backdrop-opacity":[ot,Le,$e]}],"backdrop-saturate":[{"backdrop-saturate":[ot,Le,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,Le,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",Le,$e]}],ease:[{ease:["linear","initial",_,Le,$e]}],delay:[{delay:[ot,Le,$e]}],animate:[{animate:["none",N,Le,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Le,$e]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Le,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,$e]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[ot,Bu,oo,D0]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CV=uV(OV);function tt(...e){return CV(nt(e))}function ir({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:tt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function hT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function da(...e){return t=>{let r=!1;const n=e.map(a=>{const i=hT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():hT(e[a],null)}}}}function gt(...e){return w.useCallback(da(...e),e)}var PV=Symbol.for("react.lazy"),em=g_[" use ".trim().toString()];function RV(e){return typeof e=="object"&&e!==null&&"then"in e}function r3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===PV&&"_payload"in e&&RV(e._payload)}function T_(e){const t=IV(e),r=w.forwardRef((n,a)=>{let{children:i,...o}=n;r3(i)&&typeof em=="function"&&(i=em(i._payload));const l=w.Children.toArray(i),u=l.find(MV);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var n3=T_("Slot");function IV(e){const t=w.forwardRef((r,n)=>{let{children:a,...i}=r;if(r3(a)&&typeof em=="function"&&(a=em(a._payload)),w.isValidElement(a)){const o=LV(a),l=$V(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DV=Symbol("radix.slottable");function MV(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DV}function $V(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function LV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const fT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pT=nt,O_=(e,t)=>r=>{var n;if(t?.variants==null)return pT(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(h=>{const f=r?.[h],p=i?.[h];if(f===null)return null;const g=fT(f)||fT(p);return a[h][g]}),l=r&&Object.entries(r).reduce((h,f)=>{let[p,g]=f;return g===void 0||(h[p]=g),h},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(b=>{let[y,x]=b;return Array.isArray(x)?x.includes({...i,...l}[y]):{...i,...l}[y]===x})?[...h,p,g]:h},[]);return pT(e,o,u,r?.class,r?.className)},Sd=O_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Te({className:e,variant:t,size:r,asChild:n=!1,...a}){const i=n?n3:"button";return s.jsx(i,{"data-slot":"button",className:tt(Sd({variant:t,size:r,className:e})),...a})}const FV=O_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ti({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:tt(FV({variant:t}),e),...r})}function Eo({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:tt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),mT=e=>{const t=BV(e);return t.charAt(0).toUpperCase()+t.slice(1)},s3=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},u)=>w.createElement("svg",{ref:u,...zV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:s3("lucide",a),...l},[...o.map(([h,f])=>w.createElement(h,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(WV,{ref:i,iconNode:t,className:s3(`lucide-${UV(mT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=mT(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],or=_e("activity",qV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kN=_e("arrow-left",VV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gT=_e("arrow-right",HV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],KV=_e("ban",GV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],C_=_e("bell",YV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],P_=_e("book-open",XV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],a3=_e("brain",JV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pr=_e("calendar",QV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],R_=_e("camera",ZV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],en=_e("chart-column",eH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],rH=_e("check-check",tH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kd=_e("check",nH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ho=_e("chevron-down",sH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I_=_e("chevron-left",aH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Oa=_e("chevron-right",iH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],i3=_e("chevron-up",oH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cn=_e("circle-alert",lH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wn=_e("circle-check-big",cH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vr=_e("circle-check",uH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],EN=_e("circle-play",dH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nn=_e("circle-x",hH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wr=_e("clock",fH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ac=_e("copy",pH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Dr=_e("database",mH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xH=_e("dollar-sign",gH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ua=_e("download",yH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],tm=_e("ellipsis-vertical",vH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ci=_e("external-link",bH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fn=_e("eye-off",wH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],At=_e("eye",jH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],_H=_e("file-code",NH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kH=_e("file-text",SH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],jg=_e("folder-input",EH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],TH=_e("folder-plus",AH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],M0=_e("folder",OH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ng=_e("grid-3x3",CH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],RH=_e("hard-drive",PH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]],o3=_e("heart-off",IH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],jr=_e("heart",DH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],l3=_e("image-off",MH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ed=_e("image",$H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],FH=_e("info",LH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],BH=_e("key",UH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pp=_e("layout-dashboard",zH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],qH=_e("list-checks",WH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],HH=_e("list-plus",VH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],bh=_e("list",GH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bt=_e("loader-circle",KH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dd=_e("lock",YH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],JH=_e("log-out",XH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],_g=_e("mail",QH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],xT=_e("menu",ZH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Co=_e("message-circle",eG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M5 12h14",key:"1ays0h"}]],rm=_e("minus",tG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],D_=_e("mouse-pointer",rG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Os=_e("music",nG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],c3=_e("panels-top-left",sG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],AN=_e("pause",aG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oG=_e("pen",iG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],M_=_e("phone",lG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],wn=_e("play",cG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_r=_e("plus",uG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mt=_e("refresh-cw",dG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],fG=_e("repeat",hG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ys=_e("save",pG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$_=_e("search",mG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TN=_e("send",gG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],yG=_e("server",xG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Go=_e("settings",vG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ba=_e("share-2",bG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Sg=_e("shield",wG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],NG=_e("shuffle",jG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],SG=_e("skip-back",_G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],EG=_e("skip-forward",kG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],L_=_e("smartphone",AG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ic=_e("sparkles",TG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ma=_e("square-check-big",OG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PG=_e("square-pen",CG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],yT=_e("square",RG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],DG=_e("terminal",IG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zr=_e("trash-2",MG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],LG=_e("trending-down",$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ko=_e("trending-up",FG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],BG=_e("trophy",UG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ki=_e("upload",zG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qG=_e("user-plus",WG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],F_=_e("user",VG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],un=_e("users",HG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],u3=_e("video",GG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],U_=_e("volume-2",KG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],d3=_e("volume-x",YG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wr=_e("x",XG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],QG=_e("youtube",JG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ON=_e("zap",ZG);var Bc=DD();const eK=bt(Bc);function tK(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let CN=1;class rK{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:CN++,o=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:n}),{...u,...t,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async h=>{if(o=["resolve",h],B.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(sK(h)&&!h.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,b=typeof p=="object"&&!B.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...b})}else if(h instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,b=typeof p=="object"&&!B.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...b})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(h):r.success,g=typeof r.description=="function"?await r.description(h):r.description,b=typeof p=="object"&&!B.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:g,...b})}}).catch(async h=>{if(o=["reject",h],r.error!==void 0){i=!1;const f=typeof r.error=="function"?await r.error(h):r.error,p=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!B.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((h,f)=>l.then(()=>o[0]==="reject"?f(o[1]):h(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=r?.id||CN++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const as=new rK,nK=(e,t)=>{const r=t?.id||CN++;return as.addToast({title:e,...t,id:r}),r},sK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",aK=nK,iK=()=>as.toasts,oK=()=>as.getActiveToasts(),ee=Object.assign(aK,{success:as.success,info:as.info,warning:as.warning,error:as.error,custom:as.custom,message:as.message,promise:as.promise,dismiss:as.dismiss,loading:as.loading},{getHistory:iK,getToasts:oK});tK("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vT(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(""),[o,l]=w.useState(!1),[u,h]=w.useState(!1),{signIn:f}=Vo(),p=async v=>{if(v.preventDefault(),!e||e.length<10){ee.error("Please enter a valid phone number");return}h(!0);try{ee.info("Phone authentication requires SMS provider setup. Please use email login for testing."),l(!0)}catch(b){console.error("Phone auth error:",b),ee.error(b.message||"Failed to send OTP")}finally{h(!1)}},g=async v=>{if(v.preventDefault(),!r||!a){ee.error("Please enter email and password");return}h(!0);try{await f(r,a),ee.success("Successfully signed in!")}catch(b){console.error("Email auth error:",b),ee.error(b.message||"Failed to sign in")}finally{h(!1)}};return s.jsxs("div",{className:"bg-[rgb(8,76,40)] fixed inset-0 z-50 flex flex-col items-center overflow-auto m-[0px] p-[0px]",children:[s.jsx("div",{className:"relative flex flex-col items-center pt-8",children:s.jsx("div",{className:"relative w-[260px] h-[260px] flex items-start justify-center",children:s.jsx("img",{src:Wq,alt:"",className:"absolute inset-0 w-full h-full object-contain p-[0px] mt-[58px] mr-[0px] mb-[0px] ml-[0px]"})})}),s.jsxs("div",{className:"w-full max-w-[380px] bg-white rounded-[22px] shadow-2xl mx-4 mt-[88px] mb-[32px] mr-[0px] ml-[0px] p-[24px]",children:[o?s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("h2",{className:"text-[20px] text-gray-900 text-center mb-4",style:{fontWeight:700},children:"Email Login"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"block text-gray-900 text-[14px]",style:{fontWeight:600},children:"Email Address"}),s.jsx(ir,{id:"email",type:"email",placeholder:"your@email.com",value:r,onChange:v=>n(v.target.value),className:"text-[15px] h-[48px] border-gray-300 rounded-lg",disabled:u,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"block text-gray-900 text-[14px]",style:{fontWeight:600},children:"Password"}),s.jsx(ir,{id:"password",type:"password",placeholder:"",value:a,onChange:v=>i(v.target.value),className:"text-[15px] h-[48px] border-gray-300 rounded-lg",disabled:u,required:!0})]}),s.jsx(Te,{type:"submit",className:"w-full bg-[#0d5e38] hover:bg-[#0a4d2c] text-white py-3 rounded-[12px] text-[15px] h-[48px]",style:{fontWeight:600},disabled:u,children:u?"Signing in...":"Sign In"}),s.jsx(Te,{type:"button",variant:"ghost",className:"w-full text-gray-700 hover:bg-gray-50 text-[15px] h-[48px]",style:{fontWeight:500},onClick:()=>l(!1),disabled:u,children:"Back to Phone Login"}),s.jsx("div",{className:"pt-2 text-center",children:s.jsxs("p",{className:"text-[13px] text-gray-600",children:["Test Account: ",s.jsx("br",{}),s.jsx("span",{className:"font-mono text-[12px]",children:"test@murugan.com / test1234"})]})})]}):s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs(Ti,{className:"bg-gray-50 border-gray-200",children:[s.jsx(FH,{className:"h-4 w-4 text-gray-600"}),s.jsx(Eo,{className:"text-gray-700 text-[13px] leading-relaxed",children:"Phone authentication requires SMS provider setup. Use email login for testing."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"phone",className:"block text-gray-900 text-[14px]",style:{fontWeight:600},children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ir,{id:"phone",type:"tel",placeholder:"+1234567890",value:e,onChange:v=>t(v.target.value),className:"text-[15px] pr-16 h-[48px] border-gray-300 rounded-lg",disabled:u}),s.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[s.jsx(Wn,{className:"w-5 h-5 text-teal-500"}),s.jsx(dd,{className:"w-4 h-4 text-gray-400"})]})]}),s.jsx("p",{className:"text-[12px] text-gray-500 leading-relaxed",children:"Include country code (e.g., +91 for India)"})]}),s.jsx(Te,{type:"submit",className:"w-full bg-[#0d5e38] hover:bg-[#0a4d2c] text-white py-3 rounded-[12px] text-[15px] h-[48px]",style:{fontWeight:600},disabled:u,children:u?"Sending...":"Send OTP"}),s.jsx(Te,{type:"button",variant:"ghost",className:"w-full text-gray-700 hover:bg-gray-50 text-[15px] h-[48px]",style:{fontWeight:500},onClick:()=>l(!0),disabled:u,children:"Use Email Instead (Testing)"})]}),s.jsxs("p",{className:"text-[12px] text-gray-500 text-center mt-6 leading-relaxed",children:["By continuing, you agree to our"," ",s.jsx("button",{className:"text-[#0d5e38] underline",children:"Privacy Policy"})]})]}),s.jsx("div",{className:"w-full max-w-[200px] mb-8 opacity-25",children:s.jsxs("svg",{className:"w-full h-auto",viewBox:"0 0 200 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"100",cy:"40",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"70",cy:"40",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"130",cy:"40",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"85",cy:"60",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"115",cy:"60",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"100",cy:"80",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"70",cy:"80",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("circle",{cx:"130",cy:"80",r:"8",fill:"#14874A",fillOpacity:"0.4"}),s.jsx("path",{d:"M 70 40 Q 85 30 100 40 Q 115 30 130 40",stroke:"#14874A",strokeWidth:"2",fill:"none",strokeOpacity:"0.3"}),s.jsx("path",{d:"M 70 80 Q 85 70 100 80 Q 115 70 130 80",stroke:"#14874A",strokeWidth:"2",fill:"none",strokeOpacity:"0.3"}),s.jsx("path",{d:"M 70 40 Q 60 60 70 80",stroke:"#14874A",strokeWidth:"2",fill:"none",strokeOpacity:"0.3"}),s.jsx("path",{d:"M 130 40 Q 140 60 130 80",stroke:"#14874A",strokeWidth:"2",fill:"none",strokeOpacity:"0.3"})]})})]})}const lK="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function zc(e){const[t,r]=w.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:o,className:l,...u}=e;return t?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:lK,alt:"Error loading image",...u,"data-original-url":a})})}):s.jsx("img",{src:a,alt:i,className:l,style:o,...u,onError:n})}function h3({media:e,onSelect:t,isFavorite:r,onToggleFavorite:n}){const a=e.is_video||e.type==="video",i=a?e.thumbnail_url||e.video_url||e.storage_path||"":e.thumbnail_url||e.storage_path||"",[o,l]=w.useState(e.duration_seconds||null),u=w.useRef(null),h=()=>{if(u.current&&u.current.duration){const f=Math.floor(u.current.duration);l(f),console.log("[MediaCard] Extracted video duration:",{id:e.id,title:e.title,duration_seconds:f})}};return s.jsx("div",{className:"relative cursor-pointer rounded-lg overflow-hidden bg-gray-100 shadow-md transition-shadow",onClick:()=>t(e),children:s.jsxs("div",{className:"relative aspect-[3/4]",children:[i?s.jsx(s.Fragment,{children:a?s.jsx("video",{ref:u,src:i,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata",onLoadedMetadata:h}):s.jsx(zc,{src:i,alt:e.title,className:"w-full h-full object-cover"})}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(l3,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"No preview"})]})}),a&&s.jsx("div",{className:"absolute top-2 left-2 bg-black/80 text-white text-xs font-bold px-2 py-0.5 rounded",children:o&&o>0?cK(o):"0:00"})]})})}function cK(e){const t=Math.floor(e/60),r=e%60;return`${t}:${r.toString().padStart(2,"0")}`}function uK({icon:e,title:t,description:r,action:n}){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(e,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-gray-900 mb-2",children:t}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 max-w-sm",children:r}),n&&s.jsx(Te,{onClick:n.onClick,className:"bg-orange-500 hover:bg-orange-600",children:n.label})]})}const dK="/assets/kid-murugan-BmYqxO3h.png";function f3({className:e=""}){return s.jsxs("div",{className:`relative overflow-hidden rounded-lg ${e}`,children:[s.jsx("style",{children:`
        @keyframes shimmer {
          0% {
            background-position: -200% 0;
          }
          100% {
            background-position: 200% 0;
          }
        }
        @keyframes muruganFloat {
          0%, 100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0.4;
          }
          50% {
            transform: translate(-50%, -50%) scale(1.1);
            opacity: 0.7;
          }
        }
      `}),s.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, #e8f5e9 0%, #c8e6c9 25%, #e8f5e9 50%, #c8e6c9 75%, #e8f5e9 100%)",backgroundSize:"200% 100%",animation:"shimmer 2s linear infinite"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2",style:{transform:"translate(-50%, -50%)",animation:"muruganFloat 2s ease-in-out infinite"},children:s.jsx("img",{src:dK,alt:"",className:"w-12 h-12"})})]})}function ia({size:e,variant:t="inline",className:r=""}){const n=typeof e=="number"?`${e}px`:t==="page"?"clamp(90px, 22vw, 180px)":t==="card"?"clamp(40px, 10vw, 88px)":t==="button"?"clamp(18px, 4.5vw, 28px)":"clamp(28px, 7vw, 48px)";return s.jsx("div",{className:`inline-flex items-center justify-center ${r}`,children:s.jsx("div",{className:"relative",style:{width:n,height:n},children:s.jsx("img",{src:zM,alt:"Loading...",className:"w-full h-full object-contain"})})})}function hK(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),a=async()=>{t(!0),n(null);const i=`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/health`;console.log(" Testing health endpoint:",i);try{const o=Date.now(),l=await fetch(i,{method:"GET",headers:{Authorization:`Bearer ${he}`},signal:AbortSignal.timeout(1e4)}),u=Date.now()-o,h=await l.json();console.log(" Health response:",{status:l.status,data:h,time:u}),n({success:l.ok,status:l.status,responseTime:u,data:h,endpoint:"health",message:l.ok?"Edge function is ALIVE!":"Edge function returned error"})}catch(o){console.error(" Health check failed:",o),n({success:!1,error:o.message||"Health check failed",isTimeout:o.name==="TimeoutError"||o.message?.includes("timeout"),isNetworkError:o.message?.includes("Failed to fetch"),endpoint:"health",message:o.name==="TimeoutError"?"Edge function took >10s to respond (severe cold start or not deployed)":"Cannot reach edge function (check if deployed)"})}t(!1)};return s.jsxs("div",{className:"bg-blue-50 border-4 border-blue-500 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(or,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-blue-900 text-lg",children:"Simple Health Check"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Test if edge function is deployed"})]})]}),s.jsx("button",{onClick:a,disabled:e,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(ia,{variant:"button"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(or,{className:"w-4 h-4"}),"Ping Health"]})})]}),e&&s.jsxs("div",{className:"bg-white rounded-lg p-8 text-center border-2 border-blue-200",children:[s.jsx(ia,{variant:"page",className:"mx-auto mb-3"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Pinging edge function..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Timeout: 10 seconds"})]}),r&&!e&&s.jsxs("div",{className:`rounded-lg p-6 border-2 ${r.success?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.success?s.jsx(Wn,{className:"w-6 h-6 text-green-600"}):s.jsx(Nn,{className:"w-6 h-6 text-red-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:r.success?" Edge Function ALIVE!":" Edge Function NOT RESPONDING"}),r.success?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Response Time:"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[r.responseTime,"ms"]}),r.responseTime>5e3&&s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" Slow (cold start)"})]}),s.jsxs("div",{className:"bg-green-50 rounded p-4 border border-green-200",children:[s.jsx("p",{className:"text-sm font-semibold text-green-800 mb-2",children:" Good News:"}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:" Edge function is deployed and running"}),s.jsx("li",{children:" Network connection is working"}),s.jsx("li",{children:" CORS headers are configured"}),s.jsx("li",{children:" Ready to serve wallpapers!"})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded p-3 border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Next Step:"}),s.jsx("p",{className:"text-sm text-blue-600",children:'Now test the full wallpaper endpoint with the purple "Test Backend Connection" button below.'})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded p-3 border border-red-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Error:"}),s.jsx("p",{className:"text-sm text-red-700",children:r.error})]}),s.jsxs("div",{className:"bg-white rounded p-3 border border-red-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"What This Means:"}),s.jsx("p",{className:"text-sm text-red-700",children:r.message})]}),r.isTimeout&&s.jsxs("div",{className:"bg-yellow-50 rounded p-4 border border-yellow-300",children:[s.jsxs("p",{className:"text-sm font-semibold text-yellow-800 mb-2",children:[" TIMEOUT (",">","10 seconds)"]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Possible causes:"}),s.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Cold start:"})," First request takes 10-30s. Wait and try again."]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Not deployed:"})," Edge function doesn't exist in Supabase."]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Paused project:"})," Supabase project is inactive."]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-yellow-200",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:" Solution:"}),s.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 mt-1",children:[s.jsx("li",{children:'1. Wait 30 seconds and click "Ping Health" again'}),s.jsx("li",{children:"2. If still fails: Check Supabase Dashboard  Edge Functions"}),s.jsx("li",{children:"3. Deploy or redeploy the function"})]})]})]}),r.isNetworkError&&s.jsxs("div",{className:"bg-orange-50 rounded p-4 border border-orange-300",children:[s.jsx("p",{className:"text-sm font-semibold text-orange-800 mb-2",children:" NETWORK ERROR"}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Cannot reach the edge function at all."}),s.jsx("p",{className:"text-sm font-semibold text-orange-700 mb-1",children:" Solutions:"}),s.jsxs("ol",{className:"text-sm text-gray-700 space-y-1",children:[s.jsxs("li",{children:["1. Check Supabase Dashboard: ",s.jsx("a",{href:"https://app.supabase.com/project/xgqtycssifmpfbxmqzri",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Open Dashboard"})]}),s.jsx("li",{children:"2. Verify project is ACTIVE (not paused)"}),s.jsx("li",{children:"3. Check Edge Functions tab - is function deployed?"}),s.jsx("li",{children:"4. If not deployed: Deploy from `/supabase/functions/server/`"})]})]}),r.status&&s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"HTTP Status:"}),s.jsxs("p",{className:"text-lg font-mono text-gray-900",children:[r.status," ",r.statusText||""]})]})]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:s.jsxs("details",{children:[s.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-800 font-medium",children:" View Full Response"}),s.jsx("pre",{className:"mt-2 bg-gray-900 text-green-400 p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(r,null,2)})]})})]}),!r&&!e&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(or,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"font-medium",children:'Click "Ping Health" to check if edge function is deployed'}),s.jsx("p",{className:"text-xs mt-1",children:"This tests /health endpoint (no database query)"})]})]})}function fK(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),a=async()=>{t(!0),n(null);const i=`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/wallpapers/list`;console.log(" Testing connection to:",i);try{const o=Date.now(),l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({page:1,limit:5}),signal:AbortSignal.timeout(3e4)}),h=Date.now()-o;console.log(" Response received:",l.status,l.statusText);const f=await l.json();console.log(" Response data:",f),n({success:l.ok,status:l.status,statusText:l.statusText,responseTime:h,data:f,error:l.ok?null:f.error||"Unknown error"})}catch(o){console.error(" Connection failed:",o),n({success:!1,error:o.message||"Connection failed",isTimeout:o.name==="TimeoutError",isNetworkError:o.message?.includes("Failed to fetch")})}t(!1)};return s.jsxs("div",{className:"bg-purple-50 border-4 border-purple-500 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(or,{className:"w-6 h-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-purple-900 text-lg",children:"Test Backend Connection"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Direct test of user  admin backend"})]})]}),s.jsx("button",{onClick:a,disabled:e,className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(or,{className:"w-4 h-4"}),"Test Now"]})})]}),e&&s.jsxs("div",{className:"bg-white rounded-lg p-8 text-center border-2 border-purple-200",children:[s.jsx(Bt,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Testing connection..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum wait: 30 seconds"})]}),r&&!e&&s.jsxs("div",{className:`rounded-lg p-6 border-2 ${r.success?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.success?s.jsx(Wn,{className:"w-6 h-6 text-green-600"}):s.jsx(Nn,{className:"w-6 h-6 text-red-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:r.success?" Connection Successful!":" Connection Failed"}),r.success?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Response Time:"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[r.responseTime,"ms"]})]}),s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Wallpapers Found:"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.data?.data?.length||0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",r.data?.pagination?.total||0]})]}),r.data?.data&&r.data.data.length>0&&s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Sample Wallpaper:"}),s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-2 rounded overflow-auto max-h-40",children:JSON.stringify(r.data.data[0],null,2)})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded p-3 border border-red-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Error:"}),s.jsx("p",{className:"text-sm text-red-700",children:r.error})]}),r.isTimeout&&s.jsxs("div",{className:"bg-yellow-50 rounded p-3 border border-yellow-200",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-700",children:" Timeout Issue"}),s.jsx("p",{className:"text-xs text-gray-700 mt-1",children:"The backend took longer than 30 seconds. This usually means cold start or slow database."})]}),r.isNetworkError&&s.jsxs("div",{className:"bg-orange-50 rounded p-3 border border-orange-200",children:[s.jsx("p",{className:"text-sm font-semibold text-orange-700",children:" Network Error"}),s.jsx("p",{className:"text-xs text-gray-700 mt-1",children:"Cannot reach the backend. Check if Supabase project is active."})]}),r.status&&s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:"HTTP Status:"}),s.jsxs("p",{className:"text-lg font-mono text-gray-900",children:[r.status," ",r.statusText]})]})]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:s.jsxs("details",{children:[s.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-800 font-medium",children:" View Full Response"}),s.jsx("pre",{className:"mt-2 bg-gray-900 text-green-400 p-3 rounded text-xs overflow-auto max-h-60",children:JSON.stringify(r,null,2)})]})})]}),!r&&!e&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(or,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:'Click "Test Now" to check if user app can reach admin backend'})]})]})}function pK({searchQuery:e,onSelectMedia:t}){const[r,n]=w.useState([]),[a,i]=w.useState(!0),[o,l]=w.useState(!0),[u,h]=w.useState(1),[f,p]=w.useState(new Set),[g,v]=w.useState(0),[b,y]=w.useState(!1),x=w.useRef(null),_=20,N=100,E=3,C=w.useCallback(async(A,P)=>{if(A>N){console.log(`[MasonryFeed] Reached max pages limit (${N})`),l(!1);return}if(g>=E){console.log(`[MasonryFeed] Stopping due to ${g} consecutive errors`),l(!1),y(!0);return}try{console.log(`[MasonryFeed] Loading wallpapers - Page: ${A}, Search: ${P||"none"}`);const O=await er.getWallpapers({search:P||void 0,page:A,limit:_});console.log(`[MasonryFeed] Loaded ${O.data.length} wallpapers from admin backend`),console.log("[MasonryFeed] Sample item:",O.data[0]),O.data.length<_&&l(!1),n(I=>A===1?O.data:[...I,...O.data]),O.data.length===0&&A===1&&console.log("[MasonryFeed] No wallpapers found. Admin needs to upload content."),v(0),y(!1)}catch(O){console.error("[MasonryFeed] Error loading wallpapers:",O),v(I=>I+1),A>1&&(console.log("[MasonryFeed] Stopping pagination due to error"),l(!1))}finally{i(!1)}},[g]),S=w.useCallback(async()=>{try{const A=localStorage.getItem("user_favorites");A&&p(new Set(JSON.parse(A)))}catch(A){console.error("Error loading favorites:",A)}},[]);w.useEffect(()=>{n([]),h(1),l(!0),i(!0),v(0),y(!1),C(1,e)},[e,C]),w.useEffect(()=>{S()},[S]),w.useEffect(()=>{const A=new IntersectionObserver(P=>{if(P[0].isIntersecting&&o&&!a){const O=u+1;h(O),C(O,e)}},{threshold:.1});return x.current&&A.observe(x.current),()=>A.disconnect()},[o,a,u,e,C]);const k=async A=>{const P=f.has(A);try{if(p(O=>{const I=new Set(O);return P?I.delete(A):I.add(A),localStorage.setItem("user_favorites",JSON.stringify(Array.from(I))),I}),!P)try{await er.likeMedia(A),console.log("[MasonryFeed] Like tracked successfully")}catch(O){console.error("[MasonryFeed] Failed to track like:",O)}}catch(O){console.error("Error toggling favorite:",O),p(I=>{const D=new Set(I);return P?D.add(A):D.delete(A),localStorage.setItem("user_favorites",JSON.stringify(Array.from(D))),D})}};return a&&r.length===0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center pt-6 pb-4",children:s.jsx(ia,{size:50})}),s.jsx("div",{className:"grid grid-cols-2 gap-1 px-1 pb-4",children:Array.from({length:8}).map((A,P)=>s.jsx(f3,{className:"aspect-[3/4]"},P))})]}):s.jsxs("div",{className:"pb-[79px]",children:[s.jsx("div",{className:"grid grid-cols-2 gap-1 p-[5px]",children:r.map(A=>s.jsx(h3,{media:A,onSelect:P=>t(P,r),isFavorite:f.has(A.id),onToggleFavorite:k},A.id))}),o&&!b&&s.jsx("div",{ref:x,className:"flex justify-center py-4",children:s.jsx(ia,{size:40})}),b&&s.jsx("div",{className:"px-4 py-6",children:s.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-orange-900 font-medium mb-2",children:" Server Busy"}),s.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["The admin backend is temporarily overloaded. Showing ",r.length," wallpapers from cache."]}),s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:[" ",s.jsx("strong",{children:"Tip:"})," Use search to find specific wallpapers, or wait a moment and refresh."]}),s.jsx("button",{onClick:()=>{v(0),y(!1),h(1),l(!0),C(1,e)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:"Try Again"})]})}),!o&&!b&&r.length>0&&s.jsx("div",{className:"px-4 py-6",children:s.jsxs("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-green-900 font-medium",children:" You've reached the end!"}),s.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Showing all ",r.length," wallpapers"]})]})}),r.length===0&&!a&&s.jsxs("div",{className:"px-4",children:[s.jsx(hK,{}),s.jsx(fK,{}),!e&&s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-4",children:[s.jsx("h3",{className:"text-orange-900 mb-2",children:" No Wallpapers Yet!"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"The admin hasn't uploaded any wallpapers yet."}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Admin:"})," Go to your admin panel and upload some photos/videos to get started!"]})]}),s.jsx(uK,{icon:l3,title:"No wallpapers found",description:e?`No results for "${e}". Try a different search term.`:"No wallpapers or videos have been uploaded yet."})]})]})}const mK="modulepreload",gK=function(e){return"/"+e},bT={},td=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=o(r.map(h=>{if(h=gK(h),h in bT)return;bT[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":mK,f||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function p3({className:e="",size:t=24}){return s.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:e,xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}function xK({media:e,initialIndex:t,onClose:r}){const[n,a]=w.useState(t),[i,o]=w.useState(new Set),[l,u]=w.useState({}),h=w.useRef(null),f=w.useRef(new Map);w.useEffect(()=>{const _=localStorage.getItem("user_favorites");_&&o(new Set(JSON.parse(_)));const N=localStorage.getItem("wallpaper_like_counts"),E=N?JSON.parse(N):{},C={};return e.forEach(k=>{C[k.id]={likes:E[k.id]!==void 0?E[k.id]:k.likes||0,views:k.views||0,downloads:k.downloads||0,shares:k.shares||0}}),u(C),(async()=>{const k=[t,t-1,t+1].filter(A=>A>=0&&A<e.length);for(const A of k){const P=e[A];if(P&&!f.current.has(P.id))try{const I=await(await fetch(P.storage_path)).blob();f.current.set(P.id,I)}catch(O){console.error(`Error prefetching blob for ${P.id}:`,O)}}})(),setTimeout(()=>{if(h.current){const k=window.innerHeight;h.current.scrollTop=t*k}},0),e[n]&&g(e[n].id),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}},[]),w.useEffect(()=>{e[n]&&(g(e[n].id),(async()=>{const N=[n-1,n+1].filter(E=>E>=0&&E<e.length);for(const E of N){const C=e[E];if(C&&!f.current.has(C.id))try{const k=await(await fetch(C.storage_path)).blob();f.current.set(C.id,k)}catch(S){console.error(`Error prefetching blob for ${C.id}:`,S)}}})())},[n]);const p=_=>{const E=_.currentTarget.scrollTop,C=window.innerHeight,S=Math.round(E/C);S!==n&&S>=0&&S<e.length&&a(S)},g=async _=>{try{const{analyticsTracker:N}=await td(async()=>{const{analyticsTracker:E}=await Promise.resolve().then(()=>jp);return{analyticsTracker:E}},void 0);await N.track("wallpaper",_,"view")}catch(N){console.error("Error tracking view:",N)}},v=async _=>{const N=i.has(_);try{o(C=>{const S=new Set(C);return N?S.delete(_):S.add(_),localStorage.setItem("user_favorites",JSON.stringify(Array.from(S))),S}),u(C=>{const S=C[_]||{likes:0,views:0,downloads:0,shares:0},k=N?Math.max(S.likes-1,0):S.likes+1,A={...C,[_]:{...S,likes:k}},P={};return Object.entries(A).forEach(([O,I])=>{P[O]=I.likes}),localStorage.setItem("wallpaper_like_counts",JSON.stringify(P)),A});const{analyticsTracker:E}=await td(async()=>{const{analyticsTracker:C}=await Promise.resolve().then(()=>jp);return{analyticsTracker:C}},void 0);N?(await E.untrack("wallpaper",_,"like"),ee.success("Removed from favorites")):(await E.track("wallpaper",_,"like"),ee.success("Added to favorites"))}catch(E){console.error("Error toggling like:",E),o(C=>{const S=new Set(C);return N?S.add(_):S.delete(_),localStorage.setItem("user_favorites",JSON.stringify(Array.from(S))),S}),u(C=>{const S=C[_]||{likes:0,views:0,downloads:0,shares:0},k=N?S.likes+1:Math.max(S.likes-1,0),A={...C,[_]:{...S,likes:k}},P={};return Object.entries(A).forEach(([O,I])=>{P[O]=I.likes}),localStorage.setItem("wallpaper_like_counts",JSON.stringify(P)),A})}},b=_=>{const N=ee.loading("Preparing image..."),E=f.current.get(_.id);if(E){const C=_.storage_path.split("."),S=C[C.length-1].split("?")[0]||"jpg",k=E.type||`image/${S==="jpg"?"jpeg":S}`,A=`Murugan_Wallpaper.${S}`,P=new File([E],A,{type:k});if(ee.dismiss(N),!navigator.share){ee.error("Sharing not supported on this browser. Please use the download button.");return}navigator.share({files:[P]}).then(()=>{td(async()=>{const{analyticsTracker:O}=await Promise.resolve().then(()=>jp);return{analyticsTracker:O}},void 0).then(({analyticsTracker:O})=>{O.track("wallpaper",_.id,"share")}),ee.success("Shared successfully!")}).catch(O=>{O.name!=="AbortError"&&(console.error("Error sharing image:",O),ee.error("Failed to share. Please try again."))})}else ee.dismiss(N),console.error("Blob not found for sharing:",_.id),ee.error("Failed to load image for sharing.")},y=async _=>{try{const{analyticsTracker:N}=await td(async()=>{const{analyticsTracker:C}=await Promise.resolve().then(()=>jp);return{analyticsTracker:C}},void 0);await N.track("wallpaper",_.id,"download"),ee.success("Downloading...");const E=document.createElement("a");E.href=_.storage_path,E.download=_.title||"wallpaper",E.target="_blank",document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch(N){console.error("Error downloading:",N),ee.error("Failed to download")}},x=e[n];return s.jsxs("div",{className:"fixed inset-0 z-50 bg-black",children:[s.jsx("button",{onClick:r,className:"fixed top-4 left-4 z-50 p-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 hover:bg-white/20 transition-all",children:s.jsx(Wr,{className:"w-6 h-6 text-white"})}),s.jsx("div",{ref:h,onScroll:p,className:"h-screen overflow-y-scroll snap-y snap-mandatory hide-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map((_,N)=>s.jsx("div",{className:"h-screen w-full snap-start snap-always relative",children:s.jsx(yK,{media:_,isActive:N===n})},_.id))}),e.length>0&&s.jsxs("div",{className:"fixed right-4 bottom-32 flex flex-col-reverse gap-4 z-50 p-[0px] mt-[0px] mr-[0px] mb-[-60px] ml-[0px]",children:[s.jsx("button",{onClick:()=>v(x.id),className:"group",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center group-hover:bg-white/20 transition-all",children:s.jsx(jr,{className:`w-6 h-6 transition-all ${i.has(x.id)?"fill-red-500 text-red-500":"text-white group-hover:scale-110"}`})})}),s.jsx("button",{onClick:()=>b(x),className:"group",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center group-hover:bg-white/20 transition-all",children:s.jsx(p3,{className:"w-6 h-6 text-[#25D366] group-hover:scale-110 transition-transform"})})}),s.jsx("button",{onClick:()=>y(x),className:"group",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center group-hover:bg-white/20 transition-all",children:s.jsx(Ua,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})})})]}),s.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .hide-scrollbar::-webkit-scrollbar {
          display: none;
        }
      `}})]})}function yK({media:e,isActive:t}){return s.jsx("div",{className:"relative w-full h-full",children:s.jsxs("div",{className:"absolute inset-0",children:[e.is_video||e.type==="video"?s.jsx(vK,{src:e.storage_path||e.video_url,isActive:t}):s.jsx(zc,{src:e.storage_path,alt:e.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/70 pointer-events-none"})]})})}function vK({src:e,isActive:t}){const r=w.useRef(null),[n,a]=w.useState(!1),[i,o]=w.useState(!1),[l,u]=w.useState(0),[h,f]=w.useState(0),[p,g]=w.useState(!1),v=w.useRef(null);w.useEffect(()=>{r.current&&(t?(r.current.play(),a(!0)):(r.current.pause(),a(!1)))},[t]);const b=()=>{r.current&&!p&&u(r.current.currentTime)},y=()=>{r.current&&f(r.current.duration)},x=()=>{r.current&&(n?r.current.pause():r.current.play(),a(!n))},_=()=>{r.current&&(r.current.muted=!i,o(!i))},N=P=>{if(v.current&&r.current){const O=v.current.getBoundingClientRect(),D=(P.clientX-O.left)/O.width*h;r.current.currentTime=D,u(D)}},E=P=>{g(!0),N(P)},C=P=>{if(p&&v.current&&r.current){const O=v.current.getBoundingClientRect(),D=Math.max(0,Math.min(1,(P.clientX-O.left)/O.width))*h;r.current.currentTime=D,u(D)}},S=()=>{g(!1)};w.useEffect(()=>{if(p)return window.addEventListener("mousemove",C),window.addEventListener("mouseup",S),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",S)}},[p,h]);const k=P=>{const O=Math.floor(P/60),I=Math.floor(P%60);return`${O.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},A=h>0?l/h*100:0;return s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("video",{ref:r,src:e,className:"w-full h-full object-cover",loop:!0,playsInline:!0,onTimeUpdate:b,onLoadedMetadata:y,onClick:x}),s.jsx("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-md rounded-full px-4 py-2.5 flex items-center gap-3",children:[s.jsx("span",{className:"text-white text-sm font-medium tabular-nums min-w-[45px]",children:k(l)}),s.jsxs("div",{ref:v,className:"flex-1 relative h-1 bg-white/30 rounded-full cursor-pointer group",onClick:N,onMouseDown:E,children:[s.jsx("div",{className:"absolute inset-y-0 left-0 bg-white rounded-full",style:{width:`${A}%`}}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full shadow-lg transition-transform group-hover:scale-125",style:{left:`${A}%`,marginLeft:"-8px"}})]}),s.jsx("span",{className:"text-white text-sm font-medium tabular-nums min-w-[45px]",children:k(h)}),s.jsx("button",{onClick:_,className:"text-white hover:scale-110 transition-transform p-1",children:i?s.jsx(d3,{className:"w-5 h-5"}):s.jsx(U_,{className:"w-5 h-5"})})]})})]})}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function bK(e,t){const r=w.createContext(t),n=i=>{const{children:o,...l}=i,u=w.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:u,children:o})};n.displayName=e+"Provider";function a(i){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Ds(e,t=[]){let r=[];function n(i,o){const l=w.createContext(o),u=r.length;r=[...r,o];const h=p=>{const{scope:g,children:v,...b}=p,y=g?.[e]?.[u]||l,x=w.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:x,children:v})};h.displayName=i+"Provider";function f(p,g){const v=g?.[e]?.[u]||l,b=w.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[h,f]}const a=()=>{const i=r.map(o=>w.createContext(o));return function(l){const u=l?.[e]||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,wK(a,...t)]}function wK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:u,scopeName:h})=>{const p=u(i)[`__scope${h}`];return{...l,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var tn=globalThis?.document?w.useLayoutEffect:()=>{},jK=g_[" useInsertionEffect ".trim().toString()]||tn;function Pi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=NK({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:a;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const h=w.useCallback(f=>{if(l){const p=_K(f)?f(e):f;p!==e&&o.current?.(p)}else i(f)},[l,e,i,o]);return[u,h]}function NK({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return jK(()=>{i.current=t},[t]),w.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function _K(e){return typeof e=="function"}function SK(e){const t=kK(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),u=l.find(AK);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function kK(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=OK(a),l=TK(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EK=Symbol("radix.slottable");function AK(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EK}function TK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function OK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var CK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=CK.reduce((e,t)=>{const r=SK(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function m3(e,t){e&&Bc.flushSync(()=>e.dispatchEvent(t))}function wT(e){const t=PK(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),u=l.find(IK);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function PK(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=MK(a),l=DK(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RK=Symbol("radix.slottable");function IK(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RK}function DK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function MK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function B_(e){const t=e+"CollectionProvider",[r,n]=Ds(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:_}=y,N=B.useRef(null),E=B.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:E,collectionRef:N,children:_})};o.displayName=t;const l=e+"CollectionSlot",u=wT(l),h=B.forwardRef((y,x)=>{const{scope:_,children:N}=y,E=i(l,_),C=gt(x,E.collectionRef);return s.jsx(u,{ref:C,children:N})});h.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=wT(f),v=B.forwardRef((y,x)=>{const{scope:_,children:N,...E}=y,C=B.useRef(null),S=gt(x,C),k=i(f,_);return B.useEffect(()=>(k.itemMap.set(C,{ref:C,...E}),()=>void k.itemMap.delete(C))),s.jsx(g,{[p]:"",ref:S,children:N})});v.displayName=f;function b(y){const x=i(e+"CollectionConsumer",y);return B.useCallback(()=>{const N=x.collectionRef.current;if(!N)return[];const E=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((k,A)=>E.indexOf(k.ref.current)-E.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:h,ItemSlot:v},b,n]}var $K=w.createContext(void 0);function kg(e){const t=w.useContext($K);return e||t||"ltr"}function oa(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}function LK(e,t=globalThis?.document){const r=oa(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var FK="DismissableLayer",PN="dismissableLayer.update",UK="dismissableLayer.pointerDownOutside",BK="dismissableLayer.focusOutside",jT,g3=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wh=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=e,h=w.useContext(g3),[f,p]=w.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=w.useState({}),b=gt(t,A=>p(A)),y=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(x),N=f?y.indexOf(f):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,C=N>=_,S=qK(A=>{const P=A.target,O=[...h.branches].some(I=>I.contains(P));!C||O||(a?.(A),o?.(A),A.defaultPrevented||l?.())},g),k=VK(A=>{const P=A.target;[...h.branches].some(I=>I.contains(P))||(i?.(A),o?.(A),A.defaultPrevented||l?.())},g);return LK(A=>{N===h.layers.size-1&&(n?.(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},g),w.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jT=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),NT(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=jT)}},[f,g,r,h]),w.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),NT())},[f,h]),w.useEffect(()=>{const A=()=>v({});return document.addEventListener(PN,A),()=>document.removeEventListener(PN,A)},[]),s.jsx(st.div,{...u,ref:b,style:{pointerEvents:E?C?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,S.onPointerDownCapture)})});wh.displayName=FK;var zK="DismissableLayerBranch",WK=w.forwardRef((e,t)=>{const r=w.useContext(g3),n=w.useRef(null),a=gt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(st.div,{...e,ref:a})});WK.displayName=zK;function qK(e,t=globalThis?.document){const r=oa(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){x3(UK,r,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function VK(e,t=globalThis?.document){const r=oa(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&x3(BK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NT(){const e=new CustomEvent(PN);document.dispatchEvent(e)}function x3(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?m3(a,i):a.dispatchEvent(i)}var $0=0;function Eg(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_T()),document.body.insertAdjacentElement("beforeend",e[1]??_T()),$0++,()=>{$0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$0--}},[])}function _T(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var L0="focusScope.autoFocusOnMount",F0="focusScope.autoFocusOnUnmount",ST={bubbles:!1,cancelable:!0},HK="FocusScope",jh=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,u]=w.useState(null),h=oa(a),f=oa(i),p=w.useRef(null),g=gt(t,y=>u(y)),v=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let y=function(E){if(v.paused||!l)return;const C=E.target;l.contains(C)?p.current=C:bi(p.current,{select:!0})},x=function(E){if(v.paused||!l)return;const C=E.relatedTarget;C!==null&&(l.contains(C)||bi(p.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const S of E)S.removedNodes.length>0&&bi(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const N=new MutationObserver(_);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),N.disconnect()}}},[n,l,v.paused]),w.useEffect(()=>{if(l){ET.add(v);const y=document.activeElement;if(!l.contains(y)){const _=new CustomEvent(L0,ST);l.addEventListener(L0,h),l.dispatchEvent(_),_.defaultPrevented||(GK(QK(y3(l)),{select:!0}),document.activeElement===y&&bi(l))}return()=>{l.removeEventListener(L0,h),setTimeout(()=>{const _=new CustomEvent(F0,ST);l.addEventListener(F0,f),l.dispatchEvent(_),_.defaultPrevented||bi(y??document.body,{select:!0}),l.removeEventListener(F0,f),ET.remove(v)},0)}}},[l,h,f,v]);const b=w.useCallback(y=>{if(!r&&!n||v.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(x&&_){const N=y.currentTarget,[E,C]=KK(N);E&&C?!y.shiftKey&&_===C?(y.preventDefault(),r&&bi(E,{select:!0})):y.shiftKey&&_===E&&(y.preventDefault(),r&&bi(C,{select:!0})):_===N&&y.preventDefault()}},[r,n,v.paused]);return s.jsx(st.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});jh.displayName=HK;function GK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(bi(n,{select:t}),document.activeElement!==r)return}function KK(e){const t=y3(e),r=kT(t,e),n=kT(t.reverse(),e);return[r,n]}function y3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kT(e,t){for(const r of e)if(!YK(r,{upTo:t}))return r}function YK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XK(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XK(e)&&t&&e.select()}}var ET=JK();function JK(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=AT(e,t),e.unshift(t)},remove(t){e=AT(e,t),e[0]?.resume()}}}function AT(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function QK(e){return e.filter(t=>t.tagName!=="A")}var ZK=g_[" useId ".trim().toString()]||(()=>{}),eY=0;function Es(e){const[t,r]=w.useState(ZK());return tn(()=>{r(n=>n??String(eY++))},[e]),e||(t?`radix-${t}`:"")}const tY=["top","right","bottom","left"],Ri=Math.min,Dn=Math.max,nm=Math.round,mp=Math.floor,ta=e=>({x:e,y:e}),rY={left:"right",right:"left",bottom:"top",top:"bottom"},nY={start:"end",end:"start"};function RN(e,t,r){return Dn(e,Ri(t,r))}function za(e,t){return typeof e=="function"?e(t):e}function Wa(e){return e.split("-")[0]}function Wc(e){return e.split("-")[1]}function z_(e){return e==="x"?"y":"x"}function W_(e){return e==="y"?"height":"width"}const sY=new Set(["top","bottom"]);function Js(e){return sY.has(Wa(e))?"y":"x"}function q_(e){return z_(Js(e))}function aY(e,t,r){r===void 0&&(r=!1);const n=Wc(e),a=q_(e),i=W_(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=sm(o)),[o,sm(o)]}function iY(e){const t=sm(e);return[IN(e),t,IN(t)]}function IN(e){return e.replace(/start|end/g,t=>nY[t])}const TT=["left","right"],OT=["right","left"],oY=["top","bottom"],lY=["bottom","top"];function cY(e,t,r){switch(e){case"top":case"bottom":return r?t?OT:TT:t?TT:OT;case"left":case"right":return t?oY:lY;default:return[]}}function uY(e,t,r,n){const a=Wc(e);let i=cY(Wa(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(IN)))),i}function sm(e){return e.replace(/left|right|bottom|top/g,t=>rY[t])}function dY(e){return{top:0,right:0,bottom:0,left:0,...e}}function v3(e){return typeof e!="number"?dY(e):{top:e,right:e,bottom:e,left:e}}function am(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function CT(e,t,r){let{reference:n,floating:a}=e;const i=Js(t),o=q_(t),l=W_(o),u=Wa(t),h=i==="y",f=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let v;switch(u){case"top":v={x:f,y:n.y-a.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:p};break;case"left":v={x:n.x-a.width,y:p};break;default:v={x:n.x,y:n.y}}switch(Wc(t)){case"start":v[o]-=g*(r&&h?-1:1);break;case"end":v[o]+=g*(r&&h?-1:1);break}return v}const hY=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:p}=CT(h,n,u),g=n,v={},b=0;for(let y=0;y<l.length;y++){const{name:x,fn:_}=l[y],{x:N,y:E,data:C,reset:S}=await _({x:f,y:p,initialPlacement:n,placement:g,strategy:a,middlewareData:v,rects:h,platform:o,elements:{reference:e,floating:t}});f=N??f,p=E??p,v={...v,[x]:{...v[x],...C}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(h=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:f,y:p}=CT(h,g,u)),y=-1)}return{x:f,y:p,placement:g,strategy:a,middlewareData:v}};async function Ad(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=za(t,e),b=v3(v),x=l[g?p==="floating"?"reference":"floating":p],_=am(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:h,rootBoundary:f,strategy:u})),N=p==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},S=am(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:E,strategy:u}):N);return{top:(_.top-S.top+b.top)/C.y,bottom:(S.bottom-_.bottom+b.bottom)/C.y,left:(_.left-S.left+b.left)/C.x,right:(S.right-_.right+b.right)/C.x}}const fY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:u}=t,{element:h,padding:f=0}=za(e,t)||{};if(h==null)return{};const p=v3(f),g={x:r,y:n},v=q_(a),b=W_(v),y=await o.getDimensions(h),x=v==="y",_=x?"top":"left",N=x?"bottom":"right",E=x?"clientHeight":"clientWidth",C=i.reference[b]+i.reference[v]-g[v]-i.floating[b],S=g[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let A=k?k[E]:0;(!A||!await(o.isElement==null?void 0:o.isElement(k)))&&(A=l.floating[E]||i.floating[b]);const P=C/2-S/2,O=A/2-y[b]/2-1,I=Ri(p[_],O),D=Ri(p[N],O),L=I,F=A-y[b]-D,G=A/2-y[b]/2+P,K=RN(L,G,F),U=!u.arrow&&Wc(a)!=null&&G!==K&&i.reference[b]/2-(G<L?I:D)-y[b]/2<0,q=U?G<L?G-L:G-F:0;return{[v]:g[v]+q,data:{[v]:K,centerOffset:G-K-q,...U&&{alignmentOffset:q}},reset:U}}}),pY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:h}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...x}=za(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=Wa(a),N=Js(l),E=Wa(l)===l,C=await(u.isRTL==null?void 0:u.isRTL(h.floating)),S=g||(E||!y?[sm(l)]:iY(l)),k=b!=="none";!g&&k&&S.push(...uY(l,y,b,C));const A=[l,...S],P=await Ad(t,x),O=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&O.push(P[_]),p){const G=aY(a,o,C);O.push(P[G[0]],P[G[1]])}if(I=[...I,{placement:a,overflows:O}],!O.every(G=>G<=0)){var D,L;const G=(((D=i.flip)==null?void 0:D.index)||0)+1,K=A[G];if(K&&(!(p==="alignment"?N!==Js(K):!1)||I.every(M=>Js(M.placement)===N?M.overflows[0]>0:!0)))return{data:{index:G,overflows:I},reset:{placement:K}};let U=(L=I.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(v){case"bestFit":{var F;const q=(F=I.filter(M=>{if(k){const V=Js(M.placement);return V===N||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,Q)=>V+Q,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:F[0];q&&(U=q);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function PT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RT(e){return tY.some(t=>e[t]>=0)}const mY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=za(e,t);switch(n){case"referenceHidden":{const i=await Ad(t,{...a,elementContext:"reference"}),o=PT(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RT(o)}}}case"escaped":{const i=await Ad(t,{...a,altBoundary:!0}),o=PT(i,r.floating);return{data:{escapedOffsets:o,escaped:RT(o)}}}default:return{}}}}},b3=new Set(["left","top"]);async function gY(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Wa(r),l=Wc(r),u=Js(r)==="y",h=b3.has(o)?-1:1,f=i&&u?-1:1,p=za(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),u?{x:v*f,y:g*h}:{x:g*h,y:v*f}}const xY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,u=await gY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:i+u.y,data:{...u,placement:o}}}}},yY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:_,y:N}=x;return{x:_,y:N}}},...u}=za(e,t),h={x:r,y:n},f=await Ad(t,u),p=Js(Wa(a)),g=z_(p);let v=h[g],b=h[p];if(i){const x=g==="y"?"top":"left",_=g==="y"?"bottom":"right",N=v+f[x],E=v-f[_];v=RN(N,v,E)}if(o){const x=p==="y"?"top":"left",_=p==="y"?"bottom":"right",N=b+f[x],E=b-f[_];b=RN(N,b,E)}const y=l.fn({...t,[g]:v,[p]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:i,[p]:o}}}}}},vY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:h=!0}=za(e,t),f={x:r,y:n},p=Js(a),g=z_(p);let v=f[g],b=f[p];const y=za(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const E=g==="y"?"height":"width",C=i.reference[g]-i.floating[E]+x.mainAxis,S=i.reference[g]+i.reference[E]-x.mainAxis;v<C?v=C:v>S&&(v=S)}if(h){var _,N;const E=g==="y"?"width":"height",C=b3.has(Wa(a)),S=i.reference[p]-i.floating[E]+(C&&((_=o.offset)==null?void 0:_[p])||0)+(C?0:x.crossAxis),k=i.reference[p]+i.reference[E]+(C?0:((N=o.offset)==null?void 0:N[p])||0)-(C?x.crossAxis:0);b<S?b=S:b>k&&(b=k)}return{[g]:v,[p]:b}}}},bY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:u=()=>{},...h}=za(e,t),f=await Ad(t,h),p=Wa(a),g=Wc(a),v=Js(a)==="y",{width:b,height:y}=i.floating;let x,_;p==="top"||p==="bottom"?(x=p,_=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=p,x=g==="end"?"top":"bottom");const N=y-f.top-f.bottom,E=b-f.left-f.right,C=Ri(y-f[x],N),S=Ri(b-f[_],E),k=!t.middlewareData.shift;let A=C,P=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=N),k&&!g){const I=Dn(f.left,0),D=Dn(f.right,0),L=Dn(f.top,0),F=Dn(f.bottom,0);v?P=b-2*(I!==0||D!==0?I+D:Dn(f.left,f.right)):A=y-2*(L!==0||F!==0?L+F:Dn(f.top,f.bottom))}await u({...t,availableWidth:P,availableHeight:A});const O=await o.getDimensions(l.floating);return b!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function Ag(){return typeof window<"u"}function qc(e){return w3(e)?(e.nodeName||"").toLowerCase():"#document"}function Un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ha(e){var t;return(t=(w3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w3(e){return Ag()?e instanceof Node||e instanceof Un(e).Node:!1}function Cs(e){return Ag()?e instanceof Element||e instanceof Un(e).Element:!1}function la(e){return Ag()?e instanceof HTMLElement||e instanceof Un(e).HTMLElement:!1}function IT(e){return!Ag()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Un(e).ShadowRoot}const wY=new Set(["inline","contents"]);function Nh(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!wY.has(a)}const jY=new Set(["table","td","th"]);function NY(e){return jY.has(qc(e))}const _Y=[":popover-open",":modal"];function Tg(e){return _Y.some(t=>{try{return e.matches(t)}catch{return!1}})}const SY=["transform","translate","scale","rotate","perspective"],kY=["transform","translate","scale","rotate","perspective","filter"],EY=["paint","layout","strict","content"];function V_(e){const t=H_(),r=Cs(e)?Ps(e):e;return SY.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||kY.some(n=>(r.willChange||"").includes(n))||EY.some(n=>(r.contain||"").includes(n))}function AY(e){let t=Ii(e);for(;la(t)&&!oc(t);){if(V_(t))return t;if(Tg(t))return null;t=Ii(t)}return null}function H_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TY=new Set(["html","body","#document"]);function oc(e){return TY.has(qc(e))}function Ps(e){return Un(e).getComputedStyle(e)}function Og(e){return Cs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ii(e){if(qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IT(e)&&e.host||ha(e);return IT(t)?t.host:t}function j3(e){const t=Ii(e);return oc(t)?e.ownerDocument?e.ownerDocument.body:e.body:la(t)&&Nh(t)?t:j3(t)}function Td(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=j3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Un(a);if(i){const l=DN(o);return t.concat(o,o.visualViewport||[],Nh(a)?a:[],l&&r?Td(l):[])}return t.concat(a,Td(a,[],r))}function DN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function N3(e){const t=Ps(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=la(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=nm(r)!==i||nm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function G_(e){return Cs(e)?e:e.contextElement}function Ql(e){const t=G_(e);if(!la(t))return ta(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=N3(t);let o=(i?nm(r.width):r.width)/n,l=(i?nm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const OY=ta(0);function _3(e){const t=Un(e);return!H_()||!t.visualViewport?OY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Un(e)?!1:t}function Po(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=G_(e);let o=ta(1);t&&(n?Cs(n)&&(o=Ql(n)):o=Ql(e));const l=CY(i,r,n)?_3(i):ta(0);let u=(a.left+l.x)/o.x,h=(a.top+l.y)/o.y,f=a.width/o.x,p=a.height/o.y;if(i){const g=Un(i),v=n&&Cs(n)?Un(n):n;let b=g,y=DN(b);for(;y&&n&&v!==b;){const x=Ql(y),_=y.getBoundingClientRect(),N=Ps(y),E=_.left+(y.clientLeft+parseFloat(N.paddingLeft))*x.x,C=_.top+(y.clientTop+parseFloat(N.paddingTop))*x.y;u*=x.x,h*=x.y,f*=x.x,p*=x.y,u+=E,h+=C,b=Un(y),y=DN(b)}}return am({width:f,height:p,x:u,y:h})}function Cg(e,t){const r=Og(e).scrollLeft;return t?t.left+r:Po(ha(e)).left+r}function S3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Cg(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function PY(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ha(n),l=t?Tg(t.floating):!1;if(n===o||l&&i)return r;let u={scrollLeft:0,scrollTop:0},h=ta(1);const f=ta(0),p=la(n);if((p||!p&&!i)&&((qc(n)!=="body"||Nh(o))&&(u=Og(n)),la(n))){const v=Po(n);h=Ql(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const g=o&&!p&&!i?S3(o,u):ta(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-u.scrollLeft*h.x+f.x+g.x,y:r.y*h.y-u.scrollTop*h.y+f.y+g.y}}function RY(e){return Array.from(e.getClientRects())}function IY(e){const t=ha(e),r=Og(e),n=e.ownerDocument.body,a=Dn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Dn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Cg(e);const l=-r.scrollTop;return Ps(n).direction==="rtl"&&(o+=Dn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const DT=25;function DY(e,t){const r=Un(e),n=ha(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,u=0;if(a){i=a.width,o=a.height;const f=H_();(!f||f&&t==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}const h=Cg(n);if(h<=0){const f=n.ownerDocument,p=f.body,g=getComputedStyle(p),v=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(n.clientWidth-p.clientWidth-v);b<=DT&&(i-=b)}else h<=DT&&(i+=h);return{width:i,height:o,x:l,y:u}}const MY=new Set(["absolute","fixed"]);function $Y(e,t){const r=Po(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=la(e)?Ql(e):ta(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,u=a*i.x,h=n*i.y;return{width:o,height:l,x:u,y:h}}function MT(e,t,r){let n;if(t==="viewport")n=DY(e,r);else if(t==="document")n=IY(ha(e));else if(Cs(t))n=$Y(t,r);else{const a=_3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return am(n)}function k3(e,t){const r=Ii(e);return r===t||!Cs(r)||oc(r)?!1:Ps(r).position==="fixed"||k3(r,t)}function LY(e,t){const r=t.get(e);if(r)return r;let n=Td(e,[],!1).filter(l=>Cs(l)&&qc(l)!=="body"),a=null;const i=Ps(e).position==="fixed";let o=i?Ii(e):e;for(;Cs(o)&&!oc(o);){const l=Ps(o),u=V_(o);!u&&l.position==="fixed"&&(a=null),(i?!u&&!a:!u&&l.position==="static"&&!!a&&MY.has(a.position)||Nh(o)&&!u&&k3(e,o))?n=n.filter(f=>f!==o):a=l,o=Ii(o)}return t.set(e,n),n}function FY(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Tg(t)?[]:LY(t,this._c):[].concat(r),n],l=o[0],u=o.reduce((h,f)=>{const p=MT(t,f,a);return h.top=Dn(p.top,h.top),h.right=Ri(p.right,h.right),h.bottom=Ri(p.bottom,h.bottom),h.left=Dn(p.left,h.left),h},MT(t,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function UY(e){const{width:t,height:r}=N3(e);return{width:t,height:r}}function BY(e,t,r){const n=la(t),a=ha(t),i=r==="fixed",o=Po(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=ta(0);function h(){u.x=Cg(a)}if(n||!n&&!i)if((qc(t)!=="body"||Nh(a))&&(l=Og(t)),n){const v=Po(t,!0,i,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else a&&h();i&&!n&&a&&h();const f=a&&!n&&!i?S3(a,l):ta(0),p=o.left+l.scrollLeft-u.x-f.x,g=o.top+l.scrollTop-u.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function U0(e){return Ps(e).position==="static"}function $T(e,t){if(!la(e)||Ps(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ha(e)===r&&(r=r.ownerDocument.body),r}function E3(e,t){const r=Un(e);if(Tg(e))return r;if(!la(e)){let a=Ii(e);for(;a&&!oc(a);){if(Cs(a)&&!U0(a))return a;a=Ii(a)}return r}let n=$T(e,t);for(;n&&NY(n)&&U0(n);)n=$T(n,t);return n&&oc(n)&&U0(n)&&!V_(n)?r:n||AY(e)||r}const zY=async function(e){const t=this.getOffsetParent||E3,r=this.getDimensions,n=await r(e.floating);return{reference:BY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WY(e){return Ps(e).direction==="rtl"}const qY={convertOffsetParentRelativeRectToViewportRelativeRect:PY,getDocumentElement:ha,getClippingRect:FY,getOffsetParent:E3,getElementRects:zY,getClientRects:RY,getDimensions:UY,getScale:Ql,isElement:Cs,isRTL:WY};function A3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function VY(e,t){let r=null,n;const a=ha(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const h=e.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=h;if(l||t(),!g||!v)return;const b=mp(p),y=mp(a.clientWidth-(f+g)),x=mp(a.clientHeight-(p+v)),_=mp(f),E={rootMargin:-b+"px "+-y+"px "+-x+"px "+-_+"px",threshold:Dn(0,Ri(1,u))||1};let C=!0;function S(k){const A=k[0].intersectionRatio;if(A!==u){if(!C)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!A3(h,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(S,{...E,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,E)}r.observe(e)}return o(!0),i}function HY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=G_(e),f=a||i?[...h?Td(h):[],...Td(t)]:[];f.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const p=h&&l?VY(h,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(_=>{let[N]=_;N&&N.target===h&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(t)})),r()}),h&&!u&&v.observe(h),v.observe(t));let b,y=u?Po(e):null;u&&x();function x(){const _=Po(e);y&&!A3(y,_)&&r(),y=_,b=requestAnimationFrame(x)}return r(),()=>{var _;f.forEach(N=>{a&&N.removeEventListener("scroll",r),i&&N.removeEventListener("resize",r)}),p?.(),(_=v)==null||_.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const GY=xY,KY=yY,YY=pY,XY=bY,JY=mY,LT=fY,QY=vY,ZY=(e,t,r)=>{const n=new Map,a={platform:qY,...r},i={...a.platform,_c:n};return hY(e,t,{...a,platform:i})};var eX=typeof document<"u",tX=function(){},zp=eX?w.useLayoutEffect:tX;function im(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!im(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!im(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function T3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function FT(e,t){const r=T3(e);return Math.round(t*r)/r}function B0(e){const t=w.useRef(e);return zp(()=>{t.current=e}),t}function rX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:h}=e,[f,p]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=w.useState(n);im(g,n)||v(n);const[b,y]=w.useState(null),[x,_]=w.useState(null),N=w.useCallback(M=>{M!==k.current&&(k.current=M,y(M))},[]),E=w.useCallback(M=>{M!==A.current&&(A.current=M,_(M))},[]),C=i||b,S=o||x,k=w.useRef(null),A=w.useRef(null),P=w.useRef(f),O=u!=null,I=B0(u),D=B0(a),L=B0(h),F=w.useCallback(()=>{if(!k.current||!A.current)return;const M={placement:t,strategy:r,middleware:g};D.current&&(M.platform=D.current),ZY(k.current,A.current,M).then(V=>{const Q={...V,isPositioned:L.current!==!1};G.current&&!im(P.current,Q)&&(P.current=Q,Bc.flushSync(()=>{p(Q)}))})},[g,t,r,D,L]);zp(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[h]);const G=w.useRef(!1);zp(()=>(G.current=!0,()=>{G.current=!1}),[]),zp(()=>{if(C&&(k.current=C),S&&(A.current=S),C&&S){if(I.current)return I.current(C,S,F);F()}},[C,S,F,I,O]);const K=w.useMemo(()=>({reference:k,floating:A,setReference:N,setFloating:E}),[N,E]),U=w.useMemo(()=>({reference:C,floating:S}),[C,S]),q=w.useMemo(()=>{const M={position:r,left:0,top:0};if(!U.floating)return M;const V=FT(U.floating,f.x),Q=FT(U.floating,f.y);return l?{...M,transform:"translate("+V+"px, "+Q+"px)",...T3(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:Q}},[r,l,U.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:F,refs:K,elements:U,floatingStyles:q}),[f,F,K,U,q])}const nX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?LT({element:n.current,padding:a}).fn(r):{}:n?LT({element:n,padding:a}).fn(r):{}}}},sX=(e,t)=>({...GY(e),options:[e,t]}),aX=(e,t)=>({...KY(e),options:[e,t]}),iX=(e,t)=>({...QY(e),options:[e,t]}),oX=(e,t)=>({...YY(e),options:[e,t]}),lX=(e,t)=>({...XY(e),options:[e,t]}),cX=(e,t)=>({...JY(e),options:[e,t]}),uX=(e,t)=>({...nX(e),options:[e,t]});var dX="Arrow",O3=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(st.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});O3.displayName=dX;var hX=O3;function C3(e){const[t,r]=w.useState(void 0);return tn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,h=Array.isArray(u)?u[0]:u;o=h.inlineSize,l=h.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var K_="Popper",[P3,Vc]=Ds(K_),[fX,R3]=P3(K_),I3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return s.jsx(fX,{scope:t,anchor:n,onAnchorChange:a,children:r})};I3.displayName=K_;var D3="PopperAnchor",M3=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=R3(D3,r),o=w.useRef(null),l=gt(t,o),u=w.useRef(null);return w.useEffect(()=>{const h=u.current;u.current=n?.current||o.current,h!==u.current&&i.onAnchorChange(u.current)}),n?null:s.jsx(st.div,{...a,ref:l})});M3.displayName=D3;var Y_="PopperContent",[pX,mX]=P3(Y_),$3=w.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,x=R3(Y_,r),[_,N]=w.useState(null),E=gt(t,re=>N(re)),[C,S]=w.useState(null),k=C3(C),A=k?.width??0,P=k?.height??0,O=n+(i!=="center"?"-"+i:""),I=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(h)?h:[h],L=D.length>0,F={padding:I,boundary:D.filter(xX),altBoundary:L},{refs:G,floatingStyles:K,placement:U,isPositioned:q,middlewareData:M}=rX({strategy:"fixed",placement:O,whileElementsMounted:(...re)=>HY(...re,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[sX({mainAxis:a+P,alignmentAxis:o}),u&&aX({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?iX():void 0,...F}),u&&oX({...F}),lX({...F,apply:({elements:re,rects:me,availableWidth:fe,availableHeight:ye})=>{const{width:ve,height:ce}=me.reference,Oe=re.floating.style;Oe.setProperty("--radix-popper-available-width",`${fe}px`),Oe.setProperty("--radix-popper-available-height",`${ye}px`),Oe.setProperty("--radix-popper-anchor-width",`${ve}px`),Oe.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),C&&uX({element:C,padding:l}),yX({arrowWidth:A,arrowHeight:P}),g&&cX({strategy:"referenceHidden",...F})]}),[V,Q]=U3(U),z=oa(b);tn(()=>{q&&z?.()},[q,z]);const J=M.arrow?.x,le=M.arrow?.y,se=M.arrow?.centerOffset!==0,[xe,X]=w.useState();return tn(()=>{_&&X(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(pX,{scope:r,placedSide:V,onArrowChange:S,arrowX:J,arrowY:le,shouldHideArrow:se,children:s.jsx(st.div,{"data-side":V,"data-align":Q,...y,ref:E,style:{...y.style,animation:q?void 0:"none"}})})})});$3.displayName=Y_;var L3="PopperArrow",gX={top:"bottom",right:"left",bottom:"top",left:"right"},F3=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=mX(L3,n),o=gX[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(hX,{...a,ref:r,style:{...a.style,display:"block"}})})});F3.displayName=L3;function xX(e){return e!==null}var yX=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[h,f]=U3(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(a.arrow?.x??0)+l/2,v=(a.arrow?.y??0)+u/2;let b="",y="";return h==="bottom"?(b=o?p:`${g}px`,y=`${-u}px`):h==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+u}px`):h==="right"?(b=`${-u}px`,y=o?p:`${v}px`):h==="left"&&(b=`${n.floating.width+u}px`,y=o?p:`${v}px`),{data:{x:b,y}}}});function U3(e){const[t,r="center"]=e.split("-");return[t,r]}var X_=I3,Pg=M3,J_=$3,Q_=F3,vX="Portal",_h=w.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=w.useState(!1);tn(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?eK.createPortal(s.jsx(st.div,{...n,ref:t}),o):null});_h.displayName=vX;function bX(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Ms=e=>{const{present:t,children:r}=e,n=wX(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=gt(n.ref,jX(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};Ms.displayName="Presence";function wX(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),o=e?"mounted":"unmounted",[l,u]=bX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=gp(n.current);i.current=l==="mounted"?h:"none"},[l]),tn(()=>{const h=n.current,f=a.current;if(f!==e){const g=i.current,v=gp(h);e?u("MOUNT"):v==="none"||h?.display==="none"?u("UNMOUNT"):u(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),tn(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,p=v=>{const y=gp(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(u("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=v=>{v.target===t&&(i.current=gp(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function gp(e){return e?.animationName||"none"}function jX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var z0="rovingFocusGroup.onEntryFocus",NX={bubbles:!1,cancelable:!0},Sh="RovingFocusGroup",[MN,B3,_X]=B_(Sh),[SX,Rg]=Ds(Sh,[_X]),[kX,EX]=SX(Sh),z3=w.forwardRef((e,t)=>s.jsx(MN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(MN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(AX,{...e,ref:t})})}));z3.displayName=Sh;var AX=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=e,g=w.useRef(null),v=gt(t,g),b=kg(i),[y,x]=Pi({prop:o,defaultProp:l??null,onChange:u,caller:Sh}),[_,N]=w.useState(!1),E=oa(h),C=B3(r),S=w.useRef(!1),[k,A]=w.useState(0);return w.useEffect(()=>{const P=g.current;if(P)return P.addEventListener(z0,E),()=>P.removeEventListener(z0,E)},[E]),s.jsx(kX,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:y,onItemFocus:w.useCallback(P=>x(P),[x]),onItemShiftTab:w.useCallback(()=>N(!0),[]),onFocusableItemAdd:w.useCallback(()=>A(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>A(P=>P-1),[]),children:s.jsx(st.div,{tabIndex:_||k===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{S.current=!0}),onFocus:Pe(e.onFocus,P=>{const O=!S.current;if(P.target===P.currentTarget&&O&&!_){const I=new CustomEvent(z0,NX);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const D=C().filter(U=>U.focusable),L=D.find(U=>U.active),F=D.find(U=>U.id===y),K=[L,F,...D].filter(Boolean).map(U=>U.ref.current);V3(K,f)}}S.current=!1}),onBlur:Pe(e.onBlur,()=>N(!1))})})}),W3="RovingFocusGroupItem",q3=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,u=Es(),h=i||u,f=EX(W3,r),p=f.currentTabStopId===h,g=B3(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=f;return w.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),s.jsx(MN.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:s.jsx(st.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Pe(e.onMouseDown,x=>{n?f.onItemFocus(h):x.preventDefault()}),onFocus:Pe(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:Pe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=CX(x,f.orientation,f.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=g().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const C=E.indexOf(x.currentTarget);E=f.loop?PX(E,C+1):E.slice(C+1)}setTimeout(()=>V3(E))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});q3.displayName=W3;var TX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CX(e,t,r){const n=OX(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return TX[n]}function V3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function PX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var H3=z3,G3=q3;function RX(e){const t=IX(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),u=l.find(MX);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function IX(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=LX(a),l=$X(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DX=Symbol("radix.slottable");function MX(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DX}function $X(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function LX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Cl=new WeakMap,xp=new WeakMap,yp={},W0=0,K3=function(e){return e&&(e.host||K3(e.parentNode))},UX=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=K3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},BX=function(e,t,r,n){var a=UX(t,Array.isArray(e)?e:[e]);yp[r]||(yp[r]=new WeakMap);var i=yp[r],o=[],l=new Set,u=new Set(a),h=function(p){!p||l.has(p)||(l.add(p),h(p.parentNode))};a.forEach(h);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(n),b=v!==null&&v!=="false",y=(Cl.get(g)||0)+1,x=(i.get(g)||0)+1;Cl.set(g,y),i.set(g,x),o.push(g),y===1&&b&&xp.set(g,!0),x===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return f(t),l.clear(),W0++,function(){o.forEach(function(p){var g=Cl.get(p)-1,v=i.get(p)-1;Cl.set(p,g),i.set(p,v),g||(xp.has(p)||p.removeAttribute(n),xp.delete(p)),v||p.removeAttribute(r)}),W0--,W0||(Cl=new WeakMap,Cl=new WeakMap,xp=new WeakMap,yp={})}},Ig=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=FX(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),BX(n,a,r,"aria-hidden")):function(){return null}},Wp="right-scroll-bar-position",qp="width-before-scroll-bar",zX="with-scroll-bars-hidden",WX="--removed-body-scroll-bar-size";function q0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qX(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var VX=typeof window<"u"?w.useLayoutEffect:w.useEffect,UT=new WeakMap;function HX(e,t){var r=qX(null,function(n){return e.forEach(function(a){return q0(a,n)})});return VX(function(){var n=UT.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||q0(l,null)}),i.forEach(function(l){a.has(l)||q0(l,o)})}UT.set(r,e)},[e]),r}function GX(e){return e}function KX(e,t){t===void 0&&(t=GX);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var u=function(){var f=o;o=[],f.forEach(i)},h=function(){return Promise.resolve().then(u)};h(),r={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),r}}}};return a}function YX(e){e===void 0&&(e={});var t=KX(null);return t.options=is({async:!0,ssr:!1},e),t}var Y3=function(e){var t=e.sideCar,r=Di(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,is({},r))};Y3.isSideCarExport=!0;function XX(e,t){return e.useMedium(t),Y3}var X3=YX(),V0=function(){},Dg=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:V0,onWheelCapture:V0,onTouchMoveCapture:V0}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,u=e.className,h=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,v=e.noRelative,b=e.noIsolation,y=e.inert,x=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,E=e.gapMode,C=Di(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,k=HX([r,t]),A=is(is({},C),a);return w.createElement(w.Fragment,null,f&&w.createElement(S,{sideCar:X3,removeScrollBar:h,shards:p,noRelative:v,noIsolation:b,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:E}),o?w.cloneElement(w.Children.only(l),is(is({},A),{ref:k})):w.createElement(N,is({},A,{className:u,ref:k}),l))});Dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dg.classNames={fullWidth:qp,zeroRight:Wp};var JX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JX();return t&&e.setAttribute("nonce",t),e}function ZX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=QX())&&(ZX(t,r),eJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rJ=function(){var e=tJ();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},J3=function(){var e=rJ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},nJ={left:0,top:0,right:0,gap:0},H0=function(e){return parseInt(e||"",10)||0},sJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[H0(r),H0(n),H0(a)]},aJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nJ;var t=sJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},iJ=J3(),Zl="data-scroll-locked",oJ=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wp,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(qp,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wp," .").concat(Wp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(WX,": ").concat(l,`px;
  }
`)},BT=function(){var e=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(e)?e:0},lJ=function(){w.useEffect(function(){return document.body.setAttribute(Zl,(BT()+1).toString()),function(){var e=BT()-1;e<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,e.toString())}},[])},cJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;lJ();var i=w.useMemo(function(){return aJ(a)},[a]);return w.createElement(iJ,{styles:oJ(i,!t,a,r?"":"!important")})},$N=!1;if(typeof window<"u")try{var vp=Object.defineProperty({},"passive",{get:function(){return $N=!0,!0}});window.addEventListener("test",vp,vp),window.removeEventListener("test",vp,vp)}catch{$N=!1}var Pl=$N?{passive:!1}:!1,uJ=function(e){return e.tagName==="TEXTAREA"},Q3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uJ(e)&&r[t]==="visible")},dJ=function(e){return Q3(e,"overflowY")},hJ=function(e){return Q3(e,"overflowX")},zT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Z3(e,n);if(a){var i=e$(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},fJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},pJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Z3=function(e,t){return e==="v"?dJ(t):hJ(t)},e$=function(e,t){return e==="v"?fJ(t):pJ(t)},mJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},gJ=function(e,t,r,n,a){var i=mJ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,u=t.contains(l),h=!1,f=o>0,p=0,g=0;do{if(!l)break;var v=e$(e,l),b=v[0],y=v[1],x=v[2],_=y-x-i*b;(b||_)&&Z3(e,l)&&(p+=_,g+=b);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(h=!0),h},bp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},WT=function(e){return[e.deltaX,e.deltaY]},qT=function(e){return e&&"current"in e?e.current:e},xJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vJ=0,Rl=[];function bJ(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(vJ++)[0],i=w.useState(J3)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=y_([e.lockRef.current],(e.shards||[]).map(qT),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=bp(y),N=r.current,E="deltaX"in y?y.deltaX:N[0]-_[0],C="deltaY"in y?y.deltaY:N[1]-_[1],S,k=y.target,A=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in y&&A==="h"&&k.type==="range")return!1;var P=window.getSelection(),O=P&&P.anchorNode,I=O?O===k||O.contains(k):!1;if(I)return!1;var D=zT(A,k);if(!D)return!0;if(D?S=A:(S=A==="v"?"h":"v",D=zT(A,k)),!D)return!1;if(!n.current&&"changedTouches"in y&&(E||C)&&(n.current=S),!S)return!0;var L=n.current||S;return gJ(L,x,y,L==="h"?E:C)},[]),u=w.useCallback(function(y){var x=y;if(!(!Rl.length||Rl[Rl.length-1]!==i)){var _="deltaY"in x?WT(x):bp(x),N=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&xJ(S.delta,_)})[0];if(N&&N.should){x.cancelable&&x.preventDefault();return}if(!N){var E=(o.current.shards||[]).map(qT).filter(Boolean).filter(function(S){return S.contains(x.target)}),C=E.length>0?l(x,E[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),h=w.useCallback(function(y,x,_,N){var E={name:y,delta:x,target:_,should:N,shadowParent:wJ(_)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(C){return C!==E})},1)},[]),f=w.useCallback(function(y){r.current=bp(y),n.current=void 0},[]),p=w.useCallback(function(y){h(y.type,WT(y),y.target,l(y,e.lockRef.current))},[]),g=w.useCallback(function(y){h(y.type,bp(y),y.target,l(y,e.lockRef.current))},[]);w.useEffect(function(){return Rl.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Pl),document.addEventListener("touchmove",u,Pl),document.addEventListener("touchstart",f,Pl),function(){Rl=Rl.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,Pl),document.removeEventListener("touchmove",u,Pl),document.removeEventListener("touchstart",f,Pl)}},[]);var v=e.removeScrollBar,b=e.inert;return w.createElement(w.Fragment,null,b?w.createElement(i,{styles:yJ(a)}):null,v?w.createElement(cJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jJ=XX(X3,bJ);var kh=w.forwardRef(function(e,t){return w.createElement(Dg,is({},e,{ref:t,sideCar:jJ}))});kh.classNames=Dg.classNames;var LN=["Enter"," "],NJ=["ArrowDown","PageUp","Home"],t$=["ArrowUp","PageDown","End"],_J=[...NJ,...t$],SJ={ltr:[...LN,"ArrowRight"],rtl:[...LN,"ArrowLeft"]},kJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eh="Menu",[Od,EJ,AJ]=B_(Eh),[Yo,r$]=Ds(Eh,[AJ,Vc,Rg]),Mg=Vc(),n$=Rg(),[TJ,Xo]=Yo(Eh),[OJ,Ah]=Yo(Eh),s$=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Mg(t),[u,h]=w.useState(null),f=w.useRef(!1),p=oa(i),g=kg(a);return w.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(X_,{...l,children:s.jsx(TJ,{scope:t,open:r,onOpenChange:p,content:u,onContentChange:h,children:s.jsx(OJ,{scope:t,onClose:w.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};s$.displayName=Eh;var CJ="MenuAnchor",Z_=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mg(r);return s.jsx(Pg,{...a,...n,ref:t})});Z_.displayName=CJ;var eS="MenuPortal",[PJ,a$]=Yo(eS,{forceMount:void 0}),i$=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Xo(eS,t);return s.jsx(PJ,{scope:t,forceMount:r,children:s.jsx(Ms,{present:r||i.open,children:s.jsx(_h,{asChild:!0,container:a,children:n})})})};i$.displayName=eS;var cs="MenuContent",[RJ,tS]=Yo(cs),o$=w.forwardRef((e,t)=>{const r=a$(cs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Xo(cs,e.__scopeMenu),o=Ah(cs,e.__scopeMenu);return s.jsx(Od.Provider,{scope:e.__scopeMenu,children:s.jsx(Ms,{present:n||i.open,children:s.jsx(Od.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(IJ,{...a,ref:t}):s.jsx(DJ,{...a,ref:t})})})})}),IJ=w.forwardRef((e,t)=>{const r=Xo(cs,e.__scopeMenu),n=w.useRef(null),a=gt(t,n);return w.useEffect(()=>{const i=n.current;if(i)return Ig(i)},[]),s.jsx(rS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),DJ=w.forwardRef((e,t)=>{const r=Xo(cs,e.__scopeMenu);return s.jsx(rS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),MJ=RX("MenuContent.ScrollLock"),rS=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,disableOutsideScroll:b,...y}=e,x=Xo(cs,r),_=Ah(cs,r),N=Mg(r),E=n$(r),C=EJ(r),[S,k]=w.useState(null),A=w.useRef(null),P=gt(t,A,x.onContentChange),O=w.useRef(0),I=w.useRef(""),D=w.useRef(0),L=w.useRef(null),F=w.useRef("right"),G=w.useRef(0),K=b?kh:w.Fragment,U=b?{as:MJ,allowPinchZoom:!0}:void 0,q=V=>{const Q=I.current+V,z=C().filter(re=>!re.disabled),J=document.activeElement,le=z.find(re=>re.ref.current===J)?.textValue,se=z.map(re=>re.textValue),xe=KJ(se,Q,le),X=z.find(re=>re.textValue===xe)?.ref.current;(function re(me){I.current=me,window.clearTimeout(O.current),me!==""&&(O.current=window.setTimeout(()=>re(""),1e3))})(Q),X&&setTimeout(()=>X.focus())};w.useEffect(()=>()=>window.clearTimeout(O.current),[]),Eg();const M=w.useCallback(V=>F.current===L.current?.side&&XJ(V,L.current?.area),[]);return s.jsx(RJ,{scope:r,searchRef:I,onItemEnter:w.useCallback(V=>{M(V)&&V.preventDefault()},[M]),onItemLeave:w.useCallback(V=>{M(V)||(A.current?.focus(),k(null))},[M]),onTriggerLeave:w.useCallback(V=>{M(V)&&V.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:w.useCallback(V=>{L.current=V},[]),children:s.jsx(K,{...U,children:s.jsx(jh,{asChild:!0,trapped:a,onMountAutoFocus:Pe(i,V=>{V.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(wh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,children:s.jsx(H3,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Pe(u,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(J_,{role:"menu","aria-orientation":"vertical","data-state":N$(x.open),"data-radix-menu-content":"",dir:_.dir,...N,...y,ref:P,style:{outline:"none",...y.style},onKeyDown:Pe(y.onKeyDown,V=>{const z=V.target.closest("[data-radix-menu-content]")===V.currentTarget,J=V.ctrlKey||V.altKey||V.metaKey,le=V.key.length===1;z&&(V.key==="Tab"&&V.preventDefault(),!J&&le&&q(V.key));const se=A.current;if(V.target!==se||!_J.includes(V.key))return;V.preventDefault();const X=C().filter(re=>!re.disabled).map(re=>re.ref.current);t$.includes(V.key)&&X.reverse(),HJ(X)}),onBlur:Pe(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(O.current),I.current="")}),onPointerMove:Pe(e.onPointerMove,Cd(V=>{const Q=V.target,z=G.current!==V.clientX;if(V.currentTarget.contains(Q)&&z){const J=V.clientX>G.current?"right":"left";F.current=J,G.current=V.clientX}}))})})})})})})});o$.displayName=cs;var $J="MenuGroup",nS=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{role:"group",...n,ref:t})});nS.displayName=$J;var LJ="MenuLabel",l$=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{...n,ref:t})});l$.displayName=LJ;var om="MenuItem",VT="menu.itemSelect",$g=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=w.useRef(null),o=Ah(om,e.__scopeMenu),l=tS(om,e.__scopeMenu),u=gt(t,i),h=w.useRef(!1),f=()=>{const p=i.current;if(!r&&p){const g=new CustomEvent(VT,{bubbles:!0,cancelable:!0});p.addEventListener(VT,v=>n?.(v),{once:!0}),m3(p,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(c$,{...a,ref:u,disabled:r,onClick:Pe(e.onClick,f),onPointerDown:p=>{e.onPointerDown?.(p),h.current=!0},onPointerUp:Pe(e.onPointerUp,p=>{h.current||p.currentTarget?.click()}),onKeyDown:Pe(e.onKeyDown,p=>{const g=l.searchRef.current!=="";r||g&&p.key===" "||LN.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});$g.displayName=om;var c$=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=tS(om,r),l=n$(r),u=w.useRef(null),h=gt(t,u),[f,p]=w.useState(!1),[g,v]=w.useState("");return w.useEffect(()=>{const b=u.current;b&&v((b.textContent??"").trim())},[i.children]),s.jsx(Od.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:s.jsx(G3,{asChild:!0,...l,focusable:!n,children:s.jsx(st.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:Pe(e.onPointerMove,Cd(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,Cd(b=>o.onItemLeave(b))),onFocus:Pe(e.onFocus,()=>p(!0)),onBlur:Pe(e.onBlur,()=>p(!1))})})})}),FJ="MenuCheckboxItem",u$=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(m$,{scope:e.__scopeMenu,checked:r,children:s.jsx($g,{role:"menuitemcheckbox","aria-checked":lm(r)?"mixed":r,...a,ref:t,"data-state":aS(r),onSelect:Pe(a.onSelect,()=>n?.(lm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});u$.displayName=FJ;var d$="MenuRadioGroup",[UJ,BJ]=Yo(d$,{value:void 0,onValueChange:()=>{}}),h$=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=oa(n);return s.jsx(UJ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(nS,{...a,ref:t})})});h$.displayName=d$;var f$="MenuRadioItem",p$=w.forwardRef((e,t)=>{const{value:r,...n}=e,a=BJ(f$,e.__scopeMenu),i=r===a.value;return s.jsx(m$,{scope:e.__scopeMenu,checked:i,children:s.jsx($g,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":aS(i),onSelect:Pe(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});p$.displayName=f$;var sS="MenuItemIndicator",[m$,zJ]=Yo(sS,{checked:!1}),g$=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=zJ(sS,r);return s.jsx(Ms,{present:n||lm(i.checked)||i.checked===!0,children:s.jsx(st.span,{...a,ref:t,"data-state":aS(i.checked)})})});g$.displayName=sS;var WJ="MenuSeparator",x$=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});x$.displayName=WJ;var qJ="MenuArrow",y$=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mg(r);return s.jsx(Q_,{...a,...n,ref:t})});y$.displayName=qJ;var VJ="MenuSub",[Kje,v$]=Yo(VJ),rd="MenuSubTrigger",b$=w.forwardRef((e,t)=>{const r=Xo(rd,e.__scopeMenu),n=Ah(rd,e.__scopeMenu),a=v$(rd,e.__scopeMenu),i=tS(rd,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,h={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),s.jsx(Z_,{asChild:!0,...h,children:s.jsx(c$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":N$(r.open),...e,ref:da(t,a.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,Cd(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Pe(e.onPointerLeave,Cd(p=>{f();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,b=v==="right",y=b?-5:5,x=g[b?"left":"right"],_=g[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x,y:g.top},{x:_,y:g.top},{x:_,y:g.bottom},{x,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,p=>{const g=i.searchRef.current!=="";e.disabled||g&&p.key===" "||SJ[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});b$.displayName=rd;var w$="MenuSubContent",j$=w.forwardRef((e,t)=>{const r=a$(cs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Xo(cs,e.__scopeMenu),o=Ah(cs,e.__scopeMenu),l=v$(w$,e.__scopeMenu),u=w.useRef(null),h=gt(t,u);return s.jsx(Od.Provider,{scope:e.__scopeMenu,children:s.jsx(Ms,{present:n||i.open,children:s.jsx(Od.Slot,{scope:e.__scopeMenu,children:s.jsx(rS,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&u.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Pe(e.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),g=kJ[o.dir].includes(f.key);p&&g&&(i.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});j$.displayName=w$;function N$(e){return e?"open":"closed"}function lm(e){return e==="indeterminate"}function aS(e){return lm(e)?"indeterminate":e?"checked":"unchecked"}function HJ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function GJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function KJ(e,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=GJ(e,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const u=o.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function YJ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],h=l.x,f=l.y,p=u.x,g=u.y;f>n!=g>n&&r<(p-h)*(n-f)/(g-f)+h&&(a=!a)}return a}function XJ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return YJ(r,t)}function Cd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var JJ=s$,QJ=Z_,ZJ=i$,eQ=o$,tQ=nS,rQ=l$,nQ=$g,sQ=u$,aQ=h$,iQ=p$,oQ=g$,lQ=x$,cQ=y$,uQ=b$,dQ=j$,Lg="DropdownMenu",[hQ]=Ds(Lg,[r$]),hn=r$(),[fQ,_$]=hQ(Lg),S$=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=hn(t),h=w.useRef(null),[f,p]=Pi({prop:a,defaultProp:i??!1,onChange:o,caller:Lg});return s.jsx(fQ,{scope:t,triggerId:Es(),triggerRef:h,contentId:Es(),open:f,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(g=>!g),[p]),modal:l,children:s.jsx(JJ,{...u,open:f,onOpenChange:p,dir:n,modal:l,children:r})})};S$.displayName=Lg;var k$="DropdownMenuTrigger",E$=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=_$(k$,r),o=hn(r);return s.jsx(QJ,{asChild:!0,...o,children:s.jsx(st.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:da(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Pe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});E$.displayName=k$;var pQ="DropdownMenuPortal",A$=e=>{const{__scopeDropdownMenu:t,...r}=e,n=hn(t);return s.jsx(ZJ,{...n,...r})};A$.displayName=pQ;var T$="DropdownMenuContent",O$=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=_$(T$,r),i=hn(r),o=w.useRef(!1);return s.jsx(eQ,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,l=>{const u=l.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O$.displayName=T$;var mQ="DropdownMenuGroup",gQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(tQ,{...a,...n,ref:t})});gQ.displayName=mQ;var xQ="DropdownMenuLabel",yQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(rQ,{...a,...n,ref:t})});yQ.displayName=xQ;var vQ="DropdownMenuItem",C$=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(nQ,{...a,...n,ref:t})});C$.displayName=vQ;var bQ="DropdownMenuCheckboxItem",wQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(sQ,{...a,...n,ref:t})});wQ.displayName=bQ;var jQ="DropdownMenuRadioGroup",NQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(aQ,{...a,...n,ref:t})});NQ.displayName=jQ;var _Q="DropdownMenuRadioItem",SQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(iQ,{...a,...n,ref:t})});SQ.displayName=_Q;var kQ="DropdownMenuItemIndicator",EQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(oQ,{...a,...n,ref:t})});EQ.displayName=kQ;var AQ="DropdownMenuSeparator",TQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(lQ,{...a,...n,ref:t})});TQ.displayName=AQ;var OQ="DropdownMenuArrow",CQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(cQ,{...a,...n,ref:t})});CQ.displayName=OQ;var PQ="DropdownMenuSubTrigger",RQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(uQ,{...a,...n,ref:t})});RQ.displayName=PQ;var IQ="DropdownMenuSubContent",DQ=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return s.jsx(dQ,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DQ.displayName=IQ;var MQ=S$,$Q=E$,LQ=A$,FQ=O$,UQ=C$;function cm({...e}){return s.jsx(MQ,{"data-slot":"dropdown-menu",...e})}function um({...e}){return s.jsx($Q,{"data-slot":"dropdown-menu-trigger",...e})}function dm({className:e,sideOffset:t=4,...r}){return s.jsx(LQ,{children:s.jsx(FQ,{"data-slot":"dropdown-menu-content",sideOffset:t,className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function In({className:e,inset:t,variant:r="default",...n}){return s.jsx(UQ,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:tt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}const BQ="/assets/kolam-Bx6qZumk.png";function iS({title:e,icon:t,showKolam:r=!0,children:n}){return s.jsxs("div",{className:"sticky top-0 z-40 bg-[#0d5e38]",children:[r&&s.jsx("div",{className:"w-full h-auto",children:s.jsx("img",{src:BQ,alt:"",className:"w-full h-auto object-cover",style:{display:"block"}})}),n&&s.jsx("div",{className:"pb-[16px] pt-[16px] pr-[16px] pl-[16px] p-[16px]",children:n})]})}function zQ({isPlaying:e,size:t="sm"}){const r=t==="sm"?"h-3":"h-4",n=t==="sm"?"w-0.5":"w-1";return s.jsxs("div",{className:"flex items-end gap-0.5",style:{height:t==="sm"?"12px":"16px"},children:[s.jsx("div",{className:`${n} ${r} bg-[#ffffff] rounded-full transition-all ${e?"animate-playing-bar-1":"opacity-50"}`,style:{animationPlayState:e?"running":"paused"}}),s.jsx("div",{className:`${n} ${r} bg-[#ffffff] rounded-full transition-all ${e?"animate-playing-bar-2":"opacity-50"}`,style:{animationPlayState:e?"running":"paused"}}),s.jsx("div",{className:`${n} ${r} bg-[#ffffff] rounded-full transition-all ${e?"animate-playing-bar-3":"opacity-50"}`,style:{animationPlayState:e?"running":"paused"}})]})}function WQ(e){const t=qQ(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),u=l.find(HQ);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function qQ(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=KQ(a),l=GQ(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VQ=Symbol("radix.slottable");function HQ(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VQ}function GQ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function KQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fg="Dialog",[P$,R$]=Ds(Fg),[YQ,$s]=P$(Fg),I$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=w.useRef(null),u=w.useRef(null),[h,f]=Pi({prop:n,defaultProp:a??!1,onChange:i,caller:Fg});return s.jsx(YQ,{scope:t,triggerRef:l,contentRef:u,contentId:Es(),titleId:Es(),descriptionId:Es(),open:h,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};I$.displayName=Fg;var D$="DialogTrigger",M$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$s(D$,r),i=gt(t,a.triggerRef);return s.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cS(a.open),...n,ref:i,onClick:Pe(e.onClick,a.onOpenToggle)})});M$.displayName=D$;var oS="DialogPortal",[XQ,$$]=P$(oS,{forceMount:void 0}),L$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=$s(oS,t);return s.jsx(XQ,{scope:t,forceMount:r,children:w.Children.map(n,o=>s.jsx(Ms,{present:r||i.open,children:s.jsx(_h,{asChild:!0,container:a,children:o})}))})};L$.displayName=oS;var hm="DialogOverlay",F$=w.forwardRef((e,t)=>{const r=$$(hm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=$s(hm,e.__scopeDialog);return i.modal?s.jsx(Ms,{present:n||i.open,children:s.jsx(QQ,{...a,ref:t})}):null});F$.displayName=hm;var JQ=WQ("DialogOverlay.RemoveScroll"),QQ=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$s(hm,r);return s.jsx(kh,{as:JQ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(st.div,{"data-state":cS(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ro="DialogContent",U$=w.forwardRef((e,t)=>{const r=$$(Ro,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=$s(Ro,e.__scopeDialog);return s.jsx(Ms,{present:n||i.open,children:i.modal?s.jsx(ZQ,{...a,ref:t}):s.jsx(eZ,{...a,ref:t})})});U$.displayName=Ro;var ZQ=w.forwardRef((e,t)=>{const r=$s(Ro,e.__scopeDialog),n=w.useRef(null),a=gt(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return Ig(i)},[]),s.jsx(B$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),eZ=w.forwardRef((e,t)=>{const r=$s(Ro,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(B$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),B$=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=$s(Ro,r),u=w.useRef(null),h=gt(t,u);return Eg(),s.jsxs(s.Fragment,{children:[s.jsx(jh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(wh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cS(l.open),...o,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(rZ,{titleId:l.titleId}),s.jsx(sZ,{contentRef:u,descriptionId:l.descriptionId})]})]})}),lS="DialogTitle",z$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$s(lS,r);return s.jsx(st.h2,{id:a.titleId,...n,ref:t})});z$.displayName=lS;var W$="DialogDescription",q$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$s(W$,r);return s.jsx(st.p,{id:a.descriptionId,...n,ref:t})});q$.displayName=W$;var V$="DialogClose",H$=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$s(V$,r);return s.jsx(st.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});H$.displayName=V$;function cS(e){return e?"open":"closed"}var G$="DialogTitleWarning",[tZ,K$]=bK(G$,{contentName:Ro,titleName:lS,docsSlug:"dialog"}),rZ=({titleId:e})=>{const t=K$(G$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},nZ="DialogDescriptionWarning",sZ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K$(nZ).contentName}}.`;return w.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Y$=I$,X$=M$,J$=L$,Q$=F$,Z$=U$,e6=z$,t6=q$,uS=H$;function Pd({...e}){return s.jsx(Y$,{"data-slot":"dialog",...e})}function FN({...e}){return s.jsx(X$,{"data-slot":"dialog-trigger",...e})}function aZ({...e}){return s.jsx(J$,{"data-slot":"dialog-portal",...e})}function iZ({className:e,...t}){return s.jsx(Q$,{"data-slot":"dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Rd({className:e,children:t,...r}){return s.jsxs(aZ,{"data-slot":"dialog-portal",children:[s.jsx(iZ,{}),s.jsxs(Z$,{"data-slot":"dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(uS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Wr,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Id({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function fm({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:tt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Dd({className:e,...t}){return s.jsx(e6,{"data-slot":"dialog-title",className:tt("text-lg leading-none font-semibold",e),...t})}function dS({className:e,...t}){return s.jsx(t6,{"data-slot":"dialog-description",className:tt("text-muted-foreground text-sm",e),...t})}function oZ({open:e,onOpenChange:t,songId:r,songTitle:n}){const[a,i]=w.useState([]),[o,l]=w.useState(""),[u,h]=w.useState(!1);w.useEffect(()=>{f()},[e]);const f=()=>{const y=localStorage.getItem("music_playlists");if(y)try{i(JSON.parse(y))}catch(x){console.error("Failed to load playlists:",x),i([])}},p=y=>{localStorage.setItem("music_playlists",JSON.stringify(y)),i(y)},g=()=>{if(!o.trim()){ee.error("Please enter a playlist name");return}const y={id:Date.now().toString(),name:o.trim(),songIds:r?[r]:[],createdAt:Date.now()},x=[...a,y];p(x),ee.success(`Created playlist "${y.name}"${r?` and added "${n}"`:""}`),l(""),h(!1),r&&t(!1)},v=y=>{if(!r)return;const x=a.map(N=>N.id===y?N.songIds.includes(r)?(ee.info(`"${n}" is already in this playlist`),N):{...N,songIds:[...N.songIds,r]}:N);p(x);const _=x.find(N=>N.id===y);ee.success(`Added "${n}" to "${_?.name}"`),t(!1)},b=y=>r&&a.find(_=>_.id===y)?.songIds.includes(r)||!1;return s.jsx(Pd,{open:e,onOpenChange:t,children:s.jsxs(Rd,{className:"sm:max-w-md",children:[s.jsxs(Id,{children:[s.jsx(Dd,{style:{fontFamily:"var(--font-english)",fontWeight:600},children:r?`Add "${n}" to playlist`:"Your Playlists"}),s.jsx(dS,{style:{fontFamily:"var(--font-english)"},children:r?"Select a playlist or create a new one":"Manage your playlists"})]}),s.jsxs("div",{className:"space-y-3",children:[a.length>0&&s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.map(y=>s.jsxs("button",{onClick:()=>r&&v(y.id),disabled:!r,className:`w-full p-3 rounded-lg border flex items-center justify-between transition-colors ${r?"hover:bg-gray-50 cursor-pointer":"cursor-default"} ${b(y.id)?"bg-green-50 border-green-200":"bg-white border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#0d5e38] flex items-center justify-center flex-shrink-0",children:s.jsx(Os,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-900",style:{fontFamily:"var(--font-english)",fontWeight:600},children:y.name}),s.jsxs("p",{className:"text-gray-500 text-sm",style:{fontFamily:"var(--font-english)"},children:[y.songIds.length," ",y.songIds.length===1?"song":"songs"]})]})]}),b(y.id)&&s.jsx(kd,{className:"w-5 h-5 text-green-600"})]},y.id))}),a.length===0&&!u&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Os,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 text-sm",style:{fontFamily:"var(--font-english)"},children:"No playlists yet. Create your first one!"})]}),u?s.jsxs("div",{className:"space-y-2 p-3 border border-[#0d5e38] rounded-lg bg-green-50",children:[s.jsx(ir,{placeholder:"Playlist name",value:o,onChange:y=>l(y.target.value),onKeyDown:y=>y.key==="Enter"&&g(),autoFocus:!0,style:{fontFamily:"var(--font-english)"}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{onClick:g,className:"flex-1",style:{background:"#0d5e38",fontFamily:"var(--font-english)",fontWeight:600},children:"Create"}),s.jsx(Te,{onClick:()=>{h(!1),l("")},variant:"outline",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Cancel"})]})]}):s.jsxs(Te,{onClick:()=>h(!0),variant:"outline",className:"w-full border-dashed border-2 border-[#0d5e38] text-[#0d5e38] hover:bg-green-50",style:{fontFamily:"var(--font-english)",fontWeight:600},children:[s.jsx(_r,{className:"w-4 h-4 mr-2"}),"Create New Playlist"]})]})]})})}const r6=e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/^([a-zA-Z0-9_-]{11})$/];for(const r of t){const n=e.match(r);if(n)return n[1]}return e},G0=e=>`https://img.youtube.com/vi/${r6(e)}/mqdefault.jpg`,wp=e=>{if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`};function lZ({songs:e,currentIndex:t,autoPlay:r=!1,onClose:n,onSongChange:a,onToggleFavorite:i,onShare:o,favorites:l=new Set}){const[u,h]=w.useState(t),[f,p]=w.useState(!1),[g,v]=w.useState("all"),[b,y]=w.useState(!1),[x,_]=w.useState(!1),[N,E]=w.useState(!1),[C,S]=w.useState(0),[k,A]=w.useState(0),[P,O]=w.useState(!1),I=w.useRef(null),D=w.useRef(null),L=e[u],F=L?r6(L.embedUrl):"";w.useEffect(()=>{if(window.YT&&window.YT.Player){G();return}const X=document.createElement("script");X.src="https://www.youtube.com/iframe_api";const re=document.getElementsByTagName("script")[0];return re?.parentNode?.insertBefore(X,re),window.onYouTubeIframeAPIReady=()=>{console.log("[YouTubeMusicPlayer] YouTube API Ready"),G()},()=>{if(D.current&&clearInterval(D.current),I.current&&I.current.destroy)try{I.current.destroy()}catch(me){console.error("[YouTubeMusicPlayer] Error destroying player:",me)}}},[]),w.useEffect(()=>{if(P&&I.current&&F){console.log("[YouTubeMusicPlayer] Loading video:",F);try{f?(I.current.loadVideoById(F),setTimeout(()=>{I.current.playVideo()},100)):(I.current.cueVideoById(F),A(0))}catch(X){console.error("[YouTubeMusicPlayer] Error loading video:",X)}}},[u,P]),w.useEffect(()=>{h(t)},[t]);const G=()=>{if(!F){console.error("[YouTubeMusicPlayer] No valid YouTube ID found");return}try{console.log("[YouTubeMusicPlayer] Initializing player with ID:",F),I.current=new window.YT.Player("youtube-music-player-frame",{height:"0",width:"0",videoId:F,playerVars:{autoplay:r?1:0,controls:0,modestbranding:1,rel:0,playsinline:1},events:{onReady:K,onStateChange:U,onError:q}})}catch(X){console.error("[YouTubeMusicPlayer] Error creating player:",X)}},K=X=>{console.log("[YouTubeMusicPlayer] Player ready"),O(!0),S(X.target.getDuration()),r&&(X.target.playVideo(),p(!0)),D.current=setInterval(()=>{if(I.current&&I.current.getCurrentTime)try{const re=I.current.getCurrentTime();A(re)}catch{}},1e3)},U=X=>{const re=X.data;console.log("[YouTubeMusicPlayer] State change:",re),re===1?(p(!0),S(X.target.getDuration())):re===2?p(!1):re===0&&V()},q=X=>{console.error("[YouTubeMusicPlayer] Player error:",X.data),setTimeout(()=>V(),1e3)},M=()=>{if(!(!I.current||!P))try{f?I.current.pauseVideo():I.current.playVideo()}catch(X){console.error("[YouTubeMusicPlayer] Error toggling play:",X)}},V=()=>{if(g==="one"){I.current&&P&&(I.current.seekTo(0),I.current.playVideo());return}let X=u+1;if(X>=e.length)if(g==="all")X=0;else{p(!1);return}h(X),a?.(X)},Q=()=>{if(k>3){I.current&&P&&I.current.seekTo(0);return}let X=u-1;X<0&&(X=g==="all"?e.length-1:0),h(X),a?.(X)},z=()=>{const X=["none","all","one"],re=X.indexOf(g),me=X[(re+1)%X.length];v(me)},J=()=>{y(!b)},le=X=>{h(X),a?.(X),_(!1)},se=X=>{if(I.current&&P)try{I.current.seekTo(X),A(X)}catch(re){console.error("[YouTubeMusicPlayer] Error seeking:",re)}},xe=C>0?k/C*100:0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"absolute",top:"-9999px",left:"-9999px"},children:s.jsx("div",{id:"youtube-music-player-frame"})}),N&&s.jsxs("div",{className:"fixed inset-0 bg-black text-white z-[100] animate-fade-in flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[s.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Ho,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-sm",style:{fontFamily:"var(--font-english)"},children:"Now Playing"}),n&&s.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Wr,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"p-6 sm:p-8 flex flex-col items-center",children:[L?.thumbnail||L?.embedUrl?s.jsx("img",{src:L.thumbnail||G0(L.embedUrl),alt:L.title,className:"w-64 h-64 sm:w-80 sm:h-80 rounded-lg shadow-2xl object-cover mb-6"}):s.jsx("div",{className:"w-64 h-64 sm:w-80 sm:h-80 rounded-lg bg-gradient-to-br from-[#0d5e38] to-[#0a4a2b] mb-6 flex items-center justify-center",children:s.jsx(wn,{className:"w-24 h-24 text-white/30"})}),s.jsxs("div",{className:"text-center w-full max-w-md mb-4",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl mb-2",style:{fontFamily:"var(--font-english)"},children:L?.title||"Loading..."}),s.jsx("p",{className:"text-white/60",children:L?.description||"Devotional Song"})]}),L&&s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i&&s.jsx("button",{onClick:()=>i(L.id),className:"p-3 rounded-full hover:bg-white/10 transition-colors",children:s.jsx(jr,{className:`w-6 h-6 transition-all ${l.has(L.id)?"fill-red-500 text-red-500":"text-white/60"}`})}),o&&s.jsx("button",{onClick:()=>o(L),className:"p-3 rounded-full hover:bg-white/10 transition-colors",children:s.jsx(Ba,{className:"w-6 h-6 text-white/60"})})]}),s.jsxs("div",{className:"w-full max-w-md mb-2",children:[s.jsxs("div",{className:"w-full h-1.5 bg-white/20 rounded-full relative",children:[s.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${xe}%`}}),s.jsx("input",{type:"range",min:"0",max:C||100,value:k,onChange:X=>se(Number(X.target.value)),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),s.jsxs("div",{className:"flex justify-between text-xs text-white/60 mt-1",children:[s.jsx("span",{children:wp(k)}),s.jsx("span",{children:wp(C)})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 sm:gap-6 mb-6 w-full max-w-md",children:[s.jsx("button",{onClick:J,className:`p-3 rounded-full hover:bg-white/10 transition-colors ${b?"text-[#0d5e38]":"text-white/60"}`,title:"Shuffle",children:s.jsx(NG,{className:"w-5 h-5"})}),s.jsx("button",{onClick:Q,className:"p-3 rounded-full hover:bg-white/10 transition-colors",title:"Previous",children:s.jsx(SG,{className:"w-6 h-6",fill:"white"})}),s.jsx("button",{onClick:M,disabled:!P,className:"w-16 h-16 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform disabled:opacity-50",title:f?"Pause":"Play",children:f?s.jsx(AN,{className:"w-7 h-7",fill:"currentColor"}):s.jsx(wn,{className:"w-7 h-7 ml-1",fill:"currentColor"})}),s.jsx("button",{onClick:V,className:"p-3 rounded-full hover:bg-white/10 transition-colors",title:"Next",children:s.jsx(EG,{className:"w-6 h-6",fill:"white"})}),s.jsxs("button",{onClick:z,className:`p-3 rounded-full hover:bg-white/10 transition-colors relative ${g!=="none"?"text-[#0d5e38]":"text-white/60"}`,title:`Repeat: ${g}`,children:[s.jsx(fG,{className:"w-5 h-5"}),g==="one"&&s.jsx("span",{className:"absolute top-1 right-1 text-[10px] font-bold",children:"1"})]})]}),s.jsxs("button",{onClick:()=>_(!x),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:[s.jsx(bh,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-sm",style:{fontFamily:"var(--font-english)"},children:[x?"Hide":"Show"," Playlist (",e.length,")"]})]}),x&&s.jsx("div",{className:"w-full max-w-2xl mt-6",children:s.jsx("div",{className:"space-y-2",children:e.map((X,re)=>s.jsxs("button",{onClick:()=>le(re),className:`w-full flex items-center gap-3 p-3 rounded-lg transition-all text-left ${re===u?"bg-white/20":"hover:bg-white/10"}`,children:[s.jsx("span",{className:"text-sm font-semibold min-w-[24px] text-white/60",children:re+1}),s.jsx("img",{src:X.thumbnail||G0(X.embedUrl),alt:X.title,className:"w-12 h-12 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm truncate",style:{fontFamily:"var(--font-english)"},children:X.title}),s.jsx("p",{className:"text-xs text-white/60 truncate",children:X.description||"Devotional Song"})]}),re===u&&f&&s.jsxs("div",{className:"w-4 h-4 flex items-center gap-0.5",children:[s.jsx("span",{className:"w-0.5 h-3 bg-[#0d5e38] animate-pulse"}),s.jsx("span",{className:"w-0.5 h-4 bg-[#0d5e38] animate-pulse delay-75"}),s.jsx("span",{className:"w-0.5 h-2 bg-[#0d5e38] animate-pulse delay-150"})]})]},X.id))})})]})})]}),!N&&s.jsxs("div",{className:"fixed bottom-[88px] left-0 right-0 bg-black text-white shadow-2xl z-50 border-t border-white/10",children:[s.jsx("div",{className:"w-full h-1 bg-white/20 relative",children:s.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${xe}%`}})}),s.jsx("div",{className:"px-3 py-2.5 sm:px-4 sm:py-3 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>E(!0),children:s.jsxs("div",{className:"flex items-center gap-3 max-w-6xl mx-auto",children:[s.jsx(zc,{src:L?.thumbnail||G0(L?.embedUrl||""),alt:L?.title||"Song",className:"w-12 h-12 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm truncate",style:{fontFamily:"var(--font-english)"},children:L?.title||"Loading..."}),s.jsxs("p",{className:"text-xs text-white/60 truncate",children:[wp(k)," / ",wp(C)]})]}),s.jsx("button",{onClick:X=>{X.stopPropagation(),M()},disabled:!P,className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform disabled:opacity-50 flex-shrink-0",title:f?"Pause":"Play",children:f?s.jsx(AN,{className:"w-5 h-5",fill:"currentColor"}):s.jsx(wn,{className:"w-5 h-5 ml-0.5",fill:"currentColor"})})]})})]})]})}function Vp(e){const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s]+)/,/^([a-zA-Z0-9_-]{11})$/];for(const r of t){const n=e.match(r);if(n)return n[1]}return e}function cZ(e){return`https://img.youtube.com/vi/${Vp(e)}/mqdefault.jpg`}function uZ(){const[e,t]=w.useState("songs"),[r,n]=w.useState(new Set),[a,i]=w.useState(null),[o,l]=w.useState([]),[u,h]=w.useState([]),[f,p]=w.useState(!0),[g,v]=w.useState(!1),[b,y]=w.useState(null);w.useEffect(()=>{x();const A=localStorage.getItem("media_favorites");A&&n(new Set(JSON.parse(A)))},[]);const x=async()=>{p(!0);try{console.log("[SongsScreen] Loading YouTube media from admin backend...");const A=await er.getYouTubeMedia({page:1,limit:100});console.log(`[SongsScreen]  Loaded ${A.data.length} YouTube items`);const P=A.data.filter(I=>{const D=I.category?.toLowerCase()||"";return D==="songs"||D==="song"}),O=A.data.filter(I=>{const D=I.category?.toLowerCase()||"";return D==="videos"||D==="video"});console.log(`[SongsScreen]  Filtered: ${P.length} songs, ${O.length} videos`),l(P),h(O),A.data.length===0?console.log(" No YouTube media found. Admin should upload content via Admin Panel > YouTube Upload"):P.length===0&&O.length===0&&console.warn(` Found ${A.data.length} YouTube items but none are categorized as 'songs' or 'videos'.`,"Categories found:",[...new Set(A.data.map(I=>I.category))])}catch(A){console.error(" Error loading media:",A),l([]),h([])}finally{p(!1)}},_=async A=>{const P=r.has(A);try{n(O=>{const I=new Set(O);return P?I.delete(A):I.add(A),localStorage.setItem("media_favorites",JSON.stringify(Array.from(I))),I}),P||(await er.likeMedia(A),console.log("[SongsScreen]  Like tracked to backend analytics"))}catch(O){console.error("Error toggling favorite:",O),n(I=>{const D=new Set(I);return P?D.add(A):D.delete(A),localStorage.setItem("media_favorites",JSON.stringify(Array.from(D))),D})}},N=A=>{i(A),o[A]?.id&&localStorage.setItem("last_played_media_id",o[A].id),console.log("[SongsScreen]  Playing song:",o[A]?.title)},E=async A=>{const O=`https://www.youtube.com/watch?v=${Vp(A.embedUrl)}`;try{if(await er.trackShare(A.id),console.log("[SongsScreen]  Share tracked to backend analytics"),navigator.share)await navigator.share({title:A.title,url:O});else{const I=document.createElement("textarea");I.value=O,I.style.position="fixed",I.style.left="-999999px",document.body.appendChild(I),I.select();try{document.execCommand("copy"),ee.success("Link copied to clipboard!")}catch{console.error("Failed to copy link")}finally{document.body.removeChild(I)}}}catch(I){console.error("Share error:",I)}},C=A=>{y({id:A.id,title:A.title}),v(!0)},S=A=>{const P=Vp(A);window.open(`https://www.youtube.com/watch?v=${P}`,"_blank")};if(f)return s.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-140px)]",children:[s.jsx("div",{className:"flex justify-center pt-8 pb-4",children:s.jsx(ia,{size:50})}),s.jsx("p",{className:"text-gray-500 text-center text-sm",style:{fontFamily:"var(--font-english)"},children:"Loading media..."})]});const k=e==="songs"?o:u;return s.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-140px)] bg-[#F2FFF6]",children:[s.jsx(iS,{title:"Songs & Videos"}),s.jsxs("div",{className:"flex gap-0 px-4 border-b border-white/10",style:{background:"#0d5e38"},children:[s.jsxs("button",{onClick:()=>t("songs"),className:`flex-1 text-center py-4 transition-all relative ${e==="songs"?"text-white":"text-white/60"}`,style:{fontFamily:"var(--font-english)",fontWeight:e==="songs"?600:400},children:["Songs",e==="songs"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]}),s.jsxs("button",{onClick:()=>t("videos"),className:`flex-1 text-center py-4 transition-all relative ${e==="videos"?"text-white":"text-white/60"}`,style:{fontFamily:"var(--font-english)",fontWeight:e==="videos"?600:400},children:["Videos",e==="videos"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]})]}),s.jsx("div",{className:"flex-1 px-4 py-3",style:{paddingBottom:a!==null?"140px":"16px"},children:k.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx(Os,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsxs("h3",{className:"text-gray-600 mb-2",style:{fontFamily:"var(--font-english)",fontWeight:600},children:["No ",e," yet"]}),s.jsxs("p",{className:"text-gray-400 text-sm text-center px-4",style:{fontFamily:"var(--font-english)"},children:["Ask the admin to upload some YouTube ",e,"!"]})]}):e==="songs"?s.jsx("div",{className:"space-y-2",children:k.map((A,P)=>s.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-3 hover:bg-gray-50 transition-colors active:scale-[0.98]",children:[s.jsxs("div",{className:"relative flex-shrink-0 cursor-pointer group",onClick:()=>N(P),children:[s.jsx(zc,{src:A.thumbnail||cZ(A.embedUrl),alt:A.title,className:"w-14 h-14 rounded-lg object-cover"}),a===P?s.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-lg flex items-center justify-center",children:s.jsx(zQ,{isPlaying:!0,size:"sm"})}):s.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center",children:s.jsx(wn,{className:"w-4 h-4 text-[#0d5e38] fill-current ml-0.5"})})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"truncate",style:{fontFamily:"var(--font-english)",fontSize:"1rem",fontWeight:600,color:a===P?"#0d5e38":"#111827"},children:A.title}),s.jsxs("p",{className:"text-gray-500 text-sm mt-0.5 truncate",style:{fontFamily:"var(--font-english)"},children:[A.description||"Devotional Song","  ",A.stats.views||0," views"]})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:O=>{O.stopPropagation(),_(A.id)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(jr,{className:`w-5 h-5 transition-all ${r.has(A.id)?"fill-red-500 text-red-500":"text-gray-400"}`})}),s.jsxs(cm,{children:[s.jsx(um,{asChild:!0,children:s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(tm,{className:"w-5 h-5 text-gray-500"})})}),s.jsxs(dm,{align:"end",className:"w-48",children:[s.jsxs(In,{onClick:()=>N(P),children:[s.jsx(wn,{className:"w-4 h-4 mr-2"}),"Play Now"]}),s.jsxs(In,{onClick:()=>_(A.id),children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),r.has(A.id)?"Remove from Favorites":"Add to Favorites"]}),s.jsxs(In,{onClick:()=>C(A),children:[s.jsx(HH,{className:"w-4 h-4 mr-2"}),"Add to Playlist"]}),s.jsxs(In,{onClick:()=>E(A),children:[s.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Share"]}),s.jsxs(In,{onClick:()=>S(A.embedUrl),children:[s.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Open in YouTube"]})]})]})]})]},A.id))}):s.jsx("div",{className:"space-y-3",children:k.map(A=>{const P=Vp(A.embedUrl);return s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"relative pb-[56.25%] bg-black",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${P}?autoplay=0&controls=1&modestbranding=1&rel=0`,className:"absolute inset-0 w-full h-full",allow:"accelerometer; encrypted-media",allowFullScreen:!0})}),s.jsxs("div",{className:"p-3 flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-gray-900 line-clamp-2",style:{fontFamily:"var(--font-english)",fontSize:"1rem",fontWeight:600},children:A.title}),A.description&&s.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-1",style:{fontFamily:"var(--font-english)"},children:A.description})]}),s.jsxs(cm,{children:[s.jsx(um,{asChild:!0,children:s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:s.jsx(tm,{className:"w-5 h-5 text-gray-500"})})}),s.jsxs(dm,{align:"end",className:"w-48",children:[s.jsxs(In,{onClick:()=>E(A),children:[s.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Share"]}),s.jsxs(In,{onClick:()=>S(A.embedUrl),children:[s.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Open in YouTube"]})]})]})]})]},A.id)})})}),a!==null&&o.length>0&&s.jsx(lZ,{songs:o,currentIndex:a,autoPlay:!1,onClose:()=>i(null),onSongChange:A=>i(A),onToggleFavorite:_,onShare:E,favorites:r}),s.jsx(oZ,{open:g,onOpenChange:v,songId:b?.id,songTitle:b?.title})]})}const dZ="reel_view_likes";function hZ({items:e,initialIndex:t=0,onClose:r,className:n,actionsClassName:a,storageKey:i=dZ,onActiveItemChange:o,onItemView:l,renderCard:u,renderActions:h,onLikeToggle:f}){const p=w.useRef(null),[g,v]=w.useState(()=>e.length===0?0:Math.min(t,e.length-1)),[b,y]=w.useState(()=>{if(typeof window>"u")return new Set;try{const S=window.localStorage.getItem(i);if(!S)return new Set;const k=JSON.parse(S);return new Set(k)}catch(S){return console.warn(`[ReelView] Failed to parse liked ids for key ${i}`,S),new Set}});w.useEffect(()=>{if(e.length===0){v(0);return}v(S=>{const k=Math.min(S,e.length-1);return k<0?0:k})},[e.length]),w.useEffect(()=>{if(!p.current||e.length===0)return;const S=window.innerHeight;p.current.scrollTop=g*S},[e.length,g]),w.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(i,JSON.stringify(Array.from(b)))}catch(S){console.warn(`[ReelView] Failed to persist liked ids for key ${i}`,S)}},[b,i]),w.useEffect(()=>{if(e.length===0)return;const S=e[g];S&&(l?.(S,g),o?.(S,g))},[g,e,o,l]);const x=w.useCallback(async S=>{const A=!b.has(S.id);y(P=>{const O=new Set(P);return A?O.add(S.id):O.delete(S.id),O});try{await f?.(S,A)===!1&&y(O=>{const I=new Set(O);return A?I.delete(S.id):I.add(S.id),I})}catch(P){console.error("[ReelView] onLikeToggle failed",P),y(O=>{const I=new Set(O);return A?I.delete(S.id):I.add(S.id),I})}},[b,f]),_=S=>{const A=S.currentTarget.scrollTop,P=window.innerHeight,O=Math.round(A/P);O!==g&&O>=0&&O<e.length&&v(O)},N=w.useMemo(()=>a||"flex flex-col-reverse gap-4",[a]);return s.jsxs("div",{className:`relative h-screen overflow-hidden bg-black ${n??""}`,children:[r&&s.jsxs("button",{onClick:r,className:"fixed top-4 left-4 z-50 p-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 hover:bg-white/20 transition-all","aria-label":"Close",children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),s.jsx("div",{ref:p,onScroll:_,className:"h-screen overflow-y-scroll snap-y snap-mandatory hide-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map((S,k)=>s.jsx("div",{className:"h-screen w-full snap-start snap-always relative",children:u({item:S,index:k,isActive:k===g})},S.id))}),h&&e[g]&&s.jsx("div",{className:`fixed right-4 z-50 ${N}`,style:{top:"calc(env(safe-area-inset-top, 0px) + 52px)",bottom:"calc(env(safe-area-inset-bottom, 0px) + 96px)"},children:h({item:e[g],index:g,isActive:!0,isLiked:b.has(e[g].id),toggleLike:()=>x(e[g])})}),s.jsx("style",{dangerouslySetInnerHTML:{__html:`
            .hide-scrollbar::-webkit-scrollbar { display: none; }
          `}})]})}const yr={track:async(e,t,r,n={})=>{try{console.log(`[Analytics] Tracking ${r} for ${e}:${t}`);const a={module_name:e,item_id:t,event_type:r,metadata:n};console.log("[Analytics] Request body:",a);const i=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(a)});if(console.log(`[Analytics] Response status: ${i.status} ${i.statusText}`),!i.ok){const l=await i.text();throw console.error(`[Analytics] Tracking failed with status ${i.status}:`,l),new Error(`Tracking failed: ${i.statusText} - ${l}`)}const o=await i.json();return console.log("[Analytics] Response data:",o),{success:o.success,tracked:o.tracked,already_tracked:o.already_tracked,unique_count:o.unique_count}}catch(a){return console.error("[Analytics] Track error:",a),console.error("[Analytics] Error details:",{message:a.message,stack:a.stack,moduleName:e,itemId:t,eventType:r,metadata:n}),{success:!1,tracked:!1,already_tracked:!1,unique_count:0}}},untrack:async(e,t,r)=>{try{console.log(`[Analytics] Untracking ${r} for ${e}:${t}`);const n={module_name:e,item_id:t,event_type:r};console.log("[Analytics] Untrack request body:",n);const a=await Je("/api/analytics/untrack",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify(n)});if(console.log(`[Analytics] Untrack response status: ${a.status} ${a.statusText}`),!a.ok){const o=await a.text();throw console.error(`[Analytics] Untracking failed with status ${a.status}:`,o),new Error(`Untracking failed: ${a.statusText} - ${o}`)}const i=await a.json();return console.log("[Analytics] Untrack response data:",i),{success:i.success,tracked:!1,already_tracked:!1,unique_count:i.unique_count}}catch(n){return console.error("[Analytics] Untrack error:",n),console.error("[Analytics] Untrack error details:",{message:n.message,stack:n.stack,moduleName:e,itemId:t,eventType:r}),{success:!1,tracked:!1,already_tracked:!1,unique_count:0}}},getStats:async(e,t)=>{try{const r=await Je(`/api/analytics/stats/${e}/${t}`,{headers:{Authorization:`Bearer ${he}`}});if(!r.ok)throw new Error(`Fetch stats failed: ${r.statusText}`);return(await r.json()).stats||{}}catch(r){return console.error("[Analytics] Get stats error:",r),{}}}},jp=Object.freeze(Object.defineProperty({__proto__:null,analyticsTracker:yr},Symbol.toStringTag,{value:"Module"}));function fZ(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),a=w.useRef(new Set),i=w.useCallback(async()=>{n(!0);try{console.log("[SparkScreen] Loading sparkle articles...");const f=await er.getSparkleArticles({page:1,limit:50});t(f.data||[]),console.log(`[SparkScreen] Loaded ${f.data.length} sparkle items`)}catch(f){console.error("[SparkScreen] Error loading sparkles:",f),ee.error("Failed to load sparkles. Please try again.")}finally{n(!1)}},[]);w.useEffect(()=>{i()},[i]);const o=w.useCallback(async f=>{if(!a.current.has(f.id)){a.current.add(f.id);try{console.log(`[SparkScreen] Tracking view for sparkle: ${f.id}`);const p=await yr.track("sparkle",f.id,"view");console.log("[SparkScreen] View tracking result:",p)}catch(p){console.error("[SparkScreen] Failed to track view",p)}}},[]),l=w.useCallback(async(f,p)=>{try{if(console.log(`[SparkScreen] ${p?"Liking":"Unliking"} sparkle: ${f.id}`),p){const g=await yr.track("sparkle",f.id,"like");console.log("[SparkScreen] Like tracking result:",g),ee.success("Added to favorites")}else{const g=await yr.untrack("sparkle",f.id,"like");console.log("[SparkScreen] Unlike tracking result:",g),ee.success("Removed from favorites")}return!0}catch(g){return console.error("[SparkScreen] Failed to toggle like",g),ee.error("Failed to update favorite. Please try again."),!1}},[]),u=w.useCallback(async f=>{try{const p={title:f.title,text:f.snippet,url:f.url};if(typeof navigator<"u"&&navigator.share&&f.url&&f.url!=="#"){await navigator.share(p),await yr.track("sparkle",f.id,"share"),ee.success("Shared successfully!");return}const g=`${f.title}

${f.url??""}`.trim(),v=document.createElement("textarea");v.value=g,v.style.position="fixed",v.style.left="-999999px",document.body.appendChild(v),v.select();try{document.execCommand("copy"),await yr.track("sparkle",f.id,"share"),ee.success("Link copied to clipboard!")}catch(b){console.error("[SparkScreen] Failed to copy link",b),ee.error("Failed to copy link")}finally{document.body.removeChild(v)}}catch(p){if(p.name==="AbortError")return;console.error("[SparkScreen] Error sharing sparkle",p),ee.error("Failed to share")}},[]),h=w.useCallback(async f=>{try{const p=f.videoUrl||f.image;if(!p){ee.error("No media available to download");return}await yr.track("sparkle",f.id,"download");const g=document.createElement("a");g.href=p,g.download=f.title||"sparkle",g.target="_blank",document.body.appendChild(g),g.click(),document.body.removeChild(g)}catch(p){console.error("[SparkScreen] Failed to download sparkle",p),ee.error("Failed to download")}},[]);return r?s.jsxs("div",{className:"h-screen bg-gradient-to-b from-[#0d5e38] to-black",children:[s.jsx("div",{className:"flex justify-center pt-12 pb-4",children:s.jsx(ia,{size:50})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-white text-sm",children:"Loading divine updates..."})})]}):e.length===0?s.jsx(pZ,{onRefresh:i}):s.jsx(hZ,{items:e,storageKey:"sparkle_reel_likes",onItemView:o,onLikeToggle:l,actionsClassName:"fixed right-4 bottom-[calc(env(safe-area-inset-bottom,0px)+120px)] flex flex-col-reverse gap-4",renderCard:({item:f,isActive:p})=>s.jsx(mZ,{article:f,isActive:p}),renderActions:({item:f,isLiked:p,toggleLike:g})=>s.jsx(gZ,{article:f,isLiked:p,onToggleLike:g,onShare:u,onDownload:h})})}function pZ({onRefresh:e}){return s.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-b from-[#0d5e38] to-black px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ic,{className:"w-16 h-16 text-white mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:"No sparkles yet"}),s.jsx("p",{className:"text-white/80 mb-4",children:"Check back later for divine updates"}),s.jsxs(Te,{onClick:e,className:"bg-white text-[#0d5e38] hover:bg-white/90",children:[s.jsx(mt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})})}function mZ({article:e,isActive:t}){const r=e.title?.trim()??"",n=(e.content||e.snippet||"").trim();return n.length>0,console.log("[SparkleCard] Article data:",{id:e.id,title:r,content:n.substring(0,50)+"...",type:e.type,hasVideo:!!e.videoUrl}),r.length>0&&console.log(`[SparkleCard] FILENAME HIDDEN: "${r}" - Text overlays disabled`),s.jsx("div",{className:"relative h-full w-full bg-black",children:s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0",children:e.type==="video"&&e.videoUrl?s.jsx(xZ,{src:e.videoUrl,poster:e.image||void 0,isActive:t}):s.jsx(zc,{src:e.image,alt:e.title,className:"h-full w-full object-cover"})}),s.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-black/45 via-transparent via-[65%] to-black/85"})]})})}function gZ({article:e,isLiked:t,onToggleLike:r,onShare:n,onDownload:a}){return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{r()},className:"group","aria-label":t?"Unlike sparkle":"Like sparkle",children:s.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full border border-white/20 bg-white/10 backdrop-blur-sm transition-all group-hover:bg-white/20",children:s.jsx(jr,{className:`h-6 w-6 transition-all ${t?"fill-red-500 text-red-500":"text-white group-hover:scale-110"}`})})}),s.jsx("button",{onClick:()=>{n(e)},className:"group","aria-label":"Share sparkle",children:s.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full border border-white/20 bg-white/10 backdrop-blur-sm transition-all group-hover:bg-white/20",children:s.jsx(p3,{className:"h-6 w-6 text-[#25D366] transition-transform group-hover:scale-110"})})}),s.jsx("button",{onClick:()=>{a(e)},className:"group","aria-label":"Download sparkle",disabled:!(e.videoUrl||e.image),children:s.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full border border-white/20 bg-white/10 backdrop-blur-sm transition-all group-hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-40",children:s.jsx(Ua,{className:"h-6 w-6 text-white transition-transform group-hover:scale-110"})})})]})}function xZ({src:e,poster:t,isActive:r}){const n=w.useRef(null),[a,i]=w.useState(!1),[o,l]=w.useState(!1),[u,h]=w.useState(0),[f,p]=w.useState(0),[g,v]=w.useState(!1),b=w.useRef(null);w.useEffect(()=>{const P=n.current;P&&(P.muted=o)},[o]),w.useEffect(()=>{const P=n.current;if(P)if(r){const O=P.play();O&&O.then(()=>i(!0)).catch(I=>{console.warn("[SparkScreen] Autoplay blocked",I),i(!1)})}else P.pause(),i(!1),g||(P.currentTime=0,h(0))},[r,g]);const y=()=>{n.current&&!g&&h(n.current.currentTime)},x=()=>{n.current&&p(n.current.duration)},_=()=>{const P=n.current;if(P){if(a)P.pause();else{o&&(P.muted=!1,P.volume=1,l(!1));const O=P.play();O&&O.catch(I=>{console.warn("[SparkScreen] Playback failed",I),i(!1)})}i(!a)}},N=()=>{const P=n.current;if(!P){l(I=>!I);return}const O=!o;if(P.muted=O,!O){P.volume=1;const I=P.play();I&&I.catch(D=>{console.warn("[SparkScreen] Unmute playback blocked",D)})}l(O)},E=P=>{const O=n.current,I=b.current;if(!O||!I)return;const D=I.getBoundingClientRect(),F=(P.clientX-D.left)/D.width*f;O.currentTime=F,h(F)},C=P=>{v(!0),E(P)},S=P=>{if(!g||!b.current||!n.current)return;const O=b.current.getBoundingClientRect(),D=Math.max(0,Math.min(1,(P.clientX-O.left)/O.width))*f;n.current.currentTime=D,h(D)},k=()=>{v(!1)};w.useEffect(()=>{if(g)return window.addEventListener("mousemove",S),window.addEventListener("mouseup",k),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",k)}},[g]);const A=f>0?u/f*100:0;return s.jsxs("div",{className:"relative h-full w-full",children:[s.jsx("video",{ref:n,src:e,poster:t,className:"h-full w-full object-cover",loop:!0,playsInline:!0,muted:o,onTimeUpdate:y,onLoadedMetadata:x,onClick:_}),s.jsx("button",{onClick:N,className:"absolute right-4 top-[calc(env(safe-area-inset-top,0px)+12px)] z-20 flex h-10 w-10 items-center justify-center rounded-full bg-black/55 text-white backdrop-blur-md transition-transform hover:scale-110","aria-label":o?"Unmute":"Mute",children:o?s.jsx(d3,{className:"h-5 w-5"}):s.jsx(U_,{className:"h-5 w-5"})}),s.jsx("div",{ref:b,className:"absolute bottom-[calc(env(safe-area-inset-bottom,0px)+6px)] left-4 right-4 z-20 h-[2px] cursor-pointer bg-white/20 rounded-full",onClick:E,onMouseDown:C,children:s.jsx("div",{className:"relative h-full rounded-full bg-[#ff0000] transition-all duration-0",style:{width:`${A}%`},children:s.jsx("span",{className:"absolute -top-[3px] right-0 h-[6px] w-[6px] translate-x-1/2 rounded-full bg-white shadow-md"})})})]})}function yZ({onNavigate:e,onLogout:t}){const{user:r,signOut:n}=Vo(),[a,i]=w.useState({totalLikes:0,totalDownloads:0,totalViews:0}),[o,l]=w.useState(!0);w.useEffect(()=>{u()},[r]);const u=async()=>{if(!r?.id){l(!1);return}try{const b=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/user/stats`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}});if(b.ok){const y=await b.json();i(y.stats||{totalLikes:0,totalDownloads:0,totalViews:0})}}catch(b){console.error("Failed to fetch user stats:",b)}finally{l(!1)}},h=async(b,y)=>{try{await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/tracking/track`,{method:"POST",headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"},body:JSON.stringify({module:"app",action:b,content_id:y||null,user_id:r?.id||null,session_id:sessionStorage.getItem("session_id")||`session_${Date.now()}`,metadata:{screen:"profile",timestamp:new Date().toISOString(),device_type:/mobile|android|iphone|ipad/i.test(navigator.userAgent)?"mobile":"desktop"}})})}catch(x){console.error("Analytics tracking error:",x)}},f=async(b,y)=>{await h("profile_menu_click",y),e(b)},p=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await h("logout","profile_screen"),await n(),ee.success("See you soon! "),t()}catch{ee.error("Failed to sign out")}},g=()=>{if(r?.email){const b=r.email.split("@")[0];return b.charAt(0).toUpperCase()+b.slice(1)}return r?.phone?`User ${r.phone.slice(-4)}`:"Bhuvanesh"},v=()=>r?.email||r?.phone||"bhuvanux@gmail.com";return s.jsxs("div",{className:"bg-[#F2FFF6] min-h-screen pb-20",style:{fontFamily:"var(--font-english)"},children:[s.jsx(iS,{title:"Profile"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-56 bg-cover bg-center relative",style:{backgroundImage:"url('https://images.unsplash.com/photo-1590659948963-caafdecdfe64?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxoaW5kdSUyMHRlbXBsZSUyMGRlaXR5fGVufDF8fHx8MTc2MjkyNTA2N3ww&ixlib=rb-4.1.0&q=80&w=1080')"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-transparent"})}),s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -bottom-20",children:s.jsx("div",{className:"w-40 h-40 rounded-full bg-white p-1.5 shadow-2xl",children:s.jsx("div",{className:"w-full h-full rounded-full bg-cover bg-center border-4 border-white",style:{backgroundImage:"url('https://images.unsplash.com/photo-1550853607-9b3b692e50bd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsb3JkJTIwbXVydWdhbiUyMHN0YXR1ZXxlbnwxfHx8fDE3NjI5NTYyMTd8MA&ixlib=rb-4.1.0&q=80&w=1080')"}})})})]}),s.jsxs("div",{className:"pt-24 pb-4 text-center px-4",children:[s.jsx("h2",{className:"text-2xl mb-2",style:{fontFamily:"var(--font-english)",fontWeight:700},children:g()}),s.jsx("p",{className:"text-[15px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:v()})]}),s.jsxs("div",{className:"px-4 space-y-3 mt-2",children:[s.jsxs("button",{onClick:()=>f("saved","saved_items"),className:"w-full bg-white rounded-2xl p-5 flex items-center justify-between hover:shadow-lg transition-all active:scale-[0.98] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center flex-shrink-0",children:s.jsx(jr,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[16px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Saved Items"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Wallpapers, songs & videos"})]})]}),s.jsx(Oa,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("button",{onClick:()=>f("notifications","notifications"),className:"w-full bg-white rounded-2xl p-5 flex items-center justify-between hover:shadow-lg transition-all active:scale-[0.98] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-50 flex items-center justify-center flex-shrink-0",children:s.jsx(C_,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[16px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Notifications"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Updates and new songs"})]})]}),s.jsx(Oa,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("button",{onClick:()=>f("account","account_settings"),className:"w-full bg-white rounded-[8px] p-5 flex items-center justify-between hover:shadow-lg transition-all active:scale-[0.98] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center flex-shrink-0",children:s.jsx(Go,{className:"w-6 h-6 text-purple-500"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[16px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Account Settings"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Manage your account"})]})]}),s.jsx(Oa,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("button",{onClick:()=>f("contact","contact_us"),className:"w-full bg-white rounded-2xl p-5 flex items-center justify-between hover:shadow-lg transition-all active:scale-[0.98] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center flex-shrink-0",children:s.jsx(M_,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[16px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Contact us"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"247 customer support"})]})]}),s.jsx(Oa,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("button",{onClick:()=>f("privacy","privacy_policy"),className:"w-full bg-white rounded-2xl p-5 flex items-center justify-between hover:shadow-lg transition-all active:scale-[0.98] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Sg,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[16px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Privacy Policy"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"How we protect your data"})]})]}),s.jsx(Oa,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("button",{onClick:p,className:"w-full bg-white rounded-2xl p-5 flex items-center justify-between hover:shadow-lg transition-all active:scale-[0.98] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center flex-shrink-0",children:s.jsx(JH,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-[16px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Log out"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"See you soon!"})]})]}),s.jsx(Oa,{className:"w-5 h-5 text-gray-400"})]})]}),s.jsxs("div",{className:"text-center mt-10 px-4 pb-4",children:[s.jsx("p",{className:"text-[13px] text-gray-500",style:{fontFamily:"var(--font-english)"},children:"Version 0.0.1"}),s.jsx("p",{className:"text-[12px] text-gray-400 mt-1",style:{fontFamily:"var(--font-english)"},children:"Made with devotion for Lord Murugan"})]})]})}function vZ({onSelectMedia:e}){const[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState(!0),[l,u]=w.useState(new Set),[,h]=w.useState(new Set),[f,p]=w.useState("wallpapers"),{user:g}=Vo();w.useEffect(()=>{v()},[g]);const v=async()=>{try{const S=localStorage.getItem("user_favorites"),k=localStorage.getItem("media_favorites");if(S){const A=JSON.parse(S);if(u(new Set(A)),A.length>0){console.log("[SavedScreen] Loading liked wallpapers:",A);const O=(await er.getWallpapers({limit:100})).data.filter(I=>A.includes(I.id));console.log("[SavedScreen] Found",O.length,"liked wallpapers"),r(O)}}if(k){const A=JSON.parse(k);if(h(new Set(A)),A.length>0){console.log("[SavedScreen] Loading liked songs/videos:",A);const O=(await er.getYouTubeMedia({page:1,limit:100})).data.filter(I=>A.includes(I.id));console.log("[SavedScreen] Found",O.length,"liked songs/videos"),a(O)}}}catch(S){console.error("[SavedScreen] Error loading saved media:",S)}finally{o(!1)}},b=async S=>{try{const k=localStorage.getItem("user_favorites")||"[]";let A=JSON.parse(k);A=A.filter(P=>P!==S),localStorage.setItem("user_favorites",JSON.stringify(A)),r(P=>P.filter(O=>O.id!==S)),u(P=>{const O=new Set(P);return O.delete(S),O})}catch(k){console.error("[SavedScreen] Error removing favorite:",k)}},y=async S=>{try{const k=localStorage.getItem("media_favorites")||"[]";let A=JSON.parse(k);A=A.filter(P=>P!==S),localStorage.setItem("media_favorites",JSON.stringify(A)),a(P=>P.filter(O=>O.id!==S)),h(P=>{const O=new Set(P);return O.delete(S),O}),ee.success("Removed from favorites")}catch(k){console.error("[SavedScreen] Error removing song favorite:",k)}},x=S=>{const k=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s]+)/,/^([a-zA-Z0-9_-]{11})$/];for(const A of k){const P=S.match(A);if(P)return P[1]}return S},_=S=>`https://img.youtube.com/vi/${x(S)}/mqdefault.jpg`,N=async S=>{const A=`https://www.youtube.com/watch?v=${x(S.embedUrl)}`;try{if(navigator.share)await navigator.share({title:S.title,url:A});else{const P=document.createElement("textarea");P.value=A,P.style.position="fixed",P.style.left="-999999px",document.body.appendChild(P),P.select();try{document.execCommand("copy"),ee.success("Link copied to clipboard!")}catch{console.error("Failed to copy link")}finally{document.body.removeChild(P)}}}catch(P){console.error("Share error:",P)}},E=S=>{const k=x(S);window.open(`https://www.youtube.com/watch?v=${k}`,"_blank")};return i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center pt-6 pb-4",children:s.jsx(ia,{size:50})}),s.jsx("div",{className:"grid grid-cols-2 gap-1 px-1 pb-4",children:Array.from({length:6}).map((S,k)=>s.jsx(f3,{className:"aspect-[3/4]"},k))})]}):t.length===0&&n.length===0&&!i?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(jr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("p",{className:"text-gray-600 text-center mb-2",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"No saved items yet"}),s.jsx("p",{className:"text-gray-500 text-sm text-center",style:{fontFamily:"var(--font-english)"},children:"Tap the heart icon on any wallpaper, song, or video to save it here"})]}):s.jsxs("div",{className:"pb-20",children:[s.jsxs("div",{className:"flex gap-0 px-[16px] border-b border-gray-200 sticky top-0 bg-[#F2FFF6] z-10 pt-[10px] pr-[16px] pb-[0px] pl-[16px] py-[10px]",children:[s.jsxs("button",{onClick:()=>p("wallpapers"),className:`flex-1 text-center py-3 transition-all relative ${f==="wallpapers"?"text-[#0d5e38]":"text-gray-500"}`,style:{fontFamily:"var(--font-english)",fontWeight:f==="wallpapers"?600:400},children:["Wallpapers (",t.length,")",f==="wallpapers"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#0d5e38]"})]}),s.jsxs("button",{onClick:()=>p("songs"),className:`flex-1 text-center py-3 transition-all relative ${f==="songs"?"text-[#0d5e38]":"text-gray-500"}`,style:{fontFamily:"var(--font-english)",fontWeight:f==="songs"?600:400},children:["Songs & Videos (",n.length,")",f==="songs"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#0d5e38]"})]})]}),f==="wallpapers"&&s.jsx(s.Fragment,{children:t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[s.jsx(jr,{className:"w-12 h-12 text-gray-300 mb-3"}),s.jsx("p",{className:"text-gray-500 text-center",style:{fontFamily:"var(--font-english)"},children:"No liked wallpapers yet"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-1 px-1 pt-1",children:t.map(S=>s.jsx(h3,{media:S,onSelect:k=>e(k,t),isFavorite:l.has(S.id),onToggleFavorite:b},S.id))})}),f==="songs"&&s.jsx(s.Fragment,{children:n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[s.jsx(Os,{className:"w-12 h-12 text-gray-300 mb-3"}),s.jsx("p",{className:"text-gray-500 text-center",style:{fontFamily:"var(--font-english)"},children:"No liked songs or videos yet"})]}):s.jsx("div",{className:"px-4 pt-3 space-y-2",children:n.map(S=>s.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-3 shadow-sm",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(zc,{src:S.thumbnail||_(S.embedUrl),alt:S.title,className:"w-14 h-14 rounded-lg object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg flex items-center justify-center",children:s.jsx(wn,{className:"w-6 h-6 text-white fill-current"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-gray-900 truncate",style:{fontFamily:"var(--font-english)",fontSize:"0.9375rem",fontWeight:600},children:S.title}),s.jsxs("p",{className:"text-gray-500 text-sm mt-0.5 truncate",style:{fontFamily:"var(--font-english)"},children:[S.category||"Media","  ",S.stats.views||0," views"]})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:k=>{k.stopPropagation(),y(S.id)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(jr,{className:"w-5 h-5 fill-red-500 text-red-500"})}),s.jsxs(cm,{children:[s.jsx(um,{asChild:!0,children:s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(tm,{className:"w-5 h-5 text-gray-500"})})}),s.jsxs(dm,{align:"end",className:"w-48",children:[s.jsxs(In,{onClick:()=>N(S),children:[s.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Share"]}),s.jsxs(In,{onClick:()=>E(S.embedUrl),children:[s.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Open in YouTube"]}),s.jsxs(In,{onClick:()=>y(S.id),className:"text-red-600",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),"Remove from Favorites"]})]})]})]})]},S.id))})})]})}function We({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:tt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function bZ({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:tt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function wZ({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:tt("leading-none",e),...t})}function jZ({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:tt("px-6 [&:last-child]:pb-6",e),...t})}function n6(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ug="Switch",[NZ]=Ds(Ug),[_Z,SZ]=NZ(Ug),s6=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:h,form:f,...p}=e,[g,v]=w.useState(null),b=gt(t,E=>v(E)),y=w.useRef(!1),x=g?f||!!g.closest("form"):!0,[_,N]=Pi({prop:a,defaultProp:i??!1,onChange:h,caller:Ug});return s.jsxs(_Z,{scope:r,checked:_,disabled:l,children:[s.jsx(st.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":l6(_),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:b,onClick:Pe(e.onClick,E=>{N(C=>!C),x&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})}),x&&s.jsx(o6,{control:g,bubbles:!y.current,name:n,value:u,checked:_,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});s6.displayName=Ug;var a6="SwitchThumb",i6=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=SZ(a6,r);return s.jsx(st.span,{"data-state":l6(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});i6.displayName=a6;var kZ="SwitchBubbleInput",o6=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=w.useRef(null),l=gt(o,i),u=n6(r),h=C3(t);return w.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==r&&v){const b=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(b)}},[u,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});o6.displayName=kZ;function l6(e){return e?"checked":"unchecked"}var EZ=s6,AZ=i6;function Ca({className:e,...t}){return s.jsx(EZ,{"data-slot":"switch",className:tt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(AZ,{"data-slot":"switch-thumb",className:tt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function TZ(){const[e,t]=w.useState(!0),[r,n]=w.useState(!0),[a,i]=w.useState(!0),[o,l]=w.useState(!0),[u,h]=w.useState(!0),[f,p]=w.useState([]),[g,v]=w.useState(!0),{user:b}=Vo();w.useEffect(()=>{y()},[b]);const y=async()=>{try{const N=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/user/notifications`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}});if(N.ok){const E=await N.json();p(E.data||[])}}catch(N){console.error("Failed to fetch notifications:",N)}finally{v(!1)}},x=(N,E)=>{ee.success(E?`${N} enabled`:`${N} disabled`)},_=N=>{const E=new Date(N),S=Math.floor((new Date().getTime()-E.getTime())/(1e3*60*60));if(S<1)return"Just now";if(S<24)return`${S}h ago`;const k=Math.floor(S/24);return k<7?`${k}d ago`:E.toLocaleDateString()};return s.jsx("div",{className:"px-4 pb-20 bg-[#F2FFF6] min-h-screen",style:{fontFamily:"var(--font-english)"},children:s.jsxs("div",{className:"py-4",children:[s.jsx("h2",{className:"text-[18px] mb-2",style:{fontFamily:"var(--font-english)",fontWeight:700},children:"Notifications"}),s.jsx("p",{className:"text-[14px] text-gray-600 mb-6",style:{fontFamily:"var(--font-english)"},children:"Recent updates and alerts"}),!g&&f.length>0&&s.jsxs("div",{className:"mb-6 space-y-3",children:[s.jsx("h3",{className:"text-[15px] mb-3",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Recent Activity"}),f.map(N=>s.jsx(We,{className:`border-[#E6F0EA] ${N.read?"bg-white":"bg-green-50/30"}`,children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"text-2xl flex-shrink-0",children:N.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("h4",{className:"text-[15px]",style:{fontFamily:"var(--font-english)",fontWeight:600},children:N.title}),!N.read&&s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0 mt-1.5"})]}),s.jsx("p",{className:"text-[13px] text-gray-600 mb-2",style:{fontFamily:"var(--font-english)"},children:N.message}),s.jsx("p",{className:"text-[12px] text-gray-400",style:{fontFamily:"var(--font-english)"},children:_(N.timestamp)})]})]})})},N.id))]}),s.jsx("h3",{className:"text-[15px] mb-4 mt-6",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Notification Preferences"}),s.jsx(We,{className:"mb-3 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{children:s.jsxs("h3",{className:"text-[15px] mb-4 flex items-center gap-2",style:{fontFamily:"var(--font-english)",fontWeight:600},children:[s.jsx(C_,{className:"w-5 h-5 text-[#0d5e38]"}),"Push Notifications"]})}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:500},children:"Enable Push Notifications"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Receive notifications on your device"})]}),s.jsx(Ca,{checked:e,onCheckedChange:N=>{t(N),x("Push notifications",N)}})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:500},children:"New Songs"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Alert when new devotional songs are added"})]}),s.jsx(Ca,{checked:o,onCheckedChange:N=>{l(N),x("New songs alerts",N)},disabled:!e})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:500},children:"New Wallpapers"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Alert when new wallpapers are uploaded"})]}),s.jsx(Ca,{checked:u,onCheckedChange:N=>{h(N),x("New photos alerts",N)},disabled:!e})]})]})}),s.jsx(We,{className:"mb-3 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{children:s.jsxs("h3",{className:"text-[15px] mb-4 flex items-center gap-2",style:{fontFamily:"var(--font-english)",fontWeight:600},children:[s.jsx(_g,{className:"w-5 h-5 text-[#D97706]"}),"Email Notifications"]})}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:500},children:"Email Updates"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Receive weekly updates via email"})]}),s.jsx(Ca,{checked:r,onCheckedChange:N=>{n(N),x("Email notifications",N)}})]})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{children:s.jsxs("h3",{className:"text-[15px] mb-4 flex items-center gap-2",style:{fontFamily:"var(--font-english)",fontWeight:600},children:[s.jsx(U_,{className:"w-5 h-5 text-[#7C3AED]"}),"Sound & Vibration"]})}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] mb-0.5",style:{fontFamily:"var(--font-english)",fontWeight:500},children:"Notification Sound"}),s.jsx("div",{className:"text-[13px] text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Play sound for notifications"})]}),s.jsx(Ca,{checked:a,onCheckedChange:N=>{i(N),x("Notification sound",N)}})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(L_,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] text-blue-900 mb-1",style:{fontFamily:"var(--font-english)",fontWeight:600},children:"Stay Connected"}),s.jsx("div",{className:"text-[13px] text-blue-700",style:{fontFamily:"var(--font-english)"},children:"Enable notifications to never miss new devotional content and updates about Lord Murugan."})]})]})})]})})}var OZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CZ=OZ.reduce((e,t)=>{const r=T_(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),PZ="Label",c6=w.forwardRef((e,t)=>s.jsx(CZ.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));c6.displayName=PZ;var RZ=c6;function vn({className:e,...t}){return s.jsx(RZ,{"data-slot":"label",className:tt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var IZ=Symbol("radix.slottable");function DZ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=IZ,t}var u6="AlertDialog",[MZ]=Ds(u6,[R$]),Ga=R$(),d6=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ga(t);return s.jsx(Y$,{...n,...r,modal:!0})};d6.displayName=u6;var $Z="AlertDialogTrigger",h6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(X$,{...a,...n,ref:t})});h6.displayName=$Z;var LZ="AlertDialogPortal",f6=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ga(t);return s.jsx(J$,{...n,...r})};f6.displayName=LZ;var FZ="AlertDialogOverlay",p6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(Q$,{...a,...n,ref:t})});p6.displayName=FZ;var ec="AlertDialogContent",[UZ,BZ]=MZ(ec),zZ=DZ("AlertDialogContent"),m6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Ga(r),o=w.useRef(null),l=gt(t,o),u=w.useRef(null);return s.jsx(tZ,{contentName:ec,titleName:g6,docsSlug:"alert-dialog",children:s.jsx(UZ,{scope:r,cancelRef:u,children:s.jsxs(Z$,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Pe(a.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(zZ,{children:n}),s.jsx(qZ,{contentRef:o})]})})})});m6.displayName=ec;var g6="AlertDialogTitle",x6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(e6,{...a,...n,ref:t})});x6.displayName=g6;var y6="AlertDialogDescription",v6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(t6,{...a,...n,ref:t})});v6.displayName=y6;var WZ="AlertDialogAction",b6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(uS,{...a,...n,ref:t})});b6.displayName=WZ;var w6="AlertDialogCancel",j6=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=BZ(w6,r),i=Ga(r),o=gt(t,a);return s.jsx(uS,{...i,...n,ref:o})});j6.displayName=w6;var qZ=({contentRef:e})=>{const t=`\`${ec}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ec}\` by passing a \`${y6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ec}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},VZ=d6,HZ=h6,GZ=f6,KZ=p6,YZ=m6,XZ=b6,JZ=j6,QZ=x6,ZZ=v6;function N6({...e}){return s.jsx(VZ,{"data-slot":"alert-dialog",...e})}function _6({...e}){return s.jsx(HZ,{"data-slot":"alert-dialog-trigger",...e})}function eee({...e}){return s.jsx(GZ,{"data-slot":"alert-dialog-portal",...e})}function tee({className:e,...t}){return s.jsx(KZ,{"data-slot":"alert-dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function S6({className:e,...t}){return s.jsxs(eee,{children:[s.jsx(tee,{}),s.jsx(YZ,{"data-slot":"alert-dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function k6({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function E6({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:tt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function A6({className:e,...t}){return s.jsx(QZ,{"data-slot":"alert-dialog-title",className:tt("text-lg font-semibold",e),...t})}function T6({className:e,...t}){return s.jsx(ZZ,{"data-slot":"alert-dialog-description",className:tt("text-muted-foreground text-sm",e),...t})}function O6({className:e,...t}){return s.jsx(XZ,{className:tt(Sd(),e),...t})}function C6({className:e,...t}){return s.jsx(JZ,{className:tt(Sd({variant:"outline"}),e),...t})}function ree(){const{user:e}=Vo(),[t,r]=w.useState(!1),[n,a]=w.useState(()=>FM().analytics),[i,o]=w.useState(e?.email?.split("@")[0]||"Devotee"),[l,u]=w.useState("https://images.unsplash.com/photo-1550853607-9b3b692e50bd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=400"),h=w.useRef(null),[f,p]=w.useState(!1),[g,v]=w.useState(""),[b,y]=w.useState(""),[x,_]=w.useState(""),[N,E]=w.useState(!1),C=()=>{ee.success("Profile updated successfully!"),r(!1)},S=()=>{h.current?.click()},k=I=>{const D=I.target.files?.[0];if(D){if(D.size>5*1024*1024){ee.error("Image size should be less than 5MB");return}const L=new FileReader;L.onloadend=()=>{u(L.result),ee.success("Profile photo updated!")},L.readAsDataURL(D)}},A=async()=>{if(!g||!b||!x){ee.error("Please fill in all password fields");return}if(b.length<6){ee.error("New password must be at least 6 characters");return}if(b!==x){ee.error("New passwords do not match");return}E(!0);try{if(e?.email){const{error:D}=await Xs.auth.signInWithPassword({email:e.email,password:g});if(D){ee.error("Current password is incorrect"),E(!1);return}}const{error:I}=await Xs.auth.updateUser({password:b});if(I)throw I;ee.success("Password changed successfully!"),p(!1),v(""),y(""),_("")}catch(I){console.error("Error changing password:",I),ee.error(I.message||"Failed to change password")}finally{E(!1)}},P=async()=>{ee.error("Account deletion is currently unavailable. Please contact support.")},O=()=>{localStorage.clear(),sessionStorage.clear(),ee.success("Cache cleared successfully!")};return s.jsxs("div",{className:"px-4 pb-20 bg-[#F2FFF6] min-h-screen",children:[s.jsxs("div",{className:"py-4",children:[s.jsx("h2",{className:"font-extrabold text-lg mb-2",children:"Account Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Manage your account information and preferences"}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx(F_,{className:"w-5 h-5 text-[#0d5e38]"}),"Profile Information"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(vn,{children:"Profile Photo"}),s.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-cover bg-center border-4 border-[#E6F0EA]",style:{backgroundImage:`url('${l}')`}}),s.jsx("button",{onClick:S,className:"absolute bottom-0 right-0 w-7 h-7 bg-[#0d5e38] rounded-full flex items-center justify-center text-white hover:bg-[#0a5b34] transition-colors shadow-lg",children:s.jsx(R_,{className:"w-4 h-4"})})]}),s.jsxs("div",{children:[s.jsxs(Te,{onClick:S,variant:"outline",size:"sm",className:"mb-2",children:[s.jsx(ki,{className:"w-4 h-4 mr-2"}),"Change Photo"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG or GIF (max. 5MB)"})]}),s.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:k,className:"hidden"})]})]}),s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"displayName",children:"Display Name"}),s.jsx(ir,{id:"displayName",value:i,onChange:I=>o(I.target.value),disabled:!t,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"email",children:e?.email?"Email":"Phone Number"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 p-3 bg-gray-50 rounded-lg border",children:[e?.email?s.jsx(_g,{className:"w-4 h-4 text-gray-500"}):s.jsx(M_,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:e?.email||e?.phone||"Not available"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This cannot be changed"})]}),t?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{onClick:C,className:"flex-1 bg-[#0d5e38] hover:bg-[#0a5b34]",children:"Save Changes"}),s.jsx(Te,{onClick:()=>r(!1),variant:"outline",className:"flex-1",children:"Cancel"})]}):s.jsx(Te,{onClick:()=>r(!0),className:"w-full bg-[#0d5e38] hover:bg-[#0a5b34]",children:"Edit Profile"})]})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx(dd,{className:"w-5 h-5 text-[#D97706]"}),"Security"]}),s.jsxs(Te,{variant:"outline",className:"w-full justify-start",onClick:()=>p(!0),children:[s.jsx(dd,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx(Dr,{className:"w-5 h-5 text-[#7C3AED]"}),"Data & Privacy"]}),s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-[#E6F0EA] bg-white px-3 py-3 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"  "}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),s.jsx(Ca,{checked:n,onCheckedChange:I=>{a(I),_N({analytics:I}),ee.success(I?"Analytics enabled":"Analytics disabled")}})]}),s.jsx(Te,{variant:"outline",className:"w-full justify-start",onClick:O,children:"Clear Cache"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Clear app cache and temporary data"})]})}),s.jsx(We,{className:"border-red-200 bg-red-50/50",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2 text-red-700",children:[s.jsx(zr,{className:"w-5 h-5"}),"Danger Zone"]}),s.jsxs(N6,{children:[s.jsx(_6,{asChild:!0,children:s.jsx(Te,{variant:"destructive",className:"w-full",children:"Delete Account"})}),s.jsxs(S6,{children:[s.jsxs(k6,{children:[s.jsx(A6,{children:"Are you absolutely sure?"}),s.jsx(T6,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers including saved wallpapers, songs, and preferences."})]}),s.jsxs(E6,{children:[s.jsx(C6,{children:"Cancel"}),s.jsx(O6,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]}),s.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"This will permanently delete all your data"})]})})]}),s.jsx(Pd,{open:f,onOpenChange:p,children:s.jsxs(Rd,{className:"sm:max-w-[425px]",children:[s.jsxs(Id,{children:[s.jsxs(Dd,{className:"flex items-center gap-2",children:[s.jsx(dd,{className:"w-5 h-5 text-[#0d5e38]"}),"Change Password"]}),s.jsx(dS,{children:"Enter your current password and choose a new one."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(ir,{id:"currentPassword",type:"password",value:g,onChange:I=>v(I.target.value),placeholder:"Enter current password",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"newPassword",children:"New Password"}),s.jsx(ir,{id:"newPassword",type:"password",value:b,onChange:I=>y(I.target.value),placeholder:"Enter new password (min. 6 characters)",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(ir,{id:"confirmPassword",type:"password",value:x,onChange:I=>_(I.target.value),placeholder:"Confirm new password",className:"mt-1"})]})]}),s.jsxs(fm,{children:[s.jsx(Te,{variant:"outline",onClick:()=>{p(!1),v(""),y(""),_("")},disabled:N,children:"Cancel"}),s.jsx(Te,{onClick:A,disabled:N,className:"bg-[#0d5e38] hover:bg-[#0a5b34]",children:N?"Changing...":"Change Password"})]})]})})]})}function pm({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:tt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function nee(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(!1),o=async l=>{if(l.preventDefault(),!e||!r){ee.error("Please fill in all fields");return}i(!0),setTimeout(()=>{ee.success("Message sent! We will get back to you soon."),t(""),n(""),i(!1)},1500)};return s.jsx("div",{className:"px-4 pb-20 bg-[#F2FFF6] min-h-screen",children:s.jsxs("div",{className:"py-4",children:[s.jsx("h2",{className:"font-extrabold text-lg mb-2",children:"Contact Us"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"We're here to help! Reach out to us anytime."}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-6",children:[s.jsx(We,{className:"border-[#E6F0EA]",children:s.jsxs("a",{href:"mailto:support@muruganapp.com",className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F3FFF6] flex items-center justify-center",children:s.jsx(_g,{className:"w-6 h-6 text-[#0d5e38]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:"Email Support"}),s.jsx("div",{className:"text-xs text-gray-600",children:"support@muruganapp.com"})]})]})}),s.jsx(We,{className:"border-[#E6F0EA]",children:s.jsxs("a",{href:"tel:+911234567890",className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FFF8E6] flex items-center justify-center",children:s.jsx(M_,{className:"w-6 h-6 text-[#D97706]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:"Phone Support"}),s.jsx("div",{className:"text-xs text-gray-600",children:"+91 123 456 7890"})]})]})}),s.jsx(We,{className:"border-[#E6F0EA]",children:s.jsxs("a",{href:"https://wa.me/911234567890",target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#E6FFE6] flex items-center justify-center",children:s.jsx(Co,{className:"w-6 h-6 text-[#25D366]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:"WhatsApp"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Chat with us instantly"})]})]})})]}),s.jsx(We,{className:"mb-6 border-[#E6F0EA] bg-blue-50/50",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wr,{className:"w-5 h-5 text-[#0d5e38] mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-sm mb-1",children:"247 Customer Support"}),s.jsx("div",{className:"text-xs text-gray-700",children:"We are available round the clock to assist you with any queries or concerns."})]})]})})}),s.jsx(We,{className:"border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx(TN,{className:"w-5 h-5 text-[#0d5e38]"}),"Send us a Message"]}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"subject",children:"Subject"}),s.jsx(ir,{id:"subject",placeholder:"How can we help you?",value:e,onChange:l=>t(l.target.value),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(vn,{htmlFor:"message",children:"Message"}),s.jsx(pm,{id:"message",placeholder:"Describe your issue or feedback...",value:r,onChange:l=>n(l.target.value),className:"mt-1 min-h-[120px]"})]}),s.jsx(Te,{type:"submit",className:"w-full bg-[#0d5e38] hover:bg-[#0a5b34]",disabled:a,children:a?s.jsx(s.Fragment,{children:"Sending..."}):s.jsxs(s.Fragment,{children:[s.jsx(TN,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})]})}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Looking for quick answers?"}),s.jsx(Te,{variant:"link",className:"text-[#0d5e38]",onClick:()=>ee.info("FAQ section coming soon!"),children:"Visit our FAQ Section "})]})]})})}function see(){return s.jsx("div",{className:"px-4 pb-20 bg-[#F2FFF6] min-h-screen",children:s.jsxs("div",{className:"py-4",children:[s.jsx("h2",{className:"font-extrabold text-lg mb-2",children:"Privacy Policy"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Last updated: November 12, 2025"}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(Sg,{className:"w-5 h-5 text-[#0d5e38]"}),"Our Commitment to Your Privacy"]}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"At Murugan Wallpapers & Videos, we are committed to protecting your privacy and ensuring the security of your personal information. This privacy policy explains how we collect, use, and safeguard your data."})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(Dr,{className:"w-5 h-5 text-[#D97706]"}),"Information We Collect"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Account Information"}),s.jsx("p",{className:"text-gray-600",children:"Email address or phone number for authentication and account management."})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Usage Data"}),s.jsx("p",{className:"text-gray-600",children:"Information about your interactions with the app, such as wallpapers saved, songs played, and download history."})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"Device Information"}),s.jsx("p",{className:"text-gray-600",children:"Device type, operating system, and app version for technical support and optimization."})]})]})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5 text-[#7C3AED]"}),"How We Use Your Information"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0d5e38] mt-1",children:""}),s.jsx("span",{children:"To provide and improve our services"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0d5e38] mt-1",children:""}),s.jsx("span",{children:"To personalize your experience"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0d5e38] mt-1",children:""}),s.jsx("span",{children:"To send notifications about new content (if enabled)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0d5e38] mt-1",children:""}),s.jsx("span",{children:"To respond to your support requests"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0d5e38] mt-1",children:""}),s.jsx("span",{children:"To analyze app usage and improve functionality"})]})]})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(dd,{className:"w-5 h-5 text-[#DC2626]"}),"Data Security"]}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted during transmission and stored securely using Supabase's enterprise-grade infrastructure. We never share your personal information with third parties without your explicit consent."})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(kH,{className:"w-5 h-5 text-[#0891B2]"}),"Your Rights"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[s.jsx("p",{className:"font-semibold",children:"You have the right to:"}),s.jsxs("ul",{className:"space-y-1 ml-4",children:[s.jsx("li",{children:" Access your personal data"}),s.jsx("li",{children:" Correct inaccurate data"}),s.jsx("li",{children:" Request deletion of your account and data"}),s.jsx("li",{children:" Export your data"}),s.jsx("li",{children:" Opt-out of notifications"}),s.jsx("li",{children:" Withdraw consent at any time"})]})]})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-3",children:"Data Retention"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"We retain your personal information only for as long as necessary to provide our services and comply with legal obligations. When you delete your account, we permanently remove all your personal data within 30 days."})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-3",children:"Children's Privacy"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Our app is suitable for all ages. We do not knowingly collect personal information from children under 13 without parental consent. If you believe we have collected such information, please contact us immediately."})]})}),s.jsx(We,{className:"mb-4 border-[#E6F0EA]",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-3",children:"Changes to This Policy"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'})]})}),s.jsx(We,{className:"border-[#E6F0EA] bg-[#F3FFF6]",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(_g,{className:"w-5 h-5 text-[#0d5e38]"}),"Contact Us"]}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:"If you have any questions about this privacy policy or our data practices, please contact us at:"}),s.jsx("a",{href:"mailto:privacy@muruganapp.com",className:"text-sm font-semibold text-[#0d5e38]",children:"privacy@muruganapp.com"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"This privacy policy is compliant with GDPR and Indian data protection laws"})})]})})}function aee({onSearch:e,placeholder:t="Search murugan photos, videos..."}){const[r,n]=w.useState(""),a=o=>{o.preventDefault(),e(r)},i=()=>{n(""),e("")};return s.jsxs("form",{onSubmit:a,className:"relative",children:[s.jsx($_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/60"}),s.jsx(ir,{type:"text",placeholder:t,value:r,onChange:o=>n(o.target.value),className:"pl-10 pr-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20 focus:border-white/40 px-[40px] py-[20px]"}),r&&s.jsx(Te,{type:"button",variant:"ghost",size:"icon",onClick:i,className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:s.jsx(Wr,{className:"w-4 h-4"})})]})}function iee({onSelectMode:e}){return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-800 via-green-700 to-green-900 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-5xl w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl text-white mb-4",style:{fontFamily:"var(--font-tamil-bold)"},children:"Tamil Kadavul Murugan"}),s.jsx("p",{className:"text-green-200 text-xl",children:"Select your interface"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("button",{onClick:()=>e("mobile"),className:"group bg-white rounded-2xl p-8 shadow-2xl hover:shadow-3xl transition-all hover:scale-105 text-left",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-600 to-green-700 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:s.jsx(L_,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Mobile App"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Access the user-facing mobile interface with Ask Gugan AI, wallpapers, media, and more"}),s.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-semibold group-hover:gap-3 transition-all",children:[s.jsx("span",{children:"Launch App"}),s.jsx(gT,{className:"w-5 h-5"})]})]}),s.jsxs("button",{onClick:()=>e("admin"),className:"group bg-white rounded-2xl p-8 shadow-2xl hover:shadow-3xl transition-all hover:scale-105 text-left",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:s.jsx(c3,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Admin Panel"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Manage content, view analytics, and control all aspects of the Murugan app"}),s.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-semibold group-hover:gap-3 transition-all",children:[s.jsx("span",{children:"Open Dashboard"}),s.jsx(gT,{className:"w-5 h-5"})]})]})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsx("p",{className:"text-green-200 text-sm",children:" 2024 Tamil Kadavul Murugan App   !"})})]})})}var K0,HT;function Sn(){if(HT)return K0;HT=1;var e=Array.isArray;return K0=e,K0}var Y0,GT;function P6(){if(GT)return Y0;GT=1;var e=typeof ep=="object"&&ep&&ep.Object===Object&&ep;return Y0=e,Y0}var X0,KT;function fa(){if(KT)return X0;KT=1;var e=P6(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return X0=r,X0}var J0,YT;function Th(){if(YT)return J0;YT=1;var e=fa(),t=e.Symbol;return J0=t,J0}var Q0,XT;function oee(){if(XT)return Q0;XT=1;var e=Th(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var h=!0}catch{}var f=n.call(o);return h&&(l?o[a]=u:delete o[a]),f}return Q0=i,Q0}var Z0,JT;function lee(){if(JT)return Z0;JT=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Z0=r,Z0}var ev,QT;function Ka(){if(QT)return ev;QT=1;var e=Th(),t=oee(),r=lee(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return ev=o,ev}var tv,ZT;function Ya(){if(ZT)return tv;ZT=1;function e(t){return t!=null&&typeof t=="object"}return tv=e,tv}var rv,eO;function Hc(){if(eO)return rv;eO=1;var e=Ka(),t=Ya(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return rv=n,rv}var nv,tO;function hS(){if(tO)return nv;tO=1;var e=Sn(),t=Hc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return nv=a,nv}var sv,rO;function $i(){if(rO)return sv;rO=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return sv=e,sv}var av,nO;function fS(){if(nO)return av;nO=1;var e=Ka(),t=$i(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==a||u==r||u==i}return av=o,av}var iv,sO;function cee(){if(sO)return iv;sO=1;var e=fa(),t=e["__core-js_shared__"];return iv=t,iv}var ov,aO;function uee(){if(aO)return ov;aO=1;var e=cee(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return ov=r,ov}var lv,iO;function R6(){if(iO)return lv;iO=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return lv=r,lv}var cv,oO;function dee(){if(oO)return cv;oO=1;var e=fS(),t=uee(),r=$i(),n=R6(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,h=l.hasOwnProperty,f=RegExp("^"+u.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||t(g))return!1;var v=e(g)?f:i;return v.test(n(g))}return cv=p,cv}var uv,lO;function hee(){if(lO)return uv;lO=1;function e(t,r){return t?.[r]}return uv=e,uv}var dv,cO;function Jo(){if(cO)return dv;cO=1;var e=dee(),t=hee();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return dv=r,dv}var hv,uO;function Bg(){if(uO)return hv;uO=1;var e=Jo(),t=e(Object,"create");return hv=t,hv}var fv,dO;function fee(){if(dO)return fv;dO=1;var e=Bg();function t(){this.__data__=e?e(null):{},this.size=0}return fv=t,fv}var pv,hO;function pee(){if(hO)return pv;hO=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return pv=e,pv}var mv,fO;function mee(){if(fO)return mv;fO=1;var e=Bg(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return mv=a,mv}var gv,pO;function gee(){if(pO)return gv;pO=1;var e=Bg(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return gv=n,gv}var xv,mO;function xee(){if(mO)return xv;mO=1;var e=Bg(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return xv=r,xv}var yv,gO;function yee(){if(gO)return yv;gO=1;var e=fee(),t=pee(),r=mee(),n=gee(),a=xee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,yv=i,yv}var vv,xO;function vee(){if(xO)return vv;xO=1;function e(){this.__data__=[],this.size=0}return vv=e,vv}var bv,yO;function pS(){if(yO)return bv;yO=1;function e(t,r){return t===r||t!==t&&r!==r}return bv=e,bv}var wv,vO;function zg(){if(vO)return wv;vO=1;var e=pS();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return wv=t,wv}var jv,bO;function bee(){if(bO)return jv;bO=1;var e=zg(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return jv=n,jv}var Nv,wO;function wee(){if(wO)return Nv;wO=1;var e=zg();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Nv=t,Nv}var _v,jO;function jee(){if(jO)return _v;jO=1;var e=zg();function t(r){return e(this.__data__,r)>-1}return _v=t,_v}var Sv,NO;function Nee(){if(NO)return Sv;NO=1;var e=zg();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Sv=t,Sv}var kv,_O;function Wg(){if(_O)return kv;_O=1;var e=vee(),t=bee(),r=wee(),n=jee(),a=Nee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,kv=i,kv}var Ev,SO;function mS(){if(SO)return Ev;SO=1;var e=Jo(),t=fa(),r=e(t,"Map");return Ev=r,Ev}var Av,kO;function _ee(){if(kO)return Av;kO=1;var e=yee(),t=Wg(),r=mS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Av=n,Av}var Tv,EO;function See(){if(EO)return Tv;EO=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Tv=e,Tv}var Ov,AO;function qg(){if(AO)return Ov;AO=1;var e=See();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Ov=t,Ov}var Cv,TO;function kee(){if(TO)return Cv;TO=1;var e=qg();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Cv=t,Cv}var Pv,OO;function Eee(){if(OO)return Pv;OO=1;var e=qg();function t(r){return e(this,r).get(r)}return Pv=t,Pv}var Rv,CO;function Aee(){if(CO)return Rv;CO=1;var e=qg();function t(r){return e(this,r).has(r)}return Rv=t,Rv}var Iv,PO;function Tee(){if(PO)return Iv;PO=1;var e=qg();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Iv=t,Iv}var Dv,RO;function gS(){if(RO)return Dv;RO=1;var e=_ee(),t=kee(),r=Eee(),n=Aee(),a=Tee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Dv=i,Dv}var Mv,IO;function I6(){if(IO)return Mv;IO=1;var e=gS(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var h=n.apply(this,o);return i.cache=u.set(l,h)||u,h};return i.cache=new(r.Cache||e),i}return r.Cache=e,Mv=r,Mv}var $v,DO;function Oee(){if(DO)return $v;DO=1;var e=I6(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return $v=r,$v}var Lv,MO;function Cee(){if(MO)return Lv;MO=1;var e=Oee(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,u,h){i.push(u?h.replace(r,"$1"):l||o)}),i});return Lv=n,Lv}var Fv,$O;function xS(){if($O)return Fv;$O=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return Fv=e,Fv}var Uv,LO;function Pee(){if(LO)return Uv;LO=1;var e=Th(),t=xS(),r=Sn(),n=Hc(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return Uv=o,Uv}var Bv,FO;function D6(){if(FO)return Bv;FO=1;var e=Pee();function t(r){return r==null?"":e(r)}return Bv=t,Bv}var zv,UO;function M6(){if(UO)return zv;UO=1;var e=Sn(),t=hS(),r=Cee(),n=D6();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return zv=a,zv}var Wv,BO;function Vg(){if(BO)return Wv;BO=1;var e=Hc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Wv=t,Wv}var qv,zO;function yS(){if(zO)return qv;zO=1;var e=M6(),t=Vg();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return qv=r,qv}var Vv,WO;function $6(){if(WO)return Vv;WO=1;var e=yS();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return Vv=t,Vv}var Ree=$6();const Bn=bt(Ree);var Hv,qO;function Iee(){if(qO)return Hv;qO=1;function e(t){return t==null}return Hv=e,Hv}var Dee=Iee();const rt=bt(Dee);var Gv,VO;function Mee(){if(VO)return Gv;VO=1;var e=Ka(),t=Sn(),r=Ya(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Gv=a,Gv}var $ee=Mee();const Io=bt($ee);var Lee=fS();const Qe=bt(Lee);var Fee=$i();const Gc=bt(Fee);var Kv={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function Uee(){if(HO)return wt;HO=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function y(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case e:switch(x=x.type,x){case r:case a:case n:case h:case f:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case u:case g:case p:case i:return x;default:return _}}case t:return _}}}return wt.ContextConsumer=o,wt.ContextProvider=i,wt.Element=e,wt.ForwardRef=u,wt.Fragment=r,wt.Lazy=g,wt.Memo=p,wt.Portal=t,wt.Profiler=a,wt.StrictMode=n,wt.Suspense=h,wt.SuspenseList=f,wt.isAsyncMode=function(){return!1},wt.isConcurrentMode=function(){return!1},wt.isContextConsumer=function(x){return y(x)===o},wt.isContextProvider=function(x){return y(x)===i},wt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},wt.isForwardRef=function(x){return y(x)===u},wt.isFragment=function(x){return y(x)===r},wt.isLazy=function(x){return y(x)===g},wt.isMemo=function(x){return y(x)===p},wt.isPortal=function(x){return y(x)===t},wt.isProfiler=function(x){return y(x)===a},wt.isStrictMode=function(x){return y(x)===n},wt.isSuspense=function(x){return y(x)===h},wt.isSuspenseList=function(x){return y(x)===f},wt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===a||x===n||x===h||x===f||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===p||x.$$typeof===i||x.$$typeof===o||x.$$typeof===u||x.$$typeof===b||x.getModuleId!==void 0)},wt.typeOf=y,wt}var GO;function Bee(){return GO||(GO=1,Kv.exports=Uee()),Kv.exports}var zee=Bee(),Yv,KO;function L6(){if(KO)return Yv;KO=1;var e=Ka(),t=Ya(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Yv=n,Yv}var Xv,YO;function Wee(){if(YO)return Xv;YO=1;var e=L6();function t(r){return e(r)&&r!=+r}return Xv=t,Xv}var qee=Wee();const Kc=bt(qee);var Vee=L6();const Hee=bt(Vee);var an=function(t){return t===0?0:t>0?1:-1},jo=function(t){return Io(t)&&t.indexOf("%")===t.length-1},Se=function(t){return Hee(t)&&!Kc(t)},Gee=function(t){return rt(t)},Nr=function(t){return Se(t)||Io(t)},Kee=0,Qo=function(t){var r=++Kee;return"".concat(t||"").concat(r)},on=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&!Io(t))return n;var i;if(jo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Kc(i)&&(i=n),a&&i>r&&(i=r),i},Si=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Yee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},br=function(t,r){return Se(t)&&Se(r)?function(n){return t+n*(r-t)}:function(){return r}};function mm(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var Xee=function(t,r){return Se(t)&&Se(r)?t-r:Io(t)&&Io(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function tc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function UN(e){"@babel/helpers - typeof";return UN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UN(e)}var Jee=["viewBox","children"],Qee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XO=["points","pathLength"],Jv={svg:Jee,polygon:XO,polyline:XO},vS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Gc(n))return null;var a={};return Object.keys(n).forEach(function(i){vS.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Zee=function(t,r,n){return function(a){return t(r,n,a),null}},Do=function(t,r,n){if(!Gc(t)||UN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];vS.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Zee(o,r,n))}),a},ete=["children"],tte=["children"];function JO(e,t){if(e==null)return{};var r=rte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BN(e){"@babel/helpers - typeof";return BN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BN(e)}var QO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$a=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ZO=null,Qv=null,bS=function e(t){if(t===ZO&&Array.isArray(Qv))return Qv;var r=[];return w.Children.forEach(t,function(n){rt(n)||(zee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Qv=r,ZO=t,r};function zn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return $a(a)}):n=[$a(t)],bS(e).forEach(function(a){var i=Bn(a,"type.displayName")||Bn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Rn(e,t){var r=zn(e,t);return r&&r[0]}var eC=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Se(n)||n<=0||!Se(a)||a<=0)},nte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ste=function(t){return t&&t.type&&Io(t.type)&&nte.indexOf(t.type)>=0},F6=function(t){return t&&BN(t)==="object"&&"clipDot"in t},ate=function(t,r,n,a){var i,o=(i=Jv?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Qe(t)&&(a&&o.includes(r)||Qee.includes(r))||n&&vS.includes(r)},ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!Gc(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;ate((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},zN=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return tC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!tC(i,o))return!1}return!0},tC=function(t,r){if(rt(t)&&rt(r))return!0;if(!rt(t)&&!rt(r)){var n=t.props||{},a=n.children,i=JO(n,ete),o=r.props||{},l=o.children,u=JO(o,tte);return a&&l?tc(i,u)&&zN(a,l):!a&&!l?tc(i,u):!1}return!1},rC=function(t,r){var n=[],a={};return bS(t).forEach(function(i,o){if(ste(i))n.push(i);else if(i){var l=$a(i.type),u=r[l]||{},h=u.handler,f=u.once;if(h&&(!f||!a[l])){var p=h(i,l,o);n.push(p),a[l]=!0}}}),n},ite=function(t){var r=t&&t.type;return r&&QO[r]?QO[r]:null},ote=function(t,r){return bS(r).indexOf(t)},lte=["children","width","height","viewBox","className","style","title","desc"];function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WN.apply(this,arguments)}function cte(e,t){if(e==null)return{};var r=ute(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ute(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,u=e.desc,h=cte(e,lte),f=a||{width:r,height:n,x:0,y:0},p=nt("recharts-surface",i);return B.createElement("svg",WN({},ze(h,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),B.createElement("title",null,l),B.createElement("desc",null,u),t)}var dte=["children","className"];function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}function hte(e,t){if(e==null)return{};var r=fte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ut=B.forwardRef(function(e,t){var r=e.children,n=e.className,a=hte(e,dte),i=nt("recharts-layer",n);return B.createElement("g",VN({className:i},ze(a,!0),{ref:t}),r)}),As=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Zv,nC;function pte(){if(nC)return Zv;nC=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return Zv=e,Zv}var eb,sC;function mte(){if(sC)return eb;sC=1;var e=pte();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return eb=t,eb}var tb,aC;function U6(){if(aC)return tb;aC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function u(h){return l.test(h)}return tb=u,tb}var rb,iC;function gte(){if(iC)return rb;iC=1;function e(t){return t.split("")}return rb=e,rb}var nb,oC;function xte(){if(oC)return nb;oC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+u+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=h+"?",y="["+i+"]?",x="(?:"+v+"(?:"+[f,p,g].join("|")+")"+y+b+")*",_=y+b+x,N="(?:"+[f+l+"?",l,p,g,o].join("|")+")",E=RegExp(u+"(?="+u+")|"+N+_,"g");function C(S){return S.match(E)||[]}return nb=C,nb}var sb,lC;function yte(){if(lC)return sb;lC=1;var e=gte(),t=U6(),r=xte();function n(a){return t(a)?r(a):e(a)}return sb=n,sb}var ab,cC;function vte(){if(cC)return ab;cC=1;var e=mte(),t=U6(),r=yte(),n=D6();function a(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,u=l?l[0]:o.charAt(0),h=l?e(l,1).join(""):o.slice(1);return u[i]()+h}}return ab=a,ab}var ib,uC;function bte(){if(uC)return ib;uC=1;var e=vte(),t=e("toUpperCase");return ib=t,ib}var wte=bte();const Hg=bt(wte);function Rt(e){return function(){return e}}const B6=Math.cos,xm=Math.sin,Ls=Math.sqrt,ym=Math.PI,Gg=2*ym,HN=Math.PI,GN=2*HN,fo=1e-6,jte=GN-fo;function z6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Nte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return z6;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class _te{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?z6:Nte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,h=a-r,f=o-t,p=l-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>fo)if(!(Math.abs(p*u-h*f)>fo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,b=a-l,y=u*u+h*h,x=v*v+b*b,_=Math.sqrt(y),N=Math.sqrt(g),E=i*Math.tan((HN-Math.acos((y+g-x)/(2*_*N)))/2),C=E/N,S=E/_;Math.abs(C-1)>fo&&this._append`L${t+C*f},${r+C*p}`,this._append`A${i},${i},0,0,${+(p*v>f*b)},${this._x1=t+S*u},${this._y1=r+S*h}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),h=t+l,f=r+u,p=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>fo||Math.abs(this._y1-f)>fo)&&this._append`L${h},${f}`,n&&(g<0&&(g=g%GN+GN),g>jte?this._append`A${n},${n},0,1,${p},${t-l},${r-u}A${n},${n},0,1,${p},${this._x1=h},${this._y1=f}`:g>fo&&this._append`A${n},${n},0,${+(g>=HN)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function wS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _te(t)}function jS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W6(e){this._context=e}W6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kg(e){return new W6(e)}function q6(e){return e[0]}function V6(e){return e[1]}function H6(e,t){var r=Rt(!0),n=null,a=Kg,i=null,o=wS(l);e=typeof e=="function"?e:e===void 0?q6:Rt(e),t=typeof t=="function"?t:t===void 0?V6:Rt(t);function l(u){var h,f=(u=jS(u)).length,p,g=!1,v;for(n==null&&(i=a(v=o())),h=0;h<=f;++h)!(h<f&&r(p=u[h],h,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,h,u),+t(p,h,u));if(v)return i=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Rt(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Rt(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Rt(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function Np(e,t,r){var n=null,a=Rt(!0),i=null,o=Kg,l=null,u=wS(h);e=typeof e=="function"?e:e===void 0?q6:Rt(+e),t=typeof t=="function"?t:Rt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?V6:Rt(+r);function h(p){var g,v,b,y=(p=jS(p)).length,x,_=!1,N,E=new Array(y),C=new Array(y);for(i==null&&(l=o(N=u())),g=0;g<=y;++g){if(!(g<y&&a(x=p[g],g,p))===_)if(_=!_)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=v;--b)l.point(E[b],C[b]);l.lineEnd(),l.areaEnd()}_&&(E[g]=+e(x,g,p),C[g]=+t(x,g,p),l.point(n?+n(x,g,p):E[g],r?+r(x,g,p):C[g]))}if(N)return l=null,N+""||null}function f(){return H6().defined(a).curve(o).context(i)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Rt(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Rt(+p),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(n).y(t)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Rt(!!p),h):a},h.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),h):o},h.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),h):i},h}class G6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ste(e){return new G6(e,!0)}function kte(e){return new G6(e,!1)}const NS={draw(e,t){const r=Ls(t/ym);e.moveTo(r,0),e.arc(0,0,r,0,Gg)}},Ete={draw(e,t){const r=Ls(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},K6=Ls(1/3),Ate=K6*2,Tte={draw(e,t){const r=Ls(t/Ate),n=r*K6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ote={draw(e,t){const r=Ls(t),n=-r/2;e.rect(n,n,r,r)}},Cte=.8908130915292852,Y6=xm(ym/10)/xm(7*ym/10),Pte=xm(Gg/10)*Y6,Rte=-B6(Gg/10)*Y6,Ite={draw(e,t){const r=Ls(t*Cte),n=Pte*r,a=Rte*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Gg*i/5,l=B6(o),u=xm(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},ob=Ls(3),Dte={draw(e,t){const r=-Ls(t/(ob*3));e.moveTo(0,r*2),e.lineTo(-ob*r,-r),e.lineTo(ob*r,-r),e.closePath()}},Zn=-.5,es=Ls(3)/2,KN=1/Ls(12),Mte=(KN/2+1)*3,$te={draw(e,t){const r=Ls(t/Mte),n=r/2,a=r*KN,i=n,o=r*KN+r,l=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(Zn*n-es*a,es*n+Zn*a),e.lineTo(Zn*i-es*o,es*i+Zn*o),e.lineTo(Zn*l-es*u,es*l+Zn*u),e.lineTo(Zn*n+es*a,Zn*a-es*n),e.lineTo(Zn*i+es*o,Zn*o-es*i),e.lineTo(Zn*l+es*u,Zn*u-es*l),e.closePath()}};function Lte(e,t){let r=null,n=wS(a);e=typeof e=="function"?e:Rt(e||NS),t=typeof t=="function"?t:Rt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Rt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Rt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function vm(){}function bm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function X6(e){this._context=e}X6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fte(e){return new X6(e)}function J6(e){this._context=e}J6.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ute(e){return new J6(e)}function Q6(e){this._context=e}Q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bte(e){return new Q6(e)}function Z6(e){this._context=e}Z6.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zte(e){return new Z6(e)}function dC(e){return e<0?-1:1}function hC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(dC(i)+dC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function fC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function lb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function wm(e){this._context=e}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lb(this,this._t0,fC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lb(this,fC(this,r=hC(this,e,t)),r);break;default:lb(this,this._t0,r=hC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eL(e){this._context=new tL(e)}(eL.prototype=Object.create(wm.prototype)).point=function(e,t){wm.prototype.point.call(this,t,e)};function tL(e){this._context=e}tL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Wte(e){return new wm(e)}function qte(e){return new eL(e)}function rL(e){this._context=e}rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pC(e),a=pC(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pC(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Vte(e){return new rL(e)}function Yg(e,t){this._context=e,this._t=t}Yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Hte(e){return new Yg(e,.5)}function Gte(e){return new Yg(e,0)}function Kte(e){return new Yg(e,1)}function lc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function YN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Yte(e,t){return e[t]}function Xte(e){const t=[];return t.key=e,t}function Jte(){var e=Rt([]),t=YN,r=lc,n=Yte;function a(i){var o=Array.from(e.apply(this,arguments),Xte),l,u=o.length,h=-1,f;for(const p of i)for(l=0,++h;l<u;++l)(o[l][h]=[0,+n(p,o[l].key,h,i)]).data=p;for(l=0,f=jS(t(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Rt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Rt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?YN:typeof i=="function"?i:Rt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??lc,a):r},a}function Qte(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}lc(e,t)}}function Zte(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}lc(e,t)}}function ere(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,u=0,h=0;l<o;++l){for(var f=e[t[l]],p=f[n][1]||0,g=f[n-1][1]||0,v=(p-g)/2,b=0;b<l;++b){var y=e[t[b]],x=y[n][1]||0,_=y[n-1][1]||0;v+=x-_}u+=p,h+=v*p}a[n-1][1]+=a[n-1][0]=r,u&&(r-=h/u)}a[n-1][1]+=a[n-1][0]=r,lc(e,t)}}function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}var tre=["type","size","sizeType"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rre(e,t,r){return t=nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e){var t=sre(e,"string");return Md(t)=="symbol"?t:t+""}function sre(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function are(e,t){if(e==null)return{};var r=ire(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ire(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nL={symbolCircle:NS,symbolCross:Ete,symbolDiamond:Tte,symbolSquare:Ote,symbolStar:Ite,symbolTriangle:Dte,symbolWye:$te},ore=Math.PI/180,lre=function(t){var r="symbol".concat(Hg(t));return nL[r]||NS},cre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ore;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ure=function(t,r){nL["symbol".concat(Hg(t))]=r},_S=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,u=are(t,tre),h=gC(gC({},u),{},{type:n,size:i,sizeType:l}),f=function(){var x=lre(n),_=Lte().type(x).size(cre(i,l,n));return _()},p=h.className,g=h.cx,v=h.cy,b=ze(h,!0);return g===+g&&v===+v&&i===+i?B.createElement("path",XN({},b,{className:nt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:f()})):null};_S.registerSymbol=ure;function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JN.apply(this,arguments)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){$d(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aL(n.key),n)}}function pre(e,t,r){return t&&fre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mre(e,t,r){return t=jm(t),gre(e,sL()?Reflect.construct(t,r||[],jm(e).constructor):t.apply(e,r))}function gre(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xre(e)}function xre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!e})()}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(e)}function yre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QN(e,t)}function $d(e,t,r){return t=aL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aL(e){var t=vre(e,"string");return cc(t)=="symbol"?t:t+""}function vre(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ts=32,SS=(function(e){function t(){return hre(this,t),mre(this,t,arguments)}return yre(t,e),pre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ts/2,o=ts/6,l=ts/3,u=n.inactive?a:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ts,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ts,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ts/8,"h").concat(ts,"v").concat(ts*3/4,"h").concat(-ts,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var h=dre({},n);return delete h.legendIcon,B.cloneElement(n.legendIcon,h)}return B.createElement(_S,{fill:u,cx:i,cy:i,size:ts,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,u=a.formatter,h=a.inactiveColor,f={x:0,y:0,width:ts,height:ts},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,b){var y=v.formatter||u,x=nt($d($d({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=Qe(v.value)?null:v.value;As(!Qe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?h:v.color;return B.createElement("li",JN({className:x,style:p,key:"legend-item-".concat(b)},Do(n.props,v,b)),B.createElement(qN,{width:o,height:o,viewBox:f,style:g},n.renderIcon(v)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},y?y(_,v,b):_))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);$d(SS,"displayName","Legend");$d(SS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cb,yC;function bre(){if(yC)return cb;yC=1;var e=Wg();function t(){this.__data__=new e,this.size=0}return cb=t,cb}var ub,vC;function wre(){if(vC)return ub;vC=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return ub=e,ub}var db,bC;function jre(){if(bC)return db;bC=1;function e(t){return this.__data__.get(t)}return db=e,db}var hb,wC;function Nre(){if(wC)return hb;wC=1;function e(t){return this.__data__.has(t)}return hb=e,hb}var fb,jC;function _re(){if(jC)return fb;jC=1;var e=Wg(),t=mS(),r=gS(),n=200;function a(i,o){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<n-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(i,o),this.size=l.size,this}return fb=a,fb}var pb,NC;function iL(){if(NC)return pb;NC=1;var e=Wg(),t=bre(),r=wre(),n=jre(),a=Nre(),i=_re();function o(l){var u=this.__data__=new e(l);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,pb=o,pb}var mb,_C;function Sre(){if(_C)return mb;_C=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return mb=t,mb}var gb,SC;function kre(){if(SC)return gb;SC=1;function e(t){return this.__data__.has(t)}return gb=e,gb}var xb,kC;function oL(){if(kC)return xb;kC=1;var e=gS(),t=Sre(),r=kre();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,xb=n,xb}var yb,EC;function lL(){if(EC)return yb;EC=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return yb=e,yb}var vb,AC;function cL(){if(AC)return vb;AC=1;function e(t,r){return t.has(r)}return vb=e,vb}var bb,TC;function uL(){if(TC)return bb;TC=1;var e=oL(),t=lL(),r=cL(),n=1,a=2;function i(o,l,u,h,f,p){var g=u&n,v=o.length,b=l.length;if(v!=b&&!(g&&b>v))return!1;var y=p.get(o),x=p.get(l);if(y&&x)return y==l&&x==o;var _=-1,N=!0,E=u&a?new e:void 0;for(p.set(o,l),p.set(l,o);++_<v;){var C=o[_],S=l[_];if(h)var k=g?h(S,C,_,l,o,p):h(C,S,_,o,l,p);if(k!==void 0){if(k)continue;N=!1;break}if(E){if(!t(l,function(A,P){if(!r(E,P)&&(C===A||f(C,A,u,h,p)))return E.push(P)})){N=!1;break}}else if(!(C===S||f(C,S,u,h,p))){N=!1;break}}return p.delete(o),p.delete(l),N}return bb=i,bb}var wb,OC;function Ere(){if(OC)return wb;OC=1;var e=fa(),t=e.Uint8Array;return wb=t,wb}var jb,CC;function Are(){if(CC)return jb;CC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return jb=e,jb}var Nb,PC;function kS(){if(PC)return Nb;PC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Nb=e,Nb}var _b,RC;function Tre(){if(RC)return _b;RC=1;var e=Th(),t=Ere(),r=pS(),n=uL(),a=Are(),i=kS(),o=1,l=2,u="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",b="[object Set]",y="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",N="[object DataView]",E=e?e.prototype:void 0,C=E?E.valueOf:void 0;function S(k,A,P,O,I,D,L){switch(P){case N:if(k.byteLength!=A.byteLength||k.byteOffset!=A.byteOffset)return!1;k=k.buffer,A=A.buffer;case _:return!(k.byteLength!=A.byteLength||!D(new t(k),new t(A)));case u:case h:case g:return r(+k,+A);case f:return k.name==A.name&&k.message==A.message;case v:case y:return k==A+"";case p:var F=a;case b:var G=O&o;if(F||(F=i),k.size!=A.size&&!G)return!1;var K=L.get(k);if(K)return K==A;O|=l,L.set(k,A);var U=n(F(k),F(A),O,I,D,L);return L.delete(k),U;case x:if(C)return C.call(k)==C.call(A)}return!1}return _b=S,_b}var Sb,IC;function dL(){if(IC)return Sb;IC=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return Sb=e,Sb}var kb,DC;function Ore(){if(DC)return kb;DC=1;var e=dL(),t=Sn();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return kb=r,kb}var Eb,MC;function Cre(){if(MC)return Eb;MC=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return Eb=e,Eb}var Ab,$C;function Pre(){if($C)return Ab;$C=1;function e(){return[]}return Ab=e,Ab}var Tb,LC;function Rre(){if(LC)return Tb;LC=1;var e=Cre(),t=Pre(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return Tb=i,Tb}var Ob,FC;function Ire(){if(FC)return Ob;FC=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Ob=e,Ob}var Cb,UC;function Dre(){if(UC)return Cb;UC=1;var e=Ka(),t=Ya(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return Cb=n,Cb}var Pb,BC;function ES(){if(BC)return Pb;BC=1;var e=Dre(),t=Ya(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return Pb=i,Pb}var nd={exports:{}},Rb,zC;function Mre(){if(zC)return Rb;zC=1;function e(){return!1}return Rb=e,Rb}nd.exports;var WC;function hL(){return WC||(WC=1,(function(e,t){var r=fa(),n=Mre(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,h=u||n;e.exports=h})(nd,nd.exports)),nd.exports}var Ib,qC;function AS(){if(qC)return Ib;qC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Ib=r,Ib}var Db,VC;function TS(){if(VC)return Db;VC=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Db=t,Db}var Mb,HC;function $re(){if(HC)return Mb;HC=1;var e=Ka(),t=TS(),r=Ya(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",h="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",b="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]",D={};D[N]=D[E]=D[C]=D[S]=D[k]=D[A]=D[P]=D[O]=D[I]=!0,D[n]=D[a]=D[x]=D[i]=D[_]=D[o]=D[l]=D[u]=D[h]=D[f]=D[p]=D[g]=D[v]=D[b]=D[y]=!1;function L(F){return r(F)&&t(F.length)&&!!D[e(F)]}return Mb=L,Mb}var $b,GC;function fL(){if(GC)return $b;GC=1;function e(t){return function(r){return t(r)}}return $b=e,$b}var sd={exports:{}};sd.exports;var KC;function Lre(){return KC||(KC=1,(function(e,t){var r=P6(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(sd,sd.exports)),sd.exports}var Lb,YC;function pL(){if(YC)return Lb;YC=1;var e=$re(),t=fL(),r=Lre(),n=r&&r.isTypedArray,a=n?t(n):e;return Lb=a,Lb}var Fb,XC;function Fre(){if(XC)return Fb;XC=1;var e=Ire(),t=ES(),r=Sn(),n=hL(),a=AS(),i=pL(),o=Object.prototype,l=o.hasOwnProperty;function u(h,f){var p=r(h),g=!p&&t(h),v=!p&&!g&&n(h),b=!p&&!g&&!v&&i(h),y=p||g||v||b,x=y?e(h.length,String):[],_=x.length;for(var N in h)(f||l.call(h,N))&&!(y&&(N=="length"||v&&(N=="offset"||N=="parent")||b&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||a(N,_)))&&x.push(N);return x}return Fb=u,Fb}var Ub,JC;function Ure(){if(JC)return Ub;JC=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return Ub=t,Ub}var Bb,QC;function mL(){if(QC)return Bb;QC=1;function e(t,r){return function(n){return t(r(n))}}return Bb=e,Bb}var zb,ZC;function Bre(){if(ZC)return zb;ZC=1;var e=mL(),t=e(Object.keys,Object);return zb=t,zb}var Wb,eP;function zre(){if(eP)return Wb;eP=1;var e=Ure(),t=Bre(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return Wb=a,Wb}var qb,tP;function Oh(){if(tP)return qb;tP=1;var e=fS(),t=TS();function r(n){return n!=null&&t(n.length)&&!e(n)}return qb=r,qb}var Vb,rP;function Xg(){if(rP)return Vb;rP=1;var e=Fre(),t=zre(),r=Oh();function n(a){return r(a)?e(a):t(a)}return Vb=n,Vb}var Hb,nP;function Wre(){if(nP)return Hb;nP=1;var e=Ore(),t=Rre(),r=Xg();function n(a){return e(a,r,t)}return Hb=n,Hb}var Gb,sP;function qre(){if(sP)return Gb;sP=1;var e=Wre(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,u,h,f){var p=l&t,g=e(i),v=g.length,b=e(o),y=b.length;if(v!=y&&!p)return!1;for(var x=v;x--;){var _=g[x];if(!(p?_ in o:n.call(o,_)))return!1}var N=f.get(i),E=f.get(o);if(N&&E)return N==o&&E==i;var C=!0;f.set(i,o),f.set(o,i);for(var S=p;++x<v;){_=g[x];var k=i[_],A=o[_];if(u)var P=p?u(A,k,_,o,i,f):u(k,A,_,i,o,f);if(!(P===void 0?k===A||h(k,A,l,u,f):P)){C=!1;break}S||(S=_=="constructor")}if(C&&!S){var O=i.constructor,I=o.constructor;O!=I&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof I=="function"&&I instanceof I)&&(C=!1)}return f.delete(i),f.delete(o),C}return Gb=a,Gb}var Kb,aP;function Vre(){if(aP)return Kb;aP=1;var e=Jo(),t=fa(),r=e(t,"DataView");return Kb=r,Kb}var Yb,iP;function Hre(){if(iP)return Yb;iP=1;var e=Jo(),t=fa(),r=e(t,"Promise");return Yb=r,Yb}var Xb,oP;function gL(){if(oP)return Xb;oP=1;var e=Jo(),t=fa(),r=e(t,"Set");return Xb=r,Xb}var Jb,lP;function Gre(){if(lP)return Jb;lP=1;var e=Jo(),t=fa(),r=e(t,"WeakMap");return Jb=r,Jb}var Qb,cP;function Kre(){if(cP)return Qb;cP=1;var e=Vre(),t=mS(),r=Hre(),n=gL(),a=Gre(),i=Ka(),o=R6(),l="[object Map]",u="[object Object]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",v=o(e),b=o(t),y=o(r),x=o(n),_=o(a),N=i;return(e&&N(new e(new ArrayBuffer(1)))!=g||t&&N(new t)!=l||r&&N(r.resolve())!=h||n&&N(new n)!=f||a&&N(new a)!=p)&&(N=function(E){var C=i(E),S=C==u?E.constructor:void 0,k=S?o(S):"";if(k)switch(k){case v:return g;case b:return l;case y:return h;case x:return f;case _:return p}return C}),Qb=N,Qb}var Zb,uP;function Yre(){if(uP)return Zb;uP=1;var e=iL(),t=uL(),r=Tre(),n=qre(),a=Kre(),i=Sn(),o=hL(),l=pL(),u=1,h="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function b(y,x,_,N,E,C){var S=i(y),k=i(x),A=S?f:a(y),P=k?f:a(x);A=A==h?p:A,P=P==h?p:P;var O=A==p,I=P==p,D=A==P;if(D&&o(y)){if(!o(x))return!1;S=!0,O=!1}if(D&&!O)return C||(C=new e),S||l(y)?t(y,x,_,N,E,C):r(y,x,A,_,N,E,C);if(!(_&u)){var L=O&&v.call(y,"__wrapped__"),F=I&&v.call(x,"__wrapped__");if(L||F){var G=L?y.value():y,K=F?x.value():x;return C||(C=new e),E(G,K,_,N,C)}}return D?(C||(C=new e),n(y,x,_,N,E,C)):!1}return Zb=b,Zb}var ew,dP;function OS(){if(dP)return ew;dP=1;var e=Yre(),t=Ya();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,l)}return ew=r,ew}var tw,hP;function Xre(){if(hP)return tw;hP=1;var e=iL(),t=OS(),r=1,n=2;function a(i,o,l,u){var h=l.length,f=h,p=!u;if(i==null)return!f;for(i=Object(i);h--;){var g=l[h];if(p&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++h<f;){g=l[h];var v=g[0],b=i[v],y=g[1];if(p&&g[2]){if(b===void 0&&!(v in i))return!1}else{var x=new e;if(u)var _=u(b,y,v,i,o,x);if(!(_===void 0?t(y,b,r|n,u,x):_))return!1}}return!0}return tw=a,tw}var rw,fP;function xL(){if(fP)return rw;fP=1;var e=$i();function t(r){return r===r&&!e(r)}return rw=t,rw}var nw,pP;function Jre(){if(pP)return nw;pP=1;var e=xL(),t=Xg();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,e(l)]}return a}return nw=r,nw}var sw,mP;function yL(){if(mP)return sw;mP=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return sw=e,sw}var aw,gP;function Qre(){if(gP)return aw;gP=1;var e=Xre(),t=Jre(),r=yL();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return aw=n,aw}var iw,xP;function Zre(){if(xP)return iw;xP=1;function e(t,r){return t!=null&&r in Object(t)}return iw=e,iw}var ow,yP;function ene(){if(yP)return ow;yP=1;var e=M6(),t=ES(),r=Sn(),n=AS(),a=TS(),i=Vg();function o(l,u,h){u=e(u,l);for(var f=-1,p=u.length,g=!1;++f<p;){var v=i(u[f]);if(!(g=l!=null&&h(l,v)))break;l=l[v]}return g||++f!=p?g:(p=l==null?0:l.length,!!p&&a(p)&&n(v,p)&&(r(l)||t(l)))}return ow=o,ow}var lw,vP;function tne(){if(vP)return lw;vP=1;var e=Zre(),t=ene();function r(n,a){return n!=null&&t(n,a,e)}return lw=r,lw}var cw,bP;function rne(){if(bP)return cw;bP=1;var e=OS(),t=$6(),r=tne(),n=hS(),a=xL(),i=yL(),o=Vg(),l=1,u=2;function h(f,p){return n(f)&&a(p)?i(o(f),p):function(g){var v=t(g,f);return v===void 0&&v===p?r(g,f):e(p,v,l|u)}}return cw=h,cw}var uw,wP;function Yc(){if(wP)return uw;wP=1;function e(t){return t}return uw=e,uw}var dw,jP;function nne(){if(jP)return dw;jP=1;function e(t){return function(r){return r?.[t]}}return dw=e,dw}var hw,NP;function sne(){if(NP)return hw;NP=1;var e=yS();function t(r){return function(n){return e(n,r)}}return hw=t,hw}var fw,_P;function ane(){if(_P)return fw;_P=1;var e=nne(),t=sne(),r=hS(),n=Vg();function a(i){return r(i)?e(n(i)):t(i)}return fw=a,fw}var pw,SP;function pa(){if(SP)return pw;SP=1;var e=Qre(),t=rne(),r=Yc(),n=Sn(),a=ane();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return pw=i,pw}var mw,kP;function vL(){if(kP)return mw;kP=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return mw=e,mw}var gw,EP;function ine(){if(EP)return gw;EP=1;function e(t){return t!==t}return gw=e,gw}var xw,AP;function one(){if(AP)return xw;AP=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return xw=e,xw}var yw,TP;function lne(){if(TP)return yw;TP=1;var e=vL(),t=ine(),r=one();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return yw=n,yw}var vw,OP;function cne(){if(OP)return vw;OP=1;var e=lne();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return vw=t,vw}var bw,CP;function une(){if(CP)return bw;CP=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return bw=e,bw}var ww,PP;function dne(){if(PP)return ww;PP=1;function e(){}return ww=e,ww}var jw,RP;function hne(){if(RP)return jw;RP=1;var e=gL(),t=dne(),r=kS(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return jw=a,jw}var Nw,IP;function fne(){if(IP)return Nw;IP=1;var e=oL(),t=cne(),r=une(),n=cL(),a=hne(),i=kS(),o=200;function l(u,h,f){var p=-1,g=t,v=u.length,b=!0,y=[],x=y;if(f)b=!1,g=r;else if(v>=o){var _=h?null:a(u);if(_)return i(_);b=!1,g=n,x=new e}else x=h?[]:y;e:for(;++p<v;){var N=u[p],E=h?h(N):N;if(N=f||N!==0?N:0,b&&E===E){for(var C=x.length;C--;)if(x[C]===E)continue e;h&&x.push(E),y.push(N)}else g(x,E,f)||(x!==y&&x.push(E),y.push(N))}return y}return Nw=l,Nw}var _w,DP;function pne(){if(DP)return _w;DP=1;var e=pa(),t=fne();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return _w=r,_w}var mne=pne();const MP=bt(mne);function bL(e,t,r){return t===!0?MP(e,r):Qe(t)?MP(e,t):e}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}var gne=["ref"];function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jL(n.key),n)}}function yne(e,t,r){return t&&LP(e.prototype,t),r&&LP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vne(e,t,r){return t=Nm(t),bne(e,wL()?Reflect.construct(t,r||[],Nm(e).constructor):t.apply(e,r))}function bne(e,t){if(t&&(uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(e)}function wne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!e})()}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(e)}function jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZN(e,t)}function ZN(e,t){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZN(e,t)}function Jg(e,t,r){return t=jL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=Nne(e,"string");return uc(t)=="symbol"?t:t+""}function Nne(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _ne(e,t){if(e==null)return{};var r=Sne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kne(e){return e.value}function Ene(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var r=_ne(t,gne);return B.createElement(SS,r)}var FP=1,ra=(function(e){function t(){var r;xne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vne(this,t,[].concat(a)),Jg(r,"lastBoundingBox",{width:-1,height:-1}),r}return jne(t,e),yne(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>FP||Math.abs(a.height-this.lastBoundingBox.height)>FP)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ka({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,u=a.margin,h=a.chartWidth,f=a.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();g={top:((f||0)-b.height)/2}}else g=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return ka(ka({},p),g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,u=a.wrapperStyle,h=a.payloadUniqBy,f=a.payload,p=ka(ka({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return B.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},Ene(i,ka(ka({},this.props),{},{payload:bL(f,h,kne)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ka(ka({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Se(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(w.PureComponent);Jg(ra,"displayName","Legend");Jg(ra,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Sw,UP;function Ane(){if(UP)return Sw;UP=1;var e=Th(),t=ES(),r=Sn(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return Sw=a,Sw}var kw,BP;function NL(){if(BP)return kw;BP=1;var e=dL(),t=Ane();function r(n,a,i,o,l){var u=-1,h=n.length;for(i||(i=t),l||(l=[]);++u<h;){var f=n[u];a>0&&i(f)?a>1?r(f,a-1,i,o,l):e(l,f):o||(l[l.length]=f)}return l}return kw=r,kw}var Ew,zP;function Tne(){if(zP)return Ew;zP=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),u=l.length;u--;){var h=l[t?u:++i];if(n(o[h],h,o)===!1)break}return r}}return Ew=e,Ew}var Aw,WP;function One(){if(WP)return Aw;WP=1;var e=Tne(),t=e();return Aw=t,Aw}var Tw,qP;function _L(){if(qP)return Tw;qP=1;var e=One(),t=Xg();function r(n,a){return n&&e(n,a,t)}return Tw=r,Tw}var Ow,VP;function Cne(){if(VP)return Ow;VP=1;var e=Oh();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,l=n?o:-1,u=Object(a);(n?l--:++l<o)&&i(u[l],l,u)!==!1;);return a}}return Ow=t,Ow}var Cw,HP;function CS(){if(HP)return Cw;HP=1;var e=_L(),t=Cne(),r=t(e);return Cw=r,Cw}var Pw,GP;function SL(){if(GP)return Pw;GP=1;var e=CS(),t=Oh();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,u,h){o[++i]=a(l,u,h)}),o}return Pw=r,Pw}var Rw,KP;function Pne(){if(KP)return Rw;KP=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Rw=e,Rw}var Iw,YP;function Rne(){if(YP)return Iw;YP=1;var e=Hc();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=e(r),u=n!==void 0,h=n===null,f=n===n,p=e(n);if(!h&&!p&&!l&&r>n||l&&u&&f&&!h&&!p||i&&u&&f||!a&&f||!o)return 1;if(!i&&!l&&!p&&r<n||p&&a&&o&&!i&&!l||h&&a&&o||!u&&o||!f)return-1}return 0}return Iw=t,Iw}var Dw,XP;function Ine(){if(XP)return Dw;XP=1;var e=Rne();function t(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,u=o.length,h=a.length;++i<u;){var f=e(o[i],l[i]);if(f){if(i>=h)return f;var p=a[i];return f*(p=="desc"?-1:1)}}return r.index-n.index}return Dw=t,Dw}var Mw,JP;function Dne(){if(JP)return Mw;JP=1;var e=xS(),t=yS(),r=pa(),n=SL(),a=Pne(),i=fL(),o=Ine(),l=Yc(),u=Sn();function h(f,p,g){p.length?p=e(p,function(y){return u(y)?function(x){return t(x,y.length===1?y[0]:y)}:y}):p=[l];var v=-1;p=e(p,i(r));var b=n(f,function(y,x,_){var N=e(p,function(E){return E(y)});return{criteria:N,index:++v,value:y}});return a(b,function(y,x){return o(y,x,g)})}return Mw=h,Mw}var $w,QP;function Mne(){if(QP)return $w;QP=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return $w=e,$w}var Lw,ZP;function $ne(){if(ZP)return Lw;ZP=1;var e=Mne(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,u=t(o.length-a,0),h=Array(u);++l<u;)h[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=i(h),e(n,this,f)}}return Lw=r,Lw}var Fw,eR;function Lne(){if(eR)return Fw;eR=1;function e(t){return function(){return t}}return Fw=e,Fw}var Uw,tR;function kL(){if(tR)return Uw;tR=1;var e=Jo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Uw=t,Uw}var Bw,rR;function Fne(){if(rR)return Bw;rR=1;var e=Lne(),t=kL(),r=Yc(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Bw=n,Bw}var zw,nR;function Une(){if(nR)return zw;nR=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return zw=n,zw}var Ww,sR;function Bne(){if(sR)return Ww;sR=1;var e=Fne(),t=Une(),r=t(e);return Ww=r,Ww}var qw,aR;function zne(){if(aR)return qw;aR=1;var e=Yc(),t=$ne(),r=Bne();function n(a,i){return r(t(a,i,e),a+"")}return qw=n,qw}var Vw,iR;function Qg(){if(iR)return Vw;iR=1;var e=pS(),t=Oh(),r=AS(),n=$i();function a(i,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],i):!1}return Vw=a,Vw}var Hw,oR;function Wne(){if(oR)return Hw;oR=1;var e=NL(),t=Dne(),r=zne(),n=Qg(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return Hw=a,Hw}var qne=Wne();const PS=bt(qne);function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}function Vne(e,t){return Yne(e)||Kne(e,t)||Gne(e,t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(e,t){if(e){if(typeof e=="string")return lR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(e,t)}}function lR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function Yne(e){if(Array.isArray(e))return e}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){Xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xne(e,t,r){return t=Jne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=Qne(e,"string");return Ld(t)=="symbol"?t:t+""}function Qne(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zne(e){return Array.isArray(e)&&Nr(e[0])&&Nr(e[1])?e.join(" ~ "):e}var ese=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,u=t.labelStyle,h=u===void 0?{}:u,f=t.payload,p=t.formatter,g=t.itemSorter,v=t.wrapperClassName,b=t.labelClassName,y=t.label,x=t.labelFormatter,_=t.accessibilityLayer,N=_===void 0?!1:_,E=function(){if(f&&f.length){var L={padding:0,margin:0},F=(g?PS(f,g):f).map(function(G,K){if(G.type==="none")return null;var U=Gw({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),q=G.formatter||p||Zne,M=G.value,V=G.name,Q=M,z=V;if(q&&Q!=null&&z!=null){var J=q(M,V,G,K,f);if(Array.isArray(J)){var le=Vne(J,2);Q=le[0],z=le[1]}else Q=J}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:U},Nr(z)?B.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Nr(z)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},Q),B.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:L},F)}return null},C=Gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=Gw({margin:0},h),k=!rt(y),A=k?y:"",P=nt("recharts-default-tooltip",v),O=nt("recharts-tooltip-label",b);k&&x&&f!==void 0&&f!==null&&(A=x(y,f));var I=N?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",e1({className:P,style:C},I),B.createElement("p",{className:O,style:S},B.isValidElement(A)?A:"".concat(A)),E())};function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function _p(e,t,r){return t=tse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tse(e){var t=rse(e,"string");return Fd(t)=="symbol"?t:t+""}function rse(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu="recharts-tooltip-wrapper",nse={visibility:"hidden"};function sse(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return nt(zu,_p(_p(_p(_p({},"".concat(zu,"-right"),Se(r)&&t&&Se(t.x)&&r>=t.x),"".concat(zu,"-left"),Se(r)&&t&&Se(t.x)&&r<t.x),"".concat(zu,"-bottom"),Se(n)&&t&&Se(t.y)&&n>=t.y),"".concat(zu,"-top"),Se(n)&&t&&Se(t.y)&&n<t.y))}function uR(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,u=e.viewBox,h=e.viewBoxDimension;if(i&&Se(i[n]))return i[n];var f=r[n]-l-a,p=r[n]+a;if(t[n])return o[n]?f:p;if(o[n]){var g=f,v=u[n];return g<v?Math.max(p,u[n]):Math.max(f,u[n])}var b=p+l,y=u[n]+h;return b>y?Math.max(f,u[n]):Math.max(p,u[n])}function ase(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ise(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox,h,f,p;return o.height>0&&o.width>0&&r?(f=uR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=uR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=ase({translateX:f,translateY:p,useTranslate3d:l})):h=nse,{cssProperties:h,cssClasses:sse({translateX:f,translateY:p,coordinate:r})}}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){r1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ose(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AL(n.key),n)}}function cse(e,t,r){return t&&lse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function use(e,t,r){return t=_m(t),dse(e,EL()?Reflect.construct(t,r||[],_m(e).constructor):t.apply(e,r))}function dse(e,t){if(t&&(dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hse(e)}function hse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EL=function(){return!!e})()}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(e)}function fse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t1(e,t)}function t1(e,t){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t1(e,t)}function r1(e,t,r){return t=AL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(e){var t=pse(e,"string");return dc(t)=="symbol"?t:t+""}function pse(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fR=1,mse=(function(e){function t(){var r;ose(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=use(this,t,[].concat(a)),r1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r1(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,h,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(h=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&h!==void 0?h:0}})}}),r}return fse(t,e),cse(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>fR||Math.abs(n.height-this.state.lastBoundingBox.height)>fR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,h=a.children,f=a.coordinate,p=a.hasPayload,g=a.isAnimationActive,v=a.offset,b=a.position,y=a.reverseDirection,x=a.useTranslate3d,_=a.viewBox,N=a.wrapperStyle,E=ise({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),C=E.cssClasses,S=E.cssProperties,k=hR(hR({transition:g&&i?"transform ".concat(l,"ms ").concat(u):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return B.createElement("div",{tabIndex:-1,className:C,style:k,ref:function(P){n.wrapperNode=P}},h)}}])})(w.PureComponent),gse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Li={isSsr:gse()};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){RS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OL(n.key),n)}}function vse(e,t,r){return t&&yse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bse(e,t,r){return t=Sm(t),wse(e,TL()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function wse(e,t){if(t&&(hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(e)}function jse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}function Nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n1(e,t)}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n1(e,t)}function RS(e,t,r){return t=OL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=_se(e,"string");return hc(t)=="symbol"?t:t+""}function _se(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sse(e){return e.dataKey}function kse(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(ese,t)}var Ut=(function(e){function t(){return xse(this,t),bse(this,t,arguments)}return Nse(t,e),vse(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,h=a.content,f=a.coordinate,p=a.filterNull,g=a.isAnimationActive,v=a.offset,b=a.payload,y=a.payloadUniqBy,x=a.position,_=a.reverseDirection,N=a.useTranslate3d,E=a.viewBox,C=a.wrapperStyle,S=b??[];p&&S.length&&(S=bL(b.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),y,Sse));var k=S.length>0;return B.createElement(mse,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:g,active:i,coordinate:f,hasPayload:k,offset:v,position:x,reverseDirection:_,useTranslate3d:N,viewBox:E,wrapperStyle:C},kse(h,mR(mR({},this.props),{},{payload:S})))}}])})(w.PureComponent);RS(Ut,"displayName","Tooltip");RS(Ut,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Li.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kw,gR;function Ese(){if(gR)return Kw;gR=1;var e=fa(),t=function(){return e.Date.now()};return Kw=t,Kw}var Yw,xR;function Ase(){if(xR)return Yw;xR=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Yw=t,Yw}var Xw,yR;function Tse(){if(yR)return Xw;yR=1;var e=Ase(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Xw=r,Xw}var Jw,vR;function CL(){if(vR)return Jw;vR=1;var e=Tse(),t=$i(),r=Hc(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return n;if(t(h)){var f=typeof h.valueOf=="function"?h.valueOf():h;h=t(f)?f+"":f}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=i.test(h);return p||o.test(h)?l(h.slice(2),p?2:8):a.test(h)?n:+h}return Jw=u,Jw}var Qw,bR;function Ose(){if(bR)return Qw;bR=1;var e=$i(),t=Ese(),r=CL(),n="Expected a function",a=Math.max,i=Math.min;function o(l,u,h){var f,p,g,v,b,y,x=0,_=!1,N=!1,E=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(h)&&(_=!!h.leading,N="maxWait"in h,g=N?a(r(h.maxWait)||0,u):g,E="trailing"in h?!!h.trailing:E);function C(F){var G=f,K=p;return f=p=void 0,x=F,v=l.apply(K,G),v}function S(F){return x=F,b=setTimeout(P,u),_?C(F):v}function k(F){var G=F-y,K=F-x,U=u-G;return N?i(U,g-K):U}function A(F){var G=F-y,K=F-x;return y===void 0||G>=u||G<0||N&&K>=g}function P(){var F=t();if(A(F))return O(F);b=setTimeout(P,k(F))}function O(F){return b=void 0,E&&f?C(F):(f=p=void 0,v)}function I(){b!==void 0&&clearTimeout(b),x=0,f=y=p=b=void 0}function D(){return b===void 0?v:O(t())}function L(){var F=t(),G=A(F);if(f=arguments,p=this,y=F,G){if(b===void 0)return S(y);if(N)return clearTimeout(b),b=setTimeout(P,u),C(y)}return b===void 0&&(b=setTimeout(P,u)),v}return L.cancel=I,L.flush=D,L}return Qw=o,Qw}var Zw,wR;function Cse(){if(wR)return Zw;wR=1;var e=Ose(),t=$i(),r="Expected a function";function n(a,i,o){var l=!0,u=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),e(a,i,{leading:l,maxWait:i,trailing:u})}return Zw=n,Zw}var Pse=Cse();const PL=bt(Pse);function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){Rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rse(e,t,r){return t=Ise(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ise(e){var t=Dse(e,"string");return Ud(t)=="symbol"?t:t+""}function Dse(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mse(e,t){return Use(e)||Fse(e,t)||Lse(e,t)||$se()}function $se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(e,t){if(e){if(typeof e=="string")return NR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(e,t)}}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function Use(e){if(Array.isArray(e))return e}var Zr=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,u=l===void 0?"100%":l,h=e.minWidth,f=h===void 0?0:h,p=e.minHeight,g=e.maxHeight,v=e.children,b=e.debounce,y=b===void 0?0:b,x=e.id,_=e.className,N=e.onResize,E=e.style,C=E===void 0?{}:E,S=w.useRef(null),k=w.useRef();k.current=N,w.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=w.useState({containerWidth:a.width,containerHeight:a.height}),P=Mse(A,2),O=P[0],I=P[1],D=w.useCallback(function(F,G){I(function(K){var U=Math.round(F),q=Math.round(G);return K.containerWidth===U&&K.containerHeight===q?K:{containerWidth:U,containerHeight:q}})},[]);w.useEffect(function(){var F=function(V){var Q,z=V[0].contentRect,J=z.width,le=z.height;D(J,le),(Q=k.current)===null||Q===void 0||Q.call(k,J,le)};y>0&&(F=PL(F,y,{trailing:!0,leading:!1}));var G=new ResizeObserver(F),K=S.current.getBoundingClientRect(),U=K.width,q=K.height;return D(U,q),G.observe(S.current),function(){G.disconnect()}},[D,y]);var L=w.useMemo(function(){var F=O.containerWidth,G=O.containerHeight;if(F<0||G<0)return null;As(jo(o)||jo(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),As(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=jo(o)?F:o,U=jo(u)?G:u;r&&r>0&&(K?U=K/r:U&&(K=U*r),g&&U>g&&(U=g)),As(K>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,U,o,u,f,p,r);var q=!Array.isArray(v)&&$a(v.type).endsWith("Chart");return B.Children.map(v,function(M){return B.isValidElement(M)?w.cloneElement(M,Sp({width:K,height:U},q?{style:Sp({height:"100%",width:"100%",maxHeight:U,maxWidth:K},M.props.style)}:{})):M})},[r,v,u,g,p,f,O,o]);return B.createElement("div",{id:x?"".concat(x):void 0,className:nt("recharts-responsive-container",_),style:Sp(Sp({},C),{},{width:o,height:u,minWidth:f,minHeight:p,maxHeight:g}),ref:S},L)}),Xc=function(t){return null};Xc.displayName="Cell";function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return t=zse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zse(e){var t=Wse(e,"string");return Bd(t)=="symbol"?t:t+""}function Wse(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Il={widthCache:{},cacheCount:0},qse=2e3,Vse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SR="recharts_measurement_span";function Hse(e){var t=s1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var hd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Li.isSsr)return{width:0,height:0};var n=Hse(r),a=JSON.stringify({text:t,copyStyle:n});if(Il.widthCache[a])return Il.widthCache[a];try{var i=document.getElementById(SR);i||(i=document.createElement("span"),i.setAttribute("id",SR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=s1(s1({},Vse),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),u={width:l.width,height:l.height};return Il.widthCache[a]=u,++Il.cacheCount>qse&&(Il.cacheCount=0,Il.widthCache={}),u}catch{return{width:0,height:0}}},Gse=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function km(e,t){return Jse(e)||Xse(e,t)||Yse(e,t)||Kse()}function Kse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(e,t){if(e){if(typeof e=="string")return kR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kR(e,t)}}function kR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function Jse(e){if(Array.isArray(e))return e}function Qse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ER(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eae(n.key),n)}}function Zse(e,t,r){return t&&ER(e.prototype,t),r&&ER(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eae(e){var t=tae(e,"string");return zd(t)=="symbol"?t:t+""}function tae(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sae=Object.keys(RL),Wl="NaN";function aae(e,t){return e*RL[t]}var kp=(function(){function e(t,r){Qse(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rae.test(r)&&(this.num=NaN,this.unit=""),sae.includes(r)&&(this.num=aae(t,r),this.unit="px")}return Zse(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=nae.exec(r))!==null&&n!==void 0?n:[],i=km(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function IL(e){if(e.includes(Wl))return Wl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=AR.exec(t))!==null&&r!==void 0?r:[],a=km(n,4),i=a[1],o=a[2],l=a[3],u=kp.parse(i??""),h=kp.parse(l??""),f=o==="*"?u.multiply(h):u.divide(h);if(f.isNaN())return Wl;t=t.replace(AR,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=TR.exec(t))!==null&&p!==void 0?p:[],v=km(g,4),b=v[1],y=v[2],x=v[3],_=kp.parse(b??""),N=kp.parse(x??""),E=y==="+"?_.add(N):_.subtract(N);if(E.isNaN())return Wl;t=t.replace(TR,E.toString())}return t}var OR=/\(([^()]*)\)/;function iae(e){for(var t=e;t.includes("(");){var r=OR.exec(t),n=km(r,2),a=n[1];t=t.replace(OR,IL(a))}return t}function oae(e){var t=e.replace(/\s+/g,"");return t=iae(t),t=IL(t),t}function lae(e){try{return oae(e)}catch{return Wl}}function ej(e){var t=lae(e.slice(5,-1));return t===Wl?"":t}var cae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uae=["dx","dy","angle","className","breakAll"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(this,arguments)}function CR(e,t){if(e==null)return{};var r=dae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PR(e,t){return mae(e)||pae(e,t)||fae(e,t)||hae()}function hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(e,t){if(e){if(typeof e=="string")return RR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RR(e,t)}}function RR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function mae(e){if(Array.isArray(e))return e}var DL=/[ \f\n\r\t\v\u2028\u2029]+/,ML=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];rt(r)||(n?i=r.toString().split(""):i=r.toString().split(DL));var o=i.map(function(u){return{word:u,width:hd(u,a).width}}),l=n?0:hd("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gae=function(t,r,n,a,i){var o=t.maxLines,l=t.children,u=t.style,h=t.breakAll,f=Se(o),p=l,g=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(U,q){var M=q.word,V=q.width,Q=U[U.length-1];if(Q&&(a==null||i||Q.width+V+n<Number(a)))Q.words.push(M),Q.width+=V+n;else{var z={words:[M],width:V};U.push(z)}return U},[])},v=g(r),b=function(K){return K.reduce(function(U,q){return U.width>q.width?U:q})};if(!f)return v;for(var y="",x=function(K){var U=p.slice(0,K),q=ML({breakAll:h,style:u,children:U+y}).wordsWithComputedWidth,M=g(q),V=M.length>o||b(M).width>Number(a);return[V,M]},_=0,N=p.length-1,E=0,C;_<=N&&E<=p.length-1;){var S=Math.floor((_+N)/2),k=S-1,A=x(k),P=PR(A,2),O=P[0],I=P[1],D=x(S),L=PR(D,1),F=L[0];if(!O&&!F&&(_=S+1),O&&F&&(N=S-1),!O&&F){C=I;break}E++}return C||v},IR=function(t){var r=rt(t)?[]:t.toString().split(DL);return[{words:r}]},xae=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Li.isSsr){var u,h,f=ML({breakAll:o,children:a,style:i});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;u=p,h=g}else return IR(a);return gae({breakAll:o,children:a,maxLines:l,style:i},u,h,r,n)}return IR(a)},DR="#808080",Mo=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,u=t.capHeight,h=u===void 0?"0.71em":u,f=t.scaleToFit,p=f===void 0?!1:f,g=t.textAnchor,v=g===void 0?"start":g,b=t.verticalAnchor,y=b===void 0?"end":b,x=t.fill,_=x===void 0?DR:x,N=CR(t,cae),E=w.useMemo(function(){return xae({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),C=N.dx,S=N.dy,k=N.angle,A=N.className,P=N.breakAll,O=CR(N,uae);if(!Nr(n)||!Nr(i))return null;var I=n+(Se(C)?C:0),D=i+(Se(S)?S:0),L;switch(y){case"start":L=ej("calc(".concat(h,")"));break;case"middle":L=ej("calc(".concat((E.length-1)/2," * -").concat(l," + (").concat(h," / 2))"));break;default:L=ej("calc(".concat(E.length-1," * -").concat(l,")"));break}var F=[];if(p){var G=E[0].width,K=N.width;F.push("scale(".concat((Se(K)?K/G:1)/G,")"))}return k&&F.push("rotate(".concat(k,", ").concat(I,", ").concat(D,")")),F.length&&(O.transform=F.join(" ")),B.createElement("text",a1({},ze(O,!0),{x:I,y:D,className:nt("recharts-text",A),textAnchor:v,fill:_.includes("url")?DR:_}),E.map(function(U,q){var M=U.words.join(P?"":" ");return B.createElement("tspan",{x:I,dy:q===0?L:l,key:"".concat(M,"-").concat(q)},M)}))};function Oi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IS(e){let t,r,n;e.length!==2?(t=Oi,r=(l,u)=>Oi(e(l),u),n=(l,u)=>e(l)-u):(t=e===Oi||e===yae?e:vae,r=e,n=e);function a(l,u,h=0,f=l.length){if(h<f){if(t(u,u)!==0)return f;do{const p=h+f>>>1;r(l[p],u)<0?h=p+1:f=p}while(h<f)}return h}function i(l,u,h=0,f=l.length){if(h<f){if(t(u,u)!==0)return f;do{const p=h+f>>>1;r(l[p],u)<=0?h=p+1:f=p}while(h<f)}return h}function o(l,u,h=0,f=l.length){const p=a(l,u,h,f-1);return p>h&&n(l[p-1],u)>-n(l[p],u)?p-1:p}return{left:a,center:o,right:i}}function vae(){return 0}function $L(e){return e===null?NaN:+e}function*bae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wae=IS(Oi),Ch=wae.right;IS($L).center;class MR extends Map{constructor(t,r=_ae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get($R(this,t))}has(t){return super.has($R(this,t))}set(t,r){return super.set(jae(this,t),r)}delete(t){return super.delete(Nae(this,t))}}function $R({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _ae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Sae(e=Oi){if(e===Oi)return LL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function LL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kae=Math.sqrt(50),Eae=Math.sqrt(10),Aae=Math.sqrt(2);function Em(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=kae?10:i>=Eae?5:i>=Aae?2:1;let l,u,h;return a<0?(h=Math.pow(10,-a)/o,l=Math.round(e*h),u=Math.round(t*h),l/h<e&&++l,u/h>t&&--u,h=-h):(h=Math.pow(10,a)*o,l=Math.round(e/h),u=Math.round(t/h),l*h<e&&++l,u*h>t&&--u),u<l&&.5<=r&&r<2?Em(e,t,r*2):[l,u,h]}function i1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Em(t,e,r):Em(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(o<0)for(let h=0;h<l;++h)u[h]=(i-h)/-o;else for(let h=0;h<l;++h)u[h]=(i-h)*o;else if(o<0)for(let h=0;h<l;++h)u[h]=(a+h)/-o;else for(let h=0;h<l;++h)u[h]=(a+h)*o;return u}function o1(e,t,r){return t=+t,e=+e,r=+r,Em(e,t,r)[2]}function l1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?o1(t,e,r):o1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function LR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?LL:Sae(a);n>r;){if(n-r>600){const u=n-r+1,h=t-r+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(h-u/2<0?-1:1),v=Math.max(r,Math.floor(t-h*p/u+g)),b=Math.min(n,Math.floor(t+(u-h)*p/u+g));FL(e,t,v,b,a)}const i=e[t];let o=r,l=n;for(Wu(e,r,t),a(e[n],i)>0&&Wu(e,r,n);o<l;){for(Wu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Wu(e,r,l):(++l,Wu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Wu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Tae(e,t,r){if(e=Float64Array.from(bae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FR(e);if(t>=1)return LR(e);var n,a=(n-1)*t,i=Math.floor(a),o=LR(FL(e,i).subarray(0,i+1)),l=FR(e.subarray(i+1));return o+(l-o)*(a-i)}}function Oae(e,t,r=$L){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Cae(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ds(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const c1=Symbol("implicit");function DS(){var e=new MR,t=[],r=[],n=c1;function a(i){let o=e.get(i);if(o===void 0){if(n!==c1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new MR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return DS(t,r).unknown(n)},ds.apply(a,arguments),a}function Wd(){var e=DS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,u=0,h=0,f=.5;delete e.unknown;function p(){var g=t().length,v=a<n,b=v?a:n,y=v?n:a;i=(y-b)/Math.max(1,g-u+h*2),l&&(i=Math.floor(i)),b+=(y-b-i*(g-u))*f,o=i*(1-u),l&&(b=Math.round(b),o=Math.round(o));var x=Cae(g).map(function(_){return b+i*_});return r(v?x.reverse():x)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return Wd(t(),[n,a]).round(l).paddingInner(u).paddingOuter(h).align(f)},ds.apply(p(),arguments)}function UL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UL(t())},e}function fd(){return UL(Wd.apply(null,arguments).paddingInner(1))}function MS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ph(){}var qd=.7,Am=1/qd,rc="\\s*([+-]?\\d+)\\s*",Vd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pae=/^#([0-9a-f]{3,8})$/,Rae=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),Iae=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),Dae=new RegExp(`^rgba\\(${rc},${rc},${rc},${Vd}\\)$`),Mae=new RegExp(`^rgba\\(${na},${na},${na},${Vd}\\)$`),$ae=new RegExp(`^hsl\\(${Vd},${na},${na}\\)$`),Lae=new RegExp(`^hsla\\(${Vd},${na},${na},${Vd}\\)$`),UR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MS(Ph,Hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BR,formatHex:BR,formatHex8:Fae,formatHsl:Uae,formatRgb:zR,toString:zR});function BR(){return this.rgb().formatHex()}function Fae(){return this.rgb().formatHex8()}function Uae(){return zL(this).formatHsl()}function zR(){return this.rgb().formatRgb()}function Hd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?WR(t):r===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ep(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ep(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rae.exec(e))?new bn(t[1],t[2],t[3],1):(t=Iae.exec(e))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dae.exec(e))?Ep(t[1],t[2],t[3],t[4]):(t=Mae.exec(e))?Ep(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$ae.exec(e))?HR(t[1],t[2]/100,t[3]/100,1):(t=Lae.exec(e))?HR(t[1],t[2]/100,t[3]/100,t[4]):UR.hasOwnProperty(e)?WR(UR[e]):e==="transparent"?new bn(NaN,NaN,NaN,0):null}function WR(e){return new bn(e>>16&255,e>>8&255,e&255,1)}function Ep(e,t,r,n){return n<=0&&(e=t=r=NaN),new bn(e,t,r,n)}function Bae(e){return e instanceof Ph||(e=Hd(e)),e?(e=e.rgb(),new bn(e.r,e.g,e.b,e.opacity)):new bn}function u1(e,t,r,n){return arguments.length===1?Bae(e):new bn(e,t,r,n??1)}function bn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}MS(bn,u1,BL(Ph,{brighter(e){return e=e==null?Am:Math.pow(Am,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qd:Math.pow(qd,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn(Ao(this.r),Ao(this.g),Ao(this.b),Tm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qR,formatHex:qR,formatHex8:zae,formatRgb:VR,toString:VR}));function qR(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function zae(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No((isNaN(this.opacity)?1:this.opacity)*255)}`}function VR(){const e=Tm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ao(this.r)}, ${Ao(this.g)}, ${Ao(this.b)}${e===1?")":`, ${e})`}`}function Tm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function No(e){return e=Ao(e),(e<16?"0":"")+e.toString(16)}function HR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ks(e,t,r,n)}function zL(e){if(e instanceof ks)return new ks(e.h,e.s,e.l,e.opacity);if(e instanceof Ph||(e=Hd(e)),!e)return new ks;if(e instanceof ks)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new ks(o,l,u,e.opacity)}function Wae(e,t,r,n){return arguments.length===1?zL(e):new ks(e,t,r,n??1)}function ks(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}MS(ks,Wae,BL(Ph,{brighter(e){return e=e==null?Am:Math.pow(Am,e),new ks(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qd:Math.pow(qd,e),new ks(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new bn(tj(e>=240?e-240:e+120,a,n),tj(e,a,n),tj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ks(GR(this.h),Ap(this.s),Ap(this.l),Tm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tm(this.opacity);return`${e===1?"hsl(":"hsla("}${GR(this.h)}, ${Ap(this.s)*100}%, ${Ap(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GR(e){return e=(e||0)%360,e<0?e+360:e}function Ap(e){return Math.max(0,Math.min(1,e||0))}function tj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $S=e=>()=>e;function qae(e,t){return function(r){return e+r*t}}function Vae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Hae(e){return(e=+e)==1?WL:function(t,r){return r-t?Vae(t,r,e):$S(isNaN(t)?r:t)}}function WL(e,t){var r=t-e;return r?qae(e,r):$S(isNaN(e)?t:e)}const KR=(function e(t){var r=Hae(t);function n(a,i){var o=r((a=u1(a)).r,(i=u1(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),h=WL(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=h(f),a+""}}return n.gamma=e,n})(1);function Gae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Kae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yae(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Jc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Xae(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Om(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jae(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Jc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var d1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rj=new RegExp(d1.source,"g");function Qae(e){return function(){return e}}function Zae(e){return function(t){return e(t)+""}}function eie(e,t){var r=d1.lastIndex=rj.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=d1.exec(e))&&(a=rj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Om(n,a)})),r=rj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?Zae(u[0].x):Qae(t):(t=u.length,function(h){for(var f=0,p;f<t;++f)l[(p=u[f]).i]=p.x(h);return l.join("")})}function Jc(e,t){var r=typeof t,n;return t==null||r==="boolean"?$S(t):(r==="number"?Om:r==="string"?(n=Hd(t))?(t=n,KR):eie:t instanceof Hd?KR:t instanceof Date?Xae:Kae(t)?Gae:Array.isArray(t)?Yae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jae:Om)(e,t)}function LS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tie(e,t){t===void 0&&(t=e,e=Jc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function rie(e){return function(){return e}}function Cm(e){return+e}var YR=[0,1];function ln(e){return e}function h1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rie(isNaN(t)?NaN:.5)}function nie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sie(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=h1(a,n),i=r(o,i)):(n=h1(n,a),i=r(i,o)),function(l){return i(n(l))}}function aie(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=h1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=Ch(e,l,1,n)-1;return i[u](a[u](l))}}function Rh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zg(){var e=YR,t=YR,r=Jc,n,a,i,o=ln,l,u,h;function f(){var g=Math.min(e.length,t.length);return o!==ln&&(o=nie(e[0],e[g-1])),l=g>2?aie:sie,u=h=null,p}function p(g){return g==null||isNaN(g=+g)?i:(u||(u=l(e.map(n),t,r)))(n(o(g)))}return p.invert=function(g){return o(a((h||(h=l(t,e.map(n),Om)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Cm),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=LS,f()},p.clamp=function(g){return arguments.length?(o=g?!0:ln,f()):o!==ln},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,v){return n=g,a=v,f()}}function FS(){return Zg()(ln,ln)}function iie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fc(e){return e=Pm(Math.abs(e)),e?e[1]:NaN}function oie(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function lie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gd(e){if(!(t=cie.exec(e)))throw new Error("invalid format: "+e);var t;return new US({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gd.prototype=US.prototype;function US(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}US.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uie(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var qL;function die(e,t){var r=Pm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(qL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pm(e,Math.max(0,t+i-1))[0]}function XR(e,t){var r=Pm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const JR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XR(e*100,t),r:XR,s:die,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QR(e){return e}var ZR=Array.prototype.map,e4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hie(e){var t=e.grouping===void 0||e.thousands===void 0?QR:oie(ZR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?QR:lie(ZR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=Gd(p);var g=p.fill,v=p.align,b=p.sign,y=p.symbol,x=p.zero,_=p.width,N=p.comma,E=p.precision,C=p.trim,S=p.type;S==="n"?(N=!0,S="g"):JR[S]||(E===void 0&&(E=12),C=!0,S="g"),(x||g==="0"&&v==="=")&&(x=!0,g="0",v="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?n:/[%p]/.test(S)?o:"",P=JR[S],O=/[defgprs%]/.test(S);E=E===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(D){var L=k,F=A,G,K,U;if(S==="c")F=P(D)+F,D="";else{D=+D;var q=D<0||1/D<0;if(D=isNaN(D)?u:P(Math.abs(D),E),C&&(D=uie(D)),q&&+D==0&&b!=="+"&&(q=!1),L=(q?b==="("?b:l:b==="-"||b==="("?"":b)+L,F=(S==="s"?e4[8+qL/3]:"")+F+(q&&b==="("?")":""),O){for(G=-1,K=D.length;++G<K;)if(U=D.charCodeAt(G),48>U||U>57){F=(U===46?a+D.slice(G+1):D.slice(G))+F,D=D.slice(0,G);break}}}N&&!x&&(D=t(D,1/0));var M=L.length+D.length+F.length,V=M<_?new Array(_-M+1).join(g):"";switch(N&&x&&(D=t(V+D,V.length?_-F.length:1/0),V=""),v){case"<":D=L+D+F+V;break;case"=":D=L+V+D+F;break;case"^":D=V.slice(0,M=V.length>>1)+L+D+F+V.slice(M);break;default:D=V+L+D+F;break}return i(D)}return I.toString=function(){return p+""},I}function f(p,g){var v=h((p=Gd(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(fc(g)/3)))*3,y=Math.pow(10,-b),x=e4[8+b/3];return function(_){return v(y*_)+x}}return{format:h,formatPrefix:f}}var Tp,BS,VL;fie({thousands:",",grouping:[3],currency:["$",""]});function fie(e){return Tp=hie(e),BS=Tp.format,VL=Tp.formatPrefix,Tp}function pie(e){return Math.max(0,-fc(Math.abs(e)))}function mie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(t)/3)))*3-fc(Math.abs(e)))}function gie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fc(t)-fc(e))+1}function HL(e,t,r,n){var a=l1(e,t,r),i;switch(n=Gd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mie(a,o))&&(n.precision=i),VL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gie(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pie(a))&&(n.precision=i-(n.type==="%")*2);break}}return BS(n)}function Fi(e){var t=e.domain;return e.ticks=function(r){var n=t();return i1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return HL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],u,h,f=10;for(l<o&&(h=o,o=l,l=h,h=a,a=i,i=h);f-- >0;){if(h=o1(o,l,r),h===u)return n[a]=o,n[i]=l,t(n);if(h>0)o=Math.floor(o/h)*h,l=Math.ceil(l/h)*h;else if(h<0)o=Math.ceil(o*h)/h,l=Math.floor(l*h)/h;else break;u=h}return e},e}function Rm(){var e=FS();return e.copy=function(){return Rh(e,Rm())},ds.apply(e,arguments),Fi(e)}function GL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Cm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GL(e).unknown(t)},e=arguments.length?Array.from(e,Cm):[0,1],Fi(r)}function KL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function t4(e){return Math.log(e)}function r4(e){return Math.exp(e)}function xie(e){return-Math.log(-e)}function yie(e){return-Math.exp(-e)}function vie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bie(e){return e===10?vie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n4(e){return(t,r)=>-e(-t,r)}function zS(e){const t=e(t4,r4),r=t.domain;let n=10,a,i;function o(){return a=wie(n),i=bie(n),r()[0]<0?(a=n4(a),i=n4(i),e(xie,yie)):e(t4,r4),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let h=u[0],f=u[u.length-1];const p=f<h;p&&([h,f]=[f,h]);let g=a(h),v=a(f),b,y;const x=l==null?10:+l;let _=[];if(!(n%1)&&v-g<x){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(b=1;b<n;++b)if(y=g<0?b/i(-g):b*i(g),!(y<h)){if(y>f)break;_.push(y)}}else for(;g<=v;++g)for(b=n-1;b>=1;--b)if(y=g>0?b/i(-g):b*i(g),!(y<h)){if(y>f)break;_.push(y)}_.length*2<x&&(_=i1(h,f,x))}else _=i1(g,v,Math.min(v-g,x)).map(i);return p?_.reverse():_},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Gd(u)).precision==null&&(u.trim=!0),u=BS(u)),l===1/0)return u;const h=Math.max(1,n*l/t.ticks().length);return f=>{let p=f/i(Math.round(a(f)));return p*n<n-.5&&(p*=n),p<=h?u(f):""}},t.nice=()=>r(KL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function YL(){const e=zS(Zg()).domain([1,10]);return e.copy=()=>Rh(e,YL()).base(e.base()),ds.apply(e,arguments),e}function s4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function a4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function WS(e){var t=1,r=e(s4(t),a4(t));return r.constant=function(n){return arguments.length?e(s4(t=+n),a4(t)):t},Fi(r)}function XL(){var e=WS(Zg());return e.copy=function(){return Rh(e,XL()).constant(e.constant())},ds.apply(e,arguments)}function i4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nie(e){return e<0?-e*e:e*e}function qS(e){var t=e(ln,ln),r=1;function n(){return r===1?e(ln,ln):r===.5?e(jie,Nie):e(i4(r),i4(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Fi(t)}function VS(){var e=qS(Zg());return e.copy=function(){return Rh(e,VS()).exponent(e.exponent())},ds.apply(e,arguments),e}function _ie(){return VS.apply(null,arguments).exponent(.5)}function o4(e){return Math.sign(e)*e*e}function Sie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JL(){var e=FS(),t=[0,1],r=!1,n;function a(i){var o=Sie(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(o4(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Cm)).map(o4)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ds.apply(a,arguments),Fi(a)}function QL(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Oae(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Ch(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Oi),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return QL().domain(e).range(t).unknown(n)},ds.apply(i,arguments)}function ZL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Ch(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var h=a.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ZL().domain([e,t]).range(a).unknown(i)},ds.apply(Fi(o),arguments)}function eF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ch(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return eF().domain(e).range(t).unknown(r)},ds.apply(a,arguments)}const nj=new Date,sj=new Date;function Sr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let h;do u.push(h=new Date(+i)),t(i,l),e(i);while(h<i&&i<o);return u},a.filter=i=>Sr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(nj.setTime(+i),sj.setTime(+o),e(nj),e(sj),Math.floor(r(nj,sj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Im=Sr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Im.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Im);Im.range;const Pa=1e3,ls=Pa*60,Ra=ls*60,qa=Ra*24,HS=qa*7,l4=qa*30,aj=qa*365,_o=Sr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCSeconds());_o.range;const GS=Sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pa)},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getMinutes());GS.range;const KS=Sr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getUTCMinutes());KS.range;const YS=Sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pa-e.getMinutes()*ls)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getHours());YS.range;const XS=Sr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCHours());XS.range;const Ih=Sr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ls)/qa,e=>e.getDate()-1);Ih.range;const ex=Sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qa,e=>e.getUTCDate()-1);ex.range;const tF=Sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qa,e=>Math.floor(e/qa));tF.range;function Zo(e){return Sr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ls)/HS)}const tx=Zo(0),Dm=Zo(1),kie=Zo(2),Eie=Zo(3),pc=Zo(4),Aie=Zo(5),Tie=Zo(6);tx.range;Dm.range;kie.range;Eie.range;pc.range;Aie.range;Tie.range;function el(e){return Sr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/HS)}const rx=el(0),Mm=el(1),Oie=el(2),Cie=el(3),mc=el(4),Pie=el(5),Rie=el(6);rx.range;Mm.range;Oie.range;Cie.range;mc.range;Pie.range;Rie.range;const JS=Sr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());JS.range;const QS=Sr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());QS.range;const Va=Sr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Va.range;const Ha=Sr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ha.range;function rF(e,t,r,n,a,i){const o=[[_o,1,Pa],[_o,5,5*Pa],[_o,15,15*Pa],[_o,30,30*Pa],[i,1,ls],[i,5,5*ls],[i,15,15*ls],[i,30,30*ls],[a,1,Ra],[a,3,3*Ra],[a,6,6*Ra],[a,12,12*Ra],[n,1,qa],[n,2,2*qa],[r,1,HS],[t,1,l4],[t,3,3*l4],[e,1,aj]];function l(h,f,p){const g=f<h;g&&([h,f]=[f,h]);const v=p&&typeof p.range=="function"?p:u(h,f,p),b=v?v.range(h,+f+1):[];return g?b.reverse():b}function u(h,f,p){const g=Math.abs(f-h)/p,v=IS(([,,x])=>x).right(o,g);if(v===o.length)return e.every(l1(h/aj,f/aj,p));if(v===0)return Im.every(Math.max(l1(h,f,p),1));const[b,y]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return b.every(y)}return[l,u]}const[Iie,Die]=rF(Ha,QS,rx,tF,XS,KS),[Mie,$ie]=rF(Va,JS,tx,Ih,YS,GS);function ij(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Lie(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,h=Vu(a),f=Hu(a),p=Vu(i),g=Hu(i),v=Vu(o),b=Hu(o),y=Vu(l),x=Hu(l),_=Vu(u),N=Hu(u),E={a:q,A:M,b:V,B:Q,c:null,d:p4,e:p4,f:ooe,g:xoe,G:voe,H:soe,I:aoe,j:ioe,L:nF,m:loe,M:coe,p:z,q:J,Q:x4,s:y4,S:uoe,u:doe,U:hoe,V:foe,w:poe,W:moe,x:null,X:null,y:goe,Y:yoe,Z:boe,"%":g4},C={a:le,A:se,b:xe,B:X,c:null,d:m4,e:m4,f:_oe,g:Ioe,G:Moe,H:woe,I:joe,j:Noe,L:aF,m:Soe,M:koe,p:re,q:me,Q:x4,s:y4,S:Eoe,u:Aoe,U:Toe,V:Ooe,w:Coe,W:Poe,x:null,X:null,y:Roe,Y:Doe,Z:$oe,"%":g4},S={a:I,A:D,b:L,B:F,c:G,d:h4,e:h4,f:eoe,g:d4,G:u4,H:f4,I:f4,j:Xie,L:Zie,m:Yie,M:Jie,p:O,q:Kie,Q:roe,s:noe,S:Qie,u:Wie,U:qie,V:Vie,w:zie,W:Hie,x:K,X:U,y:d4,Y:u4,Z:Gie,"%":toe};E.x=k(r,E),E.X=k(n,E),E.c=k(t,E),C.x=k(r,C),C.X=k(n,C),C.c=k(t,C);function k(fe,ye){return function(ve){var ce=[],Oe=-1,Ie=0,it=fe.length,at,lt,Mt;for(ve instanceof Date||(ve=new Date(+ve));++Oe<it;)fe.charCodeAt(Oe)===37&&(ce.push(fe.slice(Ie,Oe)),(lt=c4[at=fe.charAt(++Oe)])!=null?at=fe.charAt(++Oe):lt=at==="e"?" ":"0",(Mt=ye[at])&&(at=Mt(ve,lt)),ce.push(at),Ie=Oe+1);return ce.push(fe.slice(Ie,Oe)),ce.join("")}}function A(fe,ye){return function(ve){var ce=qu(1900,void 0,1),Oe=P(ce,fe,ve+="",0),Ie,it;if(Oe!=ve.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(ye&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ie=oj(qu(ce.y,0,1)),it=Ie.getUTCDay(),Ie=it>4||it===0?Mm.ceil(Ie):Mm(Ie),Ie=ex.offset(Ie,(ce.V-1)*7),ce.y=Ie.getUTCFullYear(),ce.m=Ie.getUTCMonth(),ce.d=Ie.getUTCDate()+(ce.w+6)%7):(Ie=ij(qu(ce.y,0,1)),it=Ie.getDay(),Ie=it>4||it===0?Dm.ceil(Ie):Dm(Ie),Ie=Ih.offset(Ie,(ce.V-1)*7),ce.y=Ie.getFullYear(),ce.m=Ie.getMonth(),ce.d=Ie.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),it="Z"in ce?oj(qu(ce.y,0,1)).getUTCDay():ij(qu(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(it+5)%7:ce.w+ce.U*7-(it+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,oj(ce)):ij(ce)}}function P(fe,ye,ve,ce){for(var Oe=0,Ie=ye.length,it=ve.length,at,lt;Oe<Ie;){if(ce>=it)return-1;if(at=ye.charCodeAt(Oe++),at===37){if(at=ye.charAt(Oe++),lt=S[at in c4?ye.charAt(Oe++):at],!lt||(ce=lt(fe,ve,ce))<0)return-1}else if(at!=ve.charCodeAt(ce++))return-1}return ce}function O(fe,ye,ve){var ce=h.exec(ye.slice(ve));return ce?(fe.p=f.get(ce[0].toLowerCase()),ve+ce[0].length):-1}function I(fe,ye,ve){var ce=v.exec(ye.slice(ve));return ce?(fe.w=b.get(ce[0].toLowerCase()),ve+ce[0].length):-1}function D(fe,ye,ve){var ce=p.exec(ye.slice(ve));return ce?(fe.w=g.get(ce[0].toLowerCase()),ve+ce[0].length):-1}function L(fe,ye,ve){var ce=_.exec(ye.slice(ve));return ce?(fe.m=N.get(ce[0].toLowerCase()),ve+ce[0].length):-1}function F(fe,ye,ve){var ce=y.exec(ye.slice(ve));return ce?(fe.m=x.get(ce[0].toLowerCase()),ve+ce[0].length):-1}function G(fe,ye,ve){return P(fe,t,ye,ve)}function K(fe,ye,ve){return P(fe,r,ye,ve)}function U(fe,ye,ve){return P(fe,n,ye,ve)}function q(fe){return o[fe.getDay()]}function M(fe){return i[fe.getDay()]}function V(fe){return u[fe.getMonth()]}function Q(fe){return l[fe.getMonth()]}function z(fe){return a[+(fe.getHours()>=12)]}function J(fe){return 1+~~(fe.getMonth()/3)}function le(fe){return o[fe.getUTCDay()]}function se(fe){return i[fe.getUTCDay()]}function xe(fe){return u[fe.getUTCMonth()]}function X(fe){return l[fe.getUTCMonth()]}function re(fe){return a[+(fe.getUTCHours()>=12)]}function me(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var ye=k(fe+="",E);return ye.toString=function(){return fe},ye},parse:function(fe){var ye=A(fe+="",!1);return ye.toString=function(){return fe},ye},utcFormat:function(fe){var ye=k(fe+="",C);return ye.toString=function(){return fe},ye},utcParse:function(fe){var ye=A(fe+="",!0);return ye.toString=function(){return fe},ye}}}var c4={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,Fie=/^%/,Uie=/[\\^$*+?|[\]().{}]/g;function vt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Bie(e){return e.replace(Uie,"\\$&")}function Vu(e){return new RegExp("^(?:"+e.map(Bie).join("|")+")","i")}function Hu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zie(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Wie(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qie(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Vie(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hie(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function u4(e,t,r){var n=Mr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function d4(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kie(e,t,r){var n=Mr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Yie(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function h4(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xie(e,t,r){var n=Mr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function f4(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jie(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Qie(e,t,r){var n=Mr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zie(e,t,r){var n=Mr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eoe(e,t,r){var n=Mr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function toe(e,t,r){var n=Fie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function roe(e,t,r){var n=Mr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function noe(e,t,r){var n=Mr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function p4(e,t){return vt(e.getDate(),t,2)}function soe(e,t){return vt(e.getHours(),t,2)}function aoe(e,t){return vt(e.getHours()%12||12,t,2)}function ioe(e,t){return vt(1+Ih.count(Va(e),e),t,3)}function nF(e,t){return vt(e.getMilliseconds(),t,3)}function ooe(e,t){return nF(e,t)+"000"}function loe(e,t){return vt(e.getMonth()+1,t,2)}function coe(e,t){return vt(e.getMinutes(),t,2)}function uoe(e,t){return vt(e.getSeconds(),t,2)}function doe(e){var t=e.getDay();return t===0?7:t}function hoe(e,t){return vt(tx.count(Va(e)-1,e),t,2)}function sF(e){var t=e.getDay();return t>=4||t===0?pc(e):pc.ceil(e)}function foe(e,t){return e=sF(e),vt(pc.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function poe(e){return e.getDay()}function moe(e,t){return vt(Dm.count(Va(e)-1,e),t,2)}function goe(e,t){return vt(e.getFullYear()%100,t,2)}function xoe(e,t){return e=sF(e),vt(e.getFullYear()%100,t,2)}function yoe(e,t){return vt(e.getFullYear()%1e4,t,4)}function voe(e,t){var r=e.getDay();return e=r>=4||r===0?pc(e):pc.ceil(e),vt(e.getFullYear()%1e4,t,4)}function boe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function m4(e,t){return vt(e.getUTCDate(),t,2)}function woe(e,t){return vt(e.getUTCHours(),t,2)}function joe(e,t){return vt(e.getUTCHours()%12||12,t,2)}function Noe(e,t){return vt(1+ex.count(Ha(e),e),t,3)}function aF(e,t){return vt(e.getUTCMilliseconds(),t,3)}function _oe(e,t){return aF(e,t)+"000"}function Soe(e,t){return vt(e.getUTCMonth()+1,t,2)}function koe(e,t){return vt(e.getUTCMinutes(),t,2)}function Eoe(e,t){return vt(e.getUTCSeconds(),t,2)}function Aoe(e){var t=e.getUTCDay();return t===0?7:t}function Toe(e,t){return vt(rx.count(Ha(e)-1,e),t,2)}function iF(e){var t=e.getUTCDay();return t>=4||t===0?mc(e):mc.ceil(e)}function Ooe(e,t){return e=iF(e),vt(mc.count(Ha(e),e)+(Ha(e).getUTCDay()===4),t,2)}function Coe(e){return e.getUTCDay()}function Poe(e,t){return vt(Mm.count(Ha(e)-1,e),t,2)}function Roe(e,t){return vt(e.getUTCFullYear()%100,t,2)}function Ioe(e,t){return e=iF(e),vt(e.getUTCFullYear()%100,t,2)}function Doe(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function Moe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mc(e):mc.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function $oe(){return"+0000"}function g4(){return"%"}function x4(e){return+e}function y4(e){return Math.floor(+e/1e3)}var Dl,oF,lF;Loe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Loe(e){return Dl=Lie(e),oF=Dl.format,Dl.parse,lF=Dl.utcFormat,Dl.utcParse,Dl}function Foe(e){return new Date(e)}function Uoe(e){return e instanceof Date?+e:+new Date(+e)}function ZS(e,t,r,n,a,i,o,l,u,h){var f=FS(),p=f.invert,g=f.domain,v=h(".%L"),b=h(":%S"),y=h("%I:%M"),x=h("%I %p"),_=h("%a %d"),N=h("%b %d"),E=h("%B"),C=h("%Y");function S(k){return(u(k)<k?v:l(k)<k?b:o(k)<k?y:i(k)<k?x:n(k)<k?a(k)<k?_:N:r(k)<k?E:C)(k)}return f.invert=function(k){return new Date(p(k))},f.domain=function(k){return arguments.length?g(Array.from(k,Uoe)):g().map(Foe)},f.ticks=function(k){var A=g();return e(A[0],A[A.length-1],k??10)},f.tickFormat=function(k,A){return A==null?S:h(A)},f.nice=function(k){var A=g();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?g(KL(A,k)):f},f.copy=function(){return Rh(f,ZS(e,t,r,n,a,i,o,l,u,h))},f}function Boe(){return ds.apply(ZS(Mie,$ie,Va,JS,tx,Ih,YS,GS,_o,oF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zoe(){return ds.apply(ZS(Iie,Die,Ha,QS,rx,ex,XS,KS,_o,lF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nx(){var e=0,t=1,r,n,a,i,o=ln,l=!1,u;function h(p){return p==null||isNaN(p=+p)?u:o(a===0?.5:(p=(i(p)-r)*a,l?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(l=!!p,h):l},h.interpolator=function(p){return arguments.length?(o=p,h):o};function f(p){return function(g){var v,b;return arguments.length?([v,b]=g,o=p(v,b),h):[o(0),o(1)]}}return h.range=f(Jc),h.rangeRound=f(LS),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),h}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cF(){var e=Fi(nx()(ln));return e.copy=function(){return Ui(e,cF())},Xa.apply(e,arguments)}function uF(){var e=zS(nx()).domain([1,10]);return e.copy=function(){return Ui(e,uF()).base(e.base())},Xa.apply(e,arguments)}function dF(){var e=WS(nx());return e.copy=function(){return Ui(e,dF()).constant(e.constant())},Xa.apply(e,arguments)}function ek(){var e=qS(nx());return e.copy=function(){return Ui(e,ek()).exponent(e.exponent())},Xa.apply(e,arguments)}function Woe(){return ek.apply(null,arguments).exponent(.5)}function hF(){var e=[],t=ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ch(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Oi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Tae(e,i/n))},r.copy=function(){return hF(t).domain(e)},Xa.apply(r,arguments)}function sx(){var e=0,t=.5,r=1,n=1,a,i,o,l,u,h=ln,f,p=!1,g;function v(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-i)*(n*y<n*i?l:u),h(p?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,r]=y,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(y){return arguments.length?(p=!!y,v):p},v.interpolator=function(y){return arguments.length?(h=y,v):h};function b(y){return function(x){var _,N,E;return arguments.length?([_,N,E]=x,h=tie(y,[_,N,E]),v):[h(0),h(.5),h(1)]}}return v.range=b(Jc),v.rangeRound=b(LS),v.unknown=function(y){return arguments.length?(g=y,v):g},function(y){return f=y,a=y(e),i=y(t),o=y(r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,v}}function fF(){var e=Fi(sx()(ln));return e.copy=function(){return Ui(e,fF())},Xa.apply(e,arguments)}function pF(){var e=zS(sx()).domain([.1,1,10]);return e.copy=function(){return Ui(e,pF()).base(e.base())},Xa.apply(e,arguments)}function mF(){var e=WS(sx());return e.copy=function(){return Ui(e,mF()).constant(e.constant())},Xa.apply(e,arguments)}function tk(){var e=qS(sx());return e.copy=function(){return Ui(e,tk()).exponent(e.exponent())},Xa.apply(e,arguments)}function qoe(){return tk.apply(null,arguments).exponent(.5)}const v4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wd,scaleDiverging:fF,scaleDivergingLog:pF,scaleDivergingPow:tk,scaleDivergingSqrt:qoe,scaleDivergingSymlog:mF,scaleIdentity:GL,scaleImplicit:c1,scaleLinear:Rm,scaleLog:YL,scaleOrdinal:DS,scalePoint:fd,scalePow:VS,scaleQuantile:QL,scaleQuantize:ZL,scaleRadial:JL,scaleSequential:cF,scaleSequentialLog:uF,scaleSequentialPow:ek,scaleSequentialQuantile:hF,scaleSequentialSqrt:Woe,scaleSequentialSymlog:dF,scaleSqrt:_ie,scaleSymlog:XL,scaleThreshold:eF,scaleTime:Boe,scaleUtc:zoe,tickFormat:HL},Symbol.toStringTag,{value:"Module"}));var lj,b4;function ax(){if(b4)return lj;b4=1;var e=Hc();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],u=n(l);if(u!=null&&(h===void 0?u===u&&!e(u):a(u,h)))var h=u,f=l}return f}return lj=t,lj}var cj,w4;function gF(){if(w4)return cj;w4=1;function e(t,r){return t>r}return cj=e,cj}var uj,j4;function Voe(){if(j4)return uj;j4=1;var e=ax(),t=gF(),r=Yc();function n(a){return a&&a.length?e(a,r,t):void 0}return uj=n,uj}var Hoe=Voe();const Ei=bt(Hoe);var dj,N4;function xF(){if(N4)return dj;N4=1;function e(t,r){return t<r}return dj=e,dj}var hj,_4;function Goe(){if(_4)return hj;_4=1;var e=ax(),t=xF(),r=Yc();function n(a){return a&&a.length?e(a,r,t):void 0}return hj=n,hj}var Koe=Goe();const ix=bt(Koe);var fj,S4;function Yoe(){if(S4)return fj;S4=1;var e=xS(),t=pa(),r=SL(),n=Sn();function a(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return fj=a,fj}var pj,k4;function Xoe(){if(k4)return pj;k4=1;var e=NL(),t=Yoe();function r(n,a){return e(t(n,a),1)}return pj=r,pj}var Joe=Xoe();const Qoe=bt(Joe);var mj,E4;function Zoe(){if(E4)return mj;E4=1;var e=OS();function t(r,n){return e(r,n)}return mj=t,mj}var ele=Zoe();const $o=bt(ele);var Qc=1e9,tle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nk,qt=!0,us="[DecimalError] ",To=us+"Invalid argument: ",rk=us+"Exponent out of range: ",Zc=Math.floor,po=Math.pow,rle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,Tr=1e7,Ft=7,yF=9007199254740991,$m=Zc(yF/Ft),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ft;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(e){return La(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,r=t.constructor;return Tt(La(t,new r(e),0,1),r.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return lr(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ln))throw Error(us+"NaN");if(r.s<1)throw Error(us+(r.s?"NaN":"-Infinity"));return r.eq(Ln)?new n(0):(qt=!1,t=La(Kd(r,i),Kd(e,i),i),qt=!0,Tt(t,a))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wF(t,e):vF(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(us+"NaN");return r.s?(qt=!1,t=La(r,e,0,1).times(e),qt=!0,r.minus(t)):Tt(new n(r),a)};Re.naturalExponential=Re.exp=function(){return bF(this)};Re.naturalLogarithm=Re.ln=function(){return Kd(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vF(t,e):wF(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(To+e);if(t=lr(a)+1,n=a.d.length-1,r=n*Ft+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Re.squareRoot=Re.sqrt=function(){var e,t,r,n,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(us+"NaN")}for(e=lr(l),qt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Qs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Zc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(La(l,i,o+2)).times(.5),Qs(i.d).slice(0,o)===(t=Qs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Tt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return qt=!0,Tt(n,r)};Re.times=Re.mul=function(e){var t,r,n,a,i,o,l,u,h,f=this,p=f.constructor,g=f.d,v=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,u=g.length,h=v.length,u<h&&(i=g,g=v,v=i,o=u,u=h,h=o),i=[],o=u+h,n=o;n--;)i.push(0);for(n=h;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+v[n]*g[a-n-1]+t,i[a--]=l%Tr|0,t=l/Tr|0;i[a]=(i[a]+t)%Tr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,qt?Tt(e,p.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ca(e,0,Qc),t===void 0?t=n.rounding:ca(t,0,8),Tt(r,e+lr(r)+1,t))};Re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lo(n,!0):(ca(e,0,Qc),t===void 0?t=a.rounding:ca(t,0,8),n=Tt(new a(n),e+1,t),r=Lo(n,!0,e+1)),r};Re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Lo(a):(ca(e,0,Qc),t===void 0?t=i.rounding:ca(t,0,8),n=Tt(new i(a),e+lr(a)+1,t),r=Lo(n.abs(),!1,e+lr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Tt(new t(e),lr(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,r,n,a,i,o,l=this,u=l.constructor,h=12,f=+(e=new u(e));if(!e.s)return new u(Ln);if(l=new u(l),!l.s){if(e.s<1)throw Error(us+"Infinity");return l}if(l.eq(Ln))return l;if(n=u.precision,e.eq(Ln))return Tt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=yF){for(a=new u(Ln),t=Math.ceil(n/Ft+4),qt=!1;r%2&&(a=a.times(l),T4(a.d,t)),r=Zc(r/2),r!==0;)l=l.times(l),T4(l.d,t);return qt=!0,e.s<0?new u(Ln).div(a):Tt(a,n)}}else if(i<0)throw Error(us+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,qt=!1,a=e.times(Kd(l,n+h)),qt=!0,a=bF(a),a.s=i,a};Re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=lr(a),n=Lo(a,r<=i.toExpNeg||r>=i.toExpPos)):(ca(e,1,Qc),t===void 0?t=i.rounding:ca(t,0,8),a=Tt(new i(a),e,t),r=lr(a),n=Lo(a,e<=r||r<=i.toExpNeg,e)),n};Re.toSignificantDigits=Re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ca(e,1,Qc),t===void 0?t=n.rounding:ca(t,0,8)),Tt(new n(r),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lr(e),r=e.constructor;return Lo(e,t<=r.toExpNeg||t>=r.toExpPos)};function vF(e,t){var r,n,a,i,o,l,u,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),qt?Tt(t,p):t;if(u=e.d,h=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,l=h.length):(n=h,a=o,l=u.length),o=Math.ceil(p/Ft),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=h.length,l-i<0&&(i=l,n=h,h=u,u=n),r=0;i;)r=(u[--i]=u[i]+h[i]+r)/Tr|0,u[i]%=Tr;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,qt?Tt(t,p):t}function ca(e,t,r){if(e!==~~e||e<t||e>r)throw Error(To+e)}function Qs(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ft-n.length,r&&(i+=Ni(r)),i+=n;o=e[t],n=o+"",r=Ft-n.length,r&&(i+=Ni(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var La=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Tr|0,o=i/Tr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Tr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,u,h,f,p,g,v,b,y,x,_,N,E,C,S,k,A,P,O=n.constructor,I=n.s==a.s?1:-1,D=n.d,L=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(us+"Division by zero");for(u=n.e-a.e,A=L.length,S=D.length,v=new O(I),b=v.d=[],h=0;L[h]==(D[h]||0);)++h;if(L[h]>(D[h]||0)&&--u,i==null?N=i=O.precision:o?N=i+(lr(n)-lr(a))+1:N=i,N<0)return new O(0);if(N=N/Ft+2|0,h=0,A==1)for(f=0,L=L[0],N++;(h<S||f)&&N--;h++)E=f*Tr+(D[h]||0),b[h]=E/L|0,f=E%L|0;else{for(f=Tr/(L[0]+1)|0,f>1&&(L=e(L,f),D=e(D,f),A=L.length,S=D.length),C=A,y=D.slice(0,A),x=y.length;x<A;)y[x++]=0;P=L.slice(),P.unshift(0),k=L[0],L[1]>=Tr/2&&++k;do f=0,l=t(L,y,A,x),l<0?(_=y[0],A!=x&&(_=_*Tr+(y[1]||0)),f=_/k|0,f>1?(f>=Tr&&(f=Tr-1),p=e(L,f),g=p.length,x=y.length,l=t(p,y,g,x),l==1&&(f--,r(p,A<g?P:L,g))):(f==0&&(l=f=1),p=L.slice()),g=p.length,g<x&&p.unshift(0),r(y,p,x),l==-1&&(x=y.length,l=t(L,y,A,x),l<1&&(f++,r(y,A<x?P:L,x))),x=y.length):l===0&&(f++,y=[0]),b[h++]=f,l&&y[0]?y[x++]=D[C]||0:(y=[D[C]],x=1);while((C++<S||y[0]!==void 0)&&N--)}return b[0]||b.shift(),v.e=u,Tt(v,o?i+lr(v)+1:i)}})();function bF(e,t){var r,n,a,i,o,l,u=0,h=0,f=e.constructor,p=f.precision;if(lr(e)>16)throw Error(rk+lr(e));if(!e.s)return new f(Ln);for(qt=!1,l=p,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(n=Math.log(po(2,h))/Math.LN10*2+5|0,l+=n,r=a=i=new f(Ln),f.precision=l;;){if(a=Tt(a.times(e),l),r=r.times(++u),o=i.plus(La(a,r,l)),Qs(o.d).slice(0,l)===Qs(i.d).slice(0,l)){for(;h--;)i=Tt(i.times(i),l);return f.precision=p,t==null?(qt=!0,Tt(i,p)):i}i=o}}function lr(e){for(var t=e.e*Ft,r=e.d[0];r>=10;r/=10)t++;return t}function gj(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(us+"LN10 precision limit exceeded");return Tt(new e(e.LN10),t)}function Ni(e){for(var t="";e--;)t+="0";return t}function Kd(e,t){var r,n,a,i,o,l,u,h,f,p=1,g=10,v=e,b=v.d,y=v.constructor,x=y.precision;if(v.s<1)throw Error(us+(v.s?"NaN":"-Infinity"));if(v.eq(Ln))return new y(0);if(t==null?(qt=!1,h=x):h=t,v.eq(10))return t==null&&(qt=!0),gj(y,h);if(h+=g,y.precision=h,r=Qs(b),n=r.charAt(0),i=lr(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Qs(v.d),n=r.charAt(0),p++;i=lr(v),n>1?(v=new y("0."+r),i++):v=new y(n+"."+r.slice(1))}else return u=gj(y,h+2,x).times(i+""),v=Kd(new y(n+"."+r.slice(1)),h-g).plus(u),y.precision=x,t==null?(qt=!0,Tt(v,x)):v;for(l=o=v=La(v.minus(Ln),v.plus(Ln),h),f=Tt(v.times(v),h),a=3;;){if(o=Tt(o.times(f),h),u=l.plus(La(o,new y(a),h)),Qs(u.d).slice(0,h)===Qs(l.d).slice(0,h))return l=l.times(2),i!==0&&(l=l.plus(gj(y,h+2,x).times(i+""))),l=La(l,new y(p),h),y.precision=x,t==null?(qt=!0,Tt(l,x)):l;l=u,a+=2}}function A4(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Zc(r/Ft),e.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ft;n<a;)e.d.push(+t.slice(n,n+=Ft));t=t.slice(n),n=Ft-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),qt&&(e.e>$m||e.e<-$m))throw Error(rk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tt(e,t,r){var n,a,i,o,l,u,h,f,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ft,a=t,h=p[f=0];else{if(f=Math.ceil((n+1)/Ft),i=p.length,f>=i)return e;for(h=i=p[f],o=1;i>=10;i/=10)o++;n%=Ft,a=n-Ft+o}if(r!==void 0&&(i=po(10,o-a-1),l=h/i%10|0,u=t<0||p[f+1]!==void 0||h%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?h/po(10,o-a):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return u?(i=lr(e),p.length=1,t=t-i-1,p[0]=po(10,(Ft-t%Ft)%Ft),e.e=Zc(-t/Ft)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,i=1,f--):(p.length=f+1,i=po(10,Ft-n),p[f]=a>0?(h/po(10,o-a)%po(10,a)|0)*i:0),u)for(;;)if(f==0){(p[0]+=i)==Tr&&(p[0]=1,++e.e);break}else{if(p[f]+=i,p[f]!=Tr)break;p[f--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(qt&&(e.e>$m||e.e<-$m))throw Error(rk+lr(e));return e}function wF(e,t){var r,n,a,i,o,l,u,h,f,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),qt?Tt(t,v):t;if(u=e.d,p=t.d,n=t.e,h=e.e,u=u.slice(),o=h-n,o){for(f=o<0,f?(r=u,o=-o,l=p.length):(r=p,n=h,l=u.length),a=Math.max(Math.ceil(v/Ft),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=p.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=p[a]){f=u[a]<p[a];break}o=0}for(f&&(r=u,u=p,p=r,t.s=-t.s),l=u.length,a=p.length-l;a>0;--a)u[l++]=0;for(a=p.length;a>o;){if(u[--a]<p[a]){for(i=a;i&&u[--i]===0;)u[i]=Tr-1;--u[i],u[a]+=Tr}u[a]-=p[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,qt?Tt(t,v):t):new g(0)}function Lo(e,t,r){var n,a=lr(e),i=Qs(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ni(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ni(-a-1)+i,r&&(n=r-o)>0&&(i+=Ni(n))):a>=o?(i+=Ni(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ni(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ni(n))),e.s<0?"-"+i:i}function T4(e,t){if(e.length>t)return e.length=t,!0}function jF(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(To+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return A4(o,i.toString())}else if(typeof i!="string")throw Error(To+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rle.test(i))A4(o,i);else throw Error(To+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jF,a.config=a.set=nle,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nle(e){if(!e||typeof e!="object")throw Error(us+"Object expected");var t,r,n,a=["precision",1,Qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Zc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(To+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(To+r+": "+n);return this}var nk=jF(tle);Ln=new nk(1);const Et=nk;function sle(e){return lle(e)||ole(e)||ile(e)||ale()}function ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function ole(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lle(e){if(Array.isArray(e))return f1(e)}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cle=function(t){return t},NF={},_F=function(t){return t===NF},O4=function(t){return function r(){return arguments.length===0||arguments.length===1&&_F(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ule=function e(t,r){return t===1?r:O4(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==NF}).length;return o>=t?r.apply(void 0,a):e(t-o,O4(function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var f=a.map(function(p){return _F(p)?u.shift():p});return r.apply(void 0,sle(f).concat(u))}))})},ox=function(t){return ule(t.length,t)},p1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},dle=ox(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),hle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cle;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,u){return u(l)},i.apply(void 0,arguments))}},m1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},SF=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,u){return l===r[u]})||(r=i,n=t.apply(void 0,i)),n}};function fle(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function ple(e,t,r){for(var n=new Et(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var mle=ox(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),gle=ox(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),xle=ox(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const lx={rangeStep:ple,getDigitCount:fle,interpolateNumber:mle,uninterpolateNumber:gle,uninterpolateTruncation:xle};function g1(e){return ble(e)||vle(e)||kF(e)||yle()}function yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ble(e){if(Array.isArray(e))return x1(e)}function Yd(e,t){return Nle(e)||jle(e,t)||kF(e,t)||wle()}function wle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kF(e,t){if(e){if(typeof e=="string")return x1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(e,t)}}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jle(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Nle(e){if(Array.isArray(e))return e}function EF(e){var t=Yd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function AF(e,t,r){if(e.lte(0))return new Et(0);var n=lx.getDigitCount(e.toNumber()),a=new Et(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Et(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?u:new Et(Math.ceil(u))}function _le(e,t,r){var n=1,a=new Et(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Et(10).pow(lx.getDigitCount(e)-1),a=new Et(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Et(Math.floor(e)))}else e===0?a=new Et(Math.floor((t-1)/2)):r||(a=new Et(Math.floor(e)));var o=Math.floor((t-1)/2),l=hle(dle(function(u){return a.add(new Et(u-o).mul(n)).toNumber()}),p1);return l(0,t)}function TF(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var i=AF(new Et(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Et(0):(o=new Et(e).add(t).div(2),o=o.sub(new Et(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new Et(t).sub(o).div(i).toNumber()),h=l+u+1;return h>r?TF(e,t,r,n,a+1):(h<r&&(u=t>0?u+(r-h):u,l=t>0?l:l+(r-h)),{step:i,tickMin:o.sub(new Et(l).mul(i)),tickMax:o.add(new Et(u).mul(i))})}function Sle(e){var t=Yd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=EF([r,n]),u=Yd(l,2),h=u[0],f=u[1];if(h===-1/0||f===1/0){var p=f===1/0?[h].concat(g1(p1(0,a-1).map(function(){return 1/0}))):[].concat(g1(p1(0,a-1).map(function(){return-1/0})),[f]);return r>n?m1(p):p}if(h===f)return _le(h,a,i);var g=TF(h,f,o,i),v=g.step,b=g.tickMin,y=g.tickMax,x=lx.rangeStep(b,y.add(new Et(.1).mul(v)),v);return r>n?m1(x):x}function kle(e,t){var r=Yd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EF([n,a]),l=Yd(o,2),u=l[0],h=l[1];if(u===-1/0||h===1/0)return[n,a];if(u===h)return[u];var f=Math.max(t,2),p=AF(new Et(h).sub(u).div(f-1),i,0),g=[].concat(g1(lx.rangeStep(new Et(u),new Et(h).sub(new Et(.99).mul(p)),p)),[h]);return n>a?m1(g):g}var Ele=SF(Sle),Ale=SF(kle),Tle="Invariant failed";function Fo(e,t){throw new Error(Tle)}var Ole=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function Cle(e,t){return Dle(e)||Ile(e,t)||Rle(e,t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(e,t){if(e){if(typeof e=="string")return C4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C4(e,t)}}function C4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ile(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function Dle(e){if(Array.isArray(e))return e}function Mle(e,t){if(e==null)return{};var r=$le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function Ule(e,t,r){return t&&Fle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ble(e,t,r){return t=Fm(t),zle(e,OF()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function zle(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wle(e)}function Wle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OF=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function qle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y1(e,t)}function CF(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=Vle(e,"string");return gc(t)=="symbol"?t:t+""}function Vle(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dh=(function(e){function t(){return Lle(this,t),Ble(this,t,arguments)}return qle(t,e),Ule(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,u=n.data,h=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=Mle(n,Ole),v=ze(g,!1);this.props.direction==="x"&&f.type!=="number"&&Fo();var b=u.map(function(y){var x=h(y,l),_=x.x,N=x.y,E=x.value,C=x.errorVal;if(!C)return null;var S=[],k,A;if(Array.isArray(C)){var P=Cle(C,2);k=P[0],A=P[1]}else k=A=C;if(i==="vertical"){var O=f.scale,I=N+a,D=I+o,L=I-o,F=O(E-k),G=O(E+A);S.push({x1:G,y1:D,x2:G,y2:L}),S.push({x1:F,y1:I,x2:G,y2:I}),S.push({x1:F,y1:D,x2:F,y2:L})}else if(i==="horizontal"){var K=p.scale,U=_+a,q=U-o,M=U+o,V=K(E-k),Q=K(E+A);S.push({x1:q,y1:Q,x2:M,y2:Q}),S.push({x1:U,y1:V,x2:U,y2:Q}),S.push({x1:q,y1:V,x2:M,y2:V})}return B.createElement(ut,Lm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},v),S.map(function(z){return B.createElement("line",Lm({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return B.createElement(ut,{className:"recharts-errorBars"},b)}}])})(B.Component);CF(Dh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CF(Dh,"displayName","ErrorBar");function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){Hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hle(e,t,r){return t=Gle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gle(e){var t=Kle(e,"string");return Xd(t)=="symbol"?t:t+""}function Kle(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RF=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Rn(r,ra);if(!o)return null;var l=ra.defaultProps,u=l!==void 0?lo(lo({},l),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:i==="children"?h=(n||[]).reduce(function(f,p){var g=p.item,v=p.props,b=v.sectors||v.data||[];return f.concat(b.map(function(y){return{type:o.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):h=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,v=g!==void 0?lo(lo({},g),p.props):{},b=v.dataKey,y=v.name,x=v.legendType,_=v.hide;return{inactive:_,dataKey:b,type:u.iconType||x||"square",color:sk(p),value:y||b,payload:v}}),lo(lo(lo({},u),ra.getWithHeight(o,a)),{},{payload:h,item:o})};function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function R4(e){return Qle(e)||Jle(e)||Xle(e)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(e,t){if(e){if(typeof e=="string")return v1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(e,t)}}function Jle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qle(e){if(Array.isArray(e))return v1(e)}function v1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nc(e,t,r){return t=Zle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zle(e){var t=ece(e,"string");return Jd(t)=="symbol"?t:t+""}function ece(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t,r){return rt(e)||rt(t)?r:Nr(t)?Bn(e,t,r):Qe(t)?t(e):r}function pd(e,t,r,n){var a=Qoe(e,function(l){return tr(l,t)});if(r==="number"){var i=a.filter(function(l){return Se(l)||parseFloat(l)});return i.length?[ix(i),Ei(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!rt(l)}):a;return o.map(function(l){return Nr(l)||l instanceof Date?l:""})}var tce=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,h=0;h<l;h++){var f=h>0?a[h-1].coordinate:a[l-1].coordinate,p=a[h].coordinate,g=h>=l-1?a[0].coordinate:a[h+1].coordinate,v=void 0;if(an(p-f)!==an(g-p)){var b=[];if(an(g-p)===an(u[1]-u[0])){v=g;var y=p+u[1]-u[0];b[0]=Math.min(y,(y+f)/2),b[1]=Math.max(y,(y+f)/2)}else{v=f;var x=g+u[1]-u[0];b[0]=Math.min(p,(x+p)/2),b[1]=Math.max(p,(x+p)/2)}var _=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>_[0]&&t<=_[1]||t>=b[0]&&t<=b[1]){o=a[h].index;break}}else{var N=Math.min(f,g),E=Math.max(f,g);if(t>(N+p)/2&&t<=(E+p)/2){o=a[h].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},sk=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,u;switch(a){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},rce=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),u=0,h=l.length;u<h;u++)for(var f=i[l[u]].stackGroups,p=Object.keys(f),g=0,v=p.length;g<v;g++){var b=f[p[g]],y=b.items,x=b.cateAxisId,_=y.filter(function(A){return $a(A.type).indexOf("Bar")>=0});if(_&&_.length){var N=_[0].type.defaultProps,E=N!==void 0?Jt(Jt({},N),_[0].props):_[0].props,C=E.barSize,S=E[x];o[S]||(o[S]=[]);var k=rt(C)?r:C;o[S].push({item:_[0],stackList:_.slice(1),barSize:rt(k)?void 0:on(k,n,0)})}}return o},nce=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,u=o.length;if(u<1)return null;var h=on(r,a,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=a/u,b=o.reduce(function(C,S){return C+S.barSize||0},0);b+=(u-1)*h,b>=a&&(b-=(u-1)*h,h=0),b>=a&&v>0&&(g=!0,v*=.9,b=u*v);var y=(a-b)/2>>0,x={offset:y-h,size:0};f=o.reduce(function(C,S){var k={item:S.item,position:{offset:x.offset+x.size+h,size:g?v:S.barSize}},A=[].concat(R4(C),[k]);return x=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){A.push({item:P,position:x})}),A},p)}else{var _=on(n,a,0,!0);a-2*_-(u-1)*h<=0&&(h=0);var N=(a-2*_-(u-1)*h)/u;N>1&&(N>>=0);var E=l===+l?Math.min(N,l):N;f=o.reduce(function(C,S,k){var A=[].concat(R4(C),[{item:S.item,position:{offset:_+(N+h)*k+(N-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},p)}return f},sce=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),h=RF({children:i,legendWidth:u});if(h){var f=a||{},p=f.width,g=f.height,v=h.align,b=h.verticalAlign,y=h.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&v!=="center"&&Se(t[v]))return Jt(Jt({},t),{},nc({},v,t[v]+(p||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&b!=="middle"&&Se(t[b]))return Jt(Jt({},t),{},nc({},b,t[b]+(g||0)))}return t},ace=function(t,r,n){return rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},IF=function(t,r,n,a,i){var o=r.props.children,l=zn(o,Dh).filter(function(h){return ace(a,i,h.props.direction)});if(l&&l.length){var u=l.map(function(h){return h.props.dataKey});return t.reduce(function(h,f){var p=tr(f,n);if(rt(p))return h;var g=Array.isArray(p)?[ix(p),Ei(p)]:[p,p],v=u.reduce(function(b,y){var x=tr(f,y,0),_=g[0]-Math.abs(Array.isArray(x)?x[0]:x),N=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,b[0]),Math.max(N,b[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},ice=function(t,r,n,a,i){var o=r.map(function(l){return IF(t,l,n,i,a)}).filter(function(l){return!rt(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},DF=function(t,r,n,a,i){var o=r.map(function(u){var h=u.props.dataKey;return n==="number"&&h&&IF(t,u,h,a)||pd(t,h,n,i)});if(n==="number")return o.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,h){for(var f=0,p=h.length;f<p;f++)l[h[f]]||(l[h[f]]=!0,u.push(h[f]));return u},[])},MF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$F=function(t,r,n,a){if(a)return t.map(function(u){return u.coordinate});var i,o,l=t.map(function(u){return u.coordinate===r&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate});return i||l.push(r),o||l.push(n),l},Ia=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,u=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/u:0;if(h=t.axisType==="angleAxis"&&l?.length>=2?an(l[0]-l[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var g=i?i.indexOf(p):p;return{coordinate:a(g)+h,value:p,offset:h}});return f.filter(function(p){return!Kc(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:a(p)+h,value:p,index:g,offset:h}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(p){return{coordinate:a(p)+h,value:p,offset:h}}):a.domain().map(function(p,g){return{coordinate:a(p)+h,value:i?i[p]:p,index:g,offset:h}})},xj=new WeakMap,Op=function(t,r){if(typeof r!="function")return t;xj.has(t)||xj.set(t,new WeakMap);var n=xj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},LF=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Wd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Rm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:fd(),realScaleType:"point"}:i==="category"?{scale:Wd(),realScaleType:"band"}:{scale:Rm(),realScaleType:"linear"};if(Io(a)){var u="scale".concat(Hg(a));return{scale:(v4[u]||fd)(),realScaleType:v4[u]?u:"point"}}return Qe(a)?{scale:a}:{scale:fd(),realScaleType:"point"}},D4=1e-4,FF=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-D4,o=Math.max(a[0],a[1])+D4,l=t(r[0]),u=t(r[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([r[0],r[n-1]])}},oce=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},lce=function(t,r){if(!r||r.length!==2||!Se(r[0])||!Se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Se(t[0])||t[0]<n)&&(i[0]=n),(!Se(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},cce=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var u=Kc(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},uce=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Kc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},dce={sign:cce,expand:Qte,none:lc,silhouette:Zte,wiggle:ere,positive:uce},hce=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=dce[n],o=Jte().keys(a).value(function(l,u){return+tr(l,u,0)}).order(YN).offset(i);return o(t)},fce=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,u={},h=l.reduce(function(p,g){var v,b=(v=g.type)!==null&&v!==void 0&&v.defaultProps?Jt(Jt({},g.type.defaultProps),g.props):g.props,y=b.stackId,x=b.hide;if(x)return p;var _=b[n],N=p[_]||{hasStack:!1,stackGroups:{}};if(Nr(y)){var E=N.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};E.items.push(g),N.hasStack=!0,N.stackGroups[y]=E}else N.stackGroups[Qo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return Jt(Jt({},p),{},nc({},_,N))},u),f={};return Object.keys(h).reduce(function(p,g){var v=h[g];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,x){var _=v.stackGroups[x];return Jt(Jt({},y),{},nc({},x,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:hce(t,_.items,i)}))},b)}return Jt(Jt({},p),{},nc({},g,v))},f)},UF=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=t.domain();if(!h.length)return null;var f=Ele(h,i,l);return t.domain([ix(f),Ei(f)]),{niceTicks:f}}if(i&&a==="number"){var p=t.domain(),g=Ale(p,i,l);return{niceTicks:g}}return null};function Um(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rt(a[t.dataKey])){var l=mm(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=tr(a,rt(o)?t.dataKey:o);return rt(u)?null:t.scale(u)}var M4=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var u=tr(o,r.dataKey,r.domain[l]);return rt(u)?null:r.scale(u)-i/2+a},pce=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},mce=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Nr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},gce=function(t){return t.reduce(function(r,n){return[ix(n.concat([r[0]]).filter(Se)),Ei(n.concat([r[1]]).filter(Se))]},[1/0,-1/0])},BF=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,u=l.reduce(function(h,f){var p=gce(f.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b1=function(t,r,n){if(Qe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if($4.test(t[0])){var i=+$4.exec(t[0])[1];a[0]=r[0]-i}else Qe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(L4.test(t[1])){var o=+L4.exec(t[1])[1];a[1]=r[1]+o}else Qe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Bm=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=PS(r,function(p){return p.coordinate}),o=1/0,l=1,u=i.length;l<u;l++){var h=i[l],f=i[l-1];o=Math.min((h.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},F4=function(t,r,n){return!t||!t.length||$o(t,Bn(n,"type.defaultProps.domain"))?r:t},zF=function(t,r){var n=t.type.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,h=n.chartType,f=n.hide;return Jt(Jt({},ze(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:sk(t),value:tr(r,a),type:u,payload:r,chartType:h,hide:f})};function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){WF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WF(e,t,r){return t=xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=yce(e,"string");return Qd(t)=="symbol"?t:t+""}function yce(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vce(e,t){return Nce(e)||jce(e,t)||wce(e,t)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(e,t){if(e){if(typeof e=="string")return B4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B4(e,t)}}function B4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function Nce(e){if(Array.isArray(e))return e}var zm=Math.PI/180,_ce=function(t){return t*180/Math.PI},It=function(t,r,n,a){return{x:t+Math.cos(-zm*a)*n,y:r+Math.sin(-zm*a)*n}},qF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Sce=function(t,r,n,a,i){var o=t.width,l=t.height,u=t.startAngle,h=t.endAngle,f=on(t.cx,o,o/2),p=on(t.cy,l,l/2),g=qF(o,l,n),v=on(t.innerRadius,g,0),b=on(t.outerRadius,g,g*.8),y=Object.keys(r);return y.reduce(function(x,_){var N=r[_],E=N.domain,C=N.reversed,S;if(rt(N.range))a==="angleAxis"?S=[u,h]:a==="radiusAxis"&&(S=[v,b]),C&&(S=[S[1],S[0]]);else{S=N.range;var k=S,A=vce(k,2);u=A[0],h=A[1]}var P=LF(N,i),O=P.realScaleType,I=P.scale;I.domain(E).range(S),FF(I);var D=UF(I,Ta(Ta({},N),{},{realScaleType:O})),L=Ta(Ta(Ta({},N),D),{},{range:S,radius:b,realScaleType:O,scale:I,cx:f,cy:p,innerRadius:v,outerRadius:b,startAngle:u,endAngle:h});return Ta(Ta({},x),{},WF({},_,L))},{})},kce=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Ece=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=kce({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var u=(n-i)/l,h=Math.acos(u);return a>o&&(h=2*Math.PI-h),{radius:l,angle:_ce(h),angleInRadian:h}},Ace=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Tce=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},z4=function(t,r){var n=t.x,a=t.y,i=Ece({x:n,y:a},r),o=i.radius,l=i.angle,u=r.innerRadius,h=r.outerRadius;if(o<u||o>h)return!1;if(o===0)return!0;var f=Ace(r),p=f.startAngle,g=f.endAngle,v=l,b;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;b=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;b=v>=g&&v<=p}return b?Ta(Ta({},r),{},{radius:o,angle:Tce(v,r)}):null},VF=function(t){return!w.isValidElement(t)&&!Qe(t)&&typeof t!="boolean"?t.className:""};function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}var Oce=["offset"];function Cce(e){return Dce(e)||Ice(e)||Rce(e)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function Ice(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dce(e){if(Array.isArray(e))return w1(e)}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mce(e,t){if(e==null)return{};var r=$ce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(n){Lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lce(e,t,r){return t=Fce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fce(e){var t=Uce(e,"string");return Zd(t)=="symbol"?t:t+""}function Uce(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}var Bce=function(t){var r=t.value,n=t.formatter,a=rt(t.children)?r:t.children;return Qe(n)?n(a):a},zce=function(t,r){var n=an(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Wce=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,u=i,h=u.cx,f=u.cy,p=u.innerRadius,g=u.outerRadius,v=u.startAngle,b=u.endAngle,y=u.clockWise,x=(p+g)/2,_=zce(v,b),N=_>=0?1:-1,E,C;a==="insideStart"?(E=v+N*o,C=y):a==="insideEnd"?(E=b-N*o,C=!y):a==="end"&&(E=b+N*o,C=y),C=_<=0?C:!C;var S=It(h,f,x,E),k=It(h,f,x,E+(C?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),P=rt(t.id)?Qo("recharts-radial-line-"):t.id;return B.createElement("text",eh({},n,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:P,d:A})),B.createElement("textPath",{xlinkHref:"#".concat(P)},r))},qce=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,u=i.innerRadius,h=i.outerRadius,f=i.startAngle,p=i.endAngle,g=(f+p)/2;if(a==="outside"){var v=It(o,l,h+n,g),b=v.x,y=v.y;return{x:b,y,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+h)/2,_=It(o,l,x,g),N=_.x,E=_.y;return{x:N,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Vce=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,u=o.y,h=o.width,f=o.height,p=f>=0?1:-1,g=p*a,v=p>0?"end":"start",b=p>0?"start":"end",y=h>=0?1:-1,x=y*a,_=y>0?"end":"start",N=y>0?"start":"end";if(i==="top"){var E={x:l+h/2,y:u-p*a,textAnchor:"middle",verticalAnchor:v};return gr(gr({},E),n?{height:Math.max(u-n.y,0),width:h}:{})}if(i==="bottom"){var C={x:l+h/2,y:u+f+g,textAnchor:"middle",verticalAnchor:b};return gr(gr({},C),n?{height:Math.max(n.y+n.height-(u+f),0),width:h}:{})}if(i==="left"){var S={x:l-x,y:u+f/2,textAnchor:_,verticalAnchor:"middle"};return gr(gr({},S),n?{width:Math.max(S.x-n.x,0),height:f}:{})}if(i==="right"){var k={x:l+h+x,y:u+f/2,textAnchor:N,verticalAnchor:"middle"};return gr(gr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var A=n?{width:h,height:f}:{};return i==="insideLeft"?gr({x:l+x,y:u+f/2,textAnchor:N,verticalAnchor:"middle"},A):i==="insideRight"?gr({x:l+h-x,y:u+f/2,textAnchor:_,verticalAnchor:"middle"},A):i==="insideTop"?gr({x:l+h/2,y:u+g,textAnchor:"middle",verticalAnchor:b},A):i==="insideBottom"?gr({x:l+h/2,y:u+f-g,textAnchor:"middle",verticalAnchor:v},A):i==="insideTopLeft"?gr({x:l+x,y:u+g,textAnchor:N,verticalAnchor:b},A):i==="insideTopRight"?gr({x:l+h-x,y:u+g,textAnchor:_,verticalAnchor:b},A):i==="insideBottomLeft"?gr({x:l+x,y:u+f-g,textAnchor:N,verticalAnchor:v},A):i==="insideBottomRight"?gr({x:l+h-x,y:u+f-g,textAnchor:_,verticalAnchor:v},A):Gc(i)&&(Se(i.x)||jo(i.x))&&(Se(i.y)||jo(i.y))?gr({x:l+on(i.x,h),y:u+on(i.y,f),textAnchor:"end",verticalAnchor:"end"},A):gr({x:l+h/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Hce=function(t){return"cx"in t&&Se(t.cx)};function Or(e){var t=e.offset,r=t===void 0?5:t,n=Mce(e,Oce),a=gr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,u=a.children,h=a.content,f=a.className,p=f===void 0?"":f,g=a.textBreakAll;if(!i||rt(l)&&rt(u)&&!w.isValidElement(h)&&!Qe(h))return null;if(w.isValidElement(h))return w.cloneElement(h,a);var v;if(Qe(h)){if(v=w.createElement(h,a),w.isValidElement(v))return v}else v=Bce(a);var b=Hce(i),y=ze(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wce(a,v,y);var x=b?qce(a):Vce(a);return B.createElement(Mo,eh({className:nt("recharts-label",p)},y,x,{breakAll:g}),v)}Or.displayName="Label";var HF=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,u=t.radius,h=t.innerRadius,f=t.outerRadius,p=t.x,g=t.y,v=t.top,b=t.left,y=t.width,x=t.height,_=t.clockWise,N=t.labelViewBox;if(N)return N;if(Se(y)&&Se(x)){if(Se(p)&&Se(g))return{x:p,y:g,width:y,height:x};if(Se(v)&&Se(b))return{x:v,y:b,width:y,height:x}}return Se(p)&&Se(g)?{x:p,y:g,width:0,height:0}:Se(r)&&Se(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:h||0,outerRadius:f||u||l||0,clockWise:_}:t.viewBox?t.viewBox:{}},Gce=function(t,r){return t?t===!0?B.createElement(Or,{key:"label-implicit",viewBox:r}):Nr(t)?B.createElement(Or,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Or?w.cloneElement(t,{key:"label-implicit",viewBox:r}):B.createElement(Or,{key:"label-implicit",content:t,viewBox:r}):Qe(t)?B.createElement(Or,{key:"label-implicit",content:t,viewBox:r}):Gc(t)?B.createElement(Or,eh({viewBox:r},t,{key:"label-implicit"})):null:null},Kce=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=HF(t),o=zn(a,Or).map(function(u,h){return w.cloneElement(u,{viewBox:r||i,key:"label-".concat(h)})});if(!n)return o;var l=Gce(t.label,r||i);return[l].concat(Cce(o))};Or.parseViewBox=HF;Or.renderCallByParent=Kce;var yj,q4;function Yce(){if(q4)return yj;q4=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return yj=e,yj}var Xce=Yce();const Jce=bt(Xce);function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}var Qce=["valueAccessor"],Zce=["data","dataKey","clockWise","id","textBreakAll"];function eue(e){return sue(e)||nue(e)||rue(e)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}function nue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sue(e){if(Array.isArray(e))return j1(e)}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(this,arguments)}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aue(e,t,r){return t=iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=oue(e,"string");return th(t)=="symbol"?t:t+""}function oue(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G4(e,t){if(e==null)return{};var r=lue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cue=function(t){return Array.isArray(t.value)?Jce(t.value):t.value};function sa(e){var t=e.valueAccessor,r=t===void 0?cue:t,n=G4(e,Qce),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,h=G4(n,Zce);return!a||!a.length?null:B.createElement(ut,{className:"recharts-label-list"},a.map(function(f,p){var g=rt(i)?r(f,p):tr(f&&f.payload,i),v=rt(l)?{}:{id:"".concat(l,"-").concat(p)};return B.createElement(Or,Wm({},ze(f,!0),h,v,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:Or.parseViewBox(rt(o)?f:H4(H4({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}sa.displayName="LabelList";function uue(e,t){return e?e===!0?B.createElement(sa,{key:"labelList-implicit",data:t}):B.isValidElement(e)||Qe(e)?B.createElement(sa,{key:"labelList-implicit",data:t,content:e}):Gc(e)?B.createElement(sa,Wm({data:t},e,{key:"labelList-implicit"})):null:null}function due(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=zn(n,sa).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=uue(e.label,t);return[i].concat(eue(a))}sa.renderCallByParent=due;function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return t=fue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fue(e){var t=pue(e,"string");return rh(t)=="symbol"?t:t+""}function pue(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mue=function(t,r){var n=an(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Cp=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,u=t.cornerRadius,h=t.cornerIsExternal,f=u*(l?1:-1)+a,p=Math.asin(u/f)/zm,g=h?i:i+o*p,v=It(r,n,f,g),b=It(r,n,a,g),y=h?i-o*p:i,x=It(r,n,f*Math.cos(p*zm),y);return{center:v,circleTangency:b,lineTangency:x,theta:p}},GF=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,u=mue(o,l),h=o+u,f=It(r,n,i,o),p=It(r,n,i,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var v=It(r,n,a,o),b=It(r,n,a,h);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},gue=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,h=t.startAngle,f=t.endAngle,p=an(f-h),g=Cp({cx:r,cy:n,radius:i,angle:h,sign:p,cornerRadius:o,cornerIsExternal:u}),v=g.circleTangency,b=g.lineTangency,y=g.theta,x=Cp({cx:r,cy:n,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),_=x.circleTangency,N=x.lineTangency,E=x.theta,C=u?Math.abs(h-f):Math.abs(h-f)-y-E;if(C<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GF({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:f});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var k=Cp({cx:r,cy:n,radius:a,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),A=k.circleTangency,P=k.lineTangency,O=k.theta,I=Cp({cx:r,cy:n,radius:a,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=I.circleTangency,L=I.lineTangency,F=I.theta,G=u?Math.abs(h-f):Math.abs(h-f)-O-F;if(G<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},xue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KF=function(t){var r=Y4(Y4({},xue),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,h=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(o<i||f===p)return null;var v=nt("recharts-sector",g),b=o-i,y=on(l,b,0,!0),x;return y>0&&Math.abs(f-p)<360?x=gue({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,b/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:p}):x=GF({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),B.createElement("path",N1({},ze(r,!0),{className:v,d:x,role:"img"}))};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yue(e,t,r){return t=vue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=bue(e,"string");return nh(t)=="symbol"?t:t+""}function bue(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q4={curveBasisClosed:Ute,curveBasisOpen:Bte,curveBasis:Fte,curveBumpX:Ste,curveBumpY:kte,curveLinearClosed:zte,curveLinear:Kg,curveMonotoneX:Wte,curveMonotoneY:qte,curveNatural:Vte,curveStep:Hte,curveStepAfter:Kte,curveStepBefore:Gte},Pp=function(t){return t.x===+t.x&&t.y===+t.y},Gu=function(t){return t.x},Ku=function(t){return t.y},wue=function(t,r){if(Qe(t))return t;var n="curve".concat(Hg(t));return(n==="curveMonotone"||n==="curveBump")&&r?Q4["".concat(n).concat(r==="vertical"?"Y":"X")]:Q4[n]||Kg},jue=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,u=t.connectNulls,h=u===void 0?!1:u,f=wue(n,l),p=h?i.filter(function(y){return Pp(y)}):i,g;if(Array.isArray(o)){var v=h?o.filter(function(y){return Pp(y)}):o,b=p.map(function(y,x){return J4(J4({},y),{},{base:v[x]})});return l==="vertical"?g=Np().y(Ku).x1(Gu).x0(function(y){return y.base.x}):g=Np().x(Gu).y1(Ku).y0(function(y){return y.base.y}),g.defined(Pp).curve(f),g(b)}return l==="vertical"&&Se(o)?g=Np().y(Ku).x1(Gu).x0(o):Se(o)?g=Np().x(Gu).y1(Ku).y0(o):g=H6().x(Gu).y(Ku),g.defined(Pp).curve(f),g(p)},Oo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?jue(t):a;return w.createElement("path",_1({},ze(t,!1),gm(t),{className:nt("recharts-curve",r),d:o,ref:i}))},vj={exports:{}},bj,Z4;function Nue(){if(Z4)return bj;Z4=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bj=e,bj}var wj,eI;function _ue(){if(eI)return wj;eI=1;var e=Nue();function t(){}function r(){}return r.resetWarningCache=t,wj=function(){function n(o,l,u,h,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},wj}var tI;function Sue(){return tI||(tI=1,vj.exports=_ue()()),vj.exports}var kue=Sue();const jt=bt(kue);var Eue=Object.getOwnPropertyNames,Aue=Object.getOwnPropertySymbols,Tue=Object.prototype.hasOwnProperty;function rI(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Rp(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var u=e(r,n,a);return i.delete(r),i.delete(n),u}}function Oue(e){return e?.[Symbol.toStringTag]}function nI(e){return Eue(e).concat(Aue(e))}var Cue=Object.hasOwn||(function(e,t){return Tue.call(e,t)});function tl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Pue="__v",Rue="__o",Iue="_owner",sI=Object.getOwnPropertyDescriptor,aI=Object.keys;function Due(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Mue(e,t){return tl(e.getTime(),t.getTime())}function $ue(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Lue(e,t){return e===t}function iI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,u=0;(o=i.next())&&!o.done;){for(var h=t.entries(),f=!1,p=0;(l=h.next())&&!l.done;){if(a[p]){p++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],u,p,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){f=a[p]=!0;break}p++}if(!f)return!1;u++}return!0}var Fue=tl;function Uue(e,t,r){var n=aI(e),a=n.length;if(aI(t).length!==a)return!1;for(;a-- >0;)if(!YF(e,t,r,n[a]))return!1;return!0}function Yu(e,t,r){var n=nI(e),a=n.length;if(nI(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!YF(e,t,r,i)||(o=sI(e,i),l=sI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Bue(e,t){return tl(e.valueOf(),t.valueOf())}function zue(e,t){return e.source===t.source&&e.flags===t.flags}function oI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var u=t.values(),h=!1,f=0;(l=u.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){h=a[f]=!0;break}f++}if(!h)return!1}return!0}function Wue(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function que(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YF(e,t,r,n){return(n===Iue||n===Rue||n===Pue)&&(e.$$typeof||t.$$typeof)?!0:Cue(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Vue="[object Arguments]",Hue="[object Boolean]",Gue="[object Date]",Kue="[object Error]",Yue="[object Map]",Xue="[object Number]",Jue="[object Object]",Que="[object RegExp]",Zue="[object Set]",ede="[object String]",tde="[object URL]",rde=Array.isArray,lI=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,cI=Object.assign,nde=Object.prototype.toString.call.bind(Object.prototype.toString);function sde(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,h=e.areRegExpsEqual,f=e.areSetsEqual,p=e.areTypedArraysEqual,g=e.areUrlsEqual,v=e.unknownTagComparators;return function(y,x,_){if(y===x)return!0;if(y==null||x==null)return!1;var N=typeof y;if(N!==typeof x)return!1;if(N!=="object")return N==="number"?o(y,x,_):N==="function"?a(y,x,_):!1;var E=y.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(y,x,_);if(rde(y))return t(y,x,_);if(lI!=null&&lI(y))return p(y,x,_);if(E===Date)return r(y,x,_);if(E===RegExp)return h(y,x,_);if(E===Map)return i(y,x,_);if(E===Set)return f(y,x,_);var C=nde(y);if(C===Gue)return r(y,x,_);if(C===Que)return h(y,x,_);if(C===Yue)return i(y,x,_);if(C===Zue)return f(y,x,_);if(C===Jue)return typeof y.then!="function"&&typeof x.then!="function"&&l(y,x,_);if(C===tde)return g(y,x,_);if(C===Kue)return n(y,x,_);if(C===Vue)return l(y,x,_);if(C===Hue||C===Xue||C===ede)return u(y,x,_);if(v){var S=v[C];if(!S){var k=Oue(y);k&&(S=v[k])}if(S)return S(y,x,_)}return!1}}function ade(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Yu:Due,areDatesEqual:Mue,areErrorsEqual:$ue,areFunctionsEqual:Lue,areMapsEqual:n?rI(iI,Yu):iI,areNumbersEqual:Fue,areObjectsEqual:n?Yu:Uue,arePrimitiveWrappersEqual:Bue,areRegExpsEqual:zue,areSetsEqual:n?rI(oI,Yu):oI,areTypedArraysEqual:n?Yu:Wue,areUrlsEqual:que,unknownTagComparators:void 0};if(r&&(a=cI({},a,r(a))),t){var i=Rp(a.areArraysEqual),o=Rp(a.areMapsEqual),l=Rp(a.areObjectsEqual),u=Rp(a.areSetsEqual);a=cI({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return a}function ide(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function ode(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(u,h){var f=n(),p=f.cache,g=p===void 0?t?new WeakMap:void 0:p,v=f.meta;return r(u,h,{cache:g,equals:a,meta:v,strict:i})};if(t)return function(u,h){return r(u,h,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(u,h){return r(u,h,o)}}var lde=Bi();Bi({strict:!0});Bi({circular:!0});Bi({circular:!0,strict:!0});Bi({createInternalComparator:function(){return tl}});Bi({strict:!0,createInternalComparator:function(){return tl}});Bi({circular:!0,createInternalComparator:function(){return tl}});Bi({circular:!0,createInternalComparator:function(){return tl},strict:!0});function Bi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=ade(e),u=sde(l),h=n?n(u):ide(u);return ode({circular:r,comparator:u,createState:a,equals:h,strict:o})}function cde(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):cde(a)};requestAnimationFrame(n)}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function ude(e){return pde(e)||fde(e)||hde(e)||dde()}function dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hde(e,t){if(e){if(typeof e=="string")return dI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(e,t)}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pde(e){if(Array.isArray(e))return e}function mde(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=ude(o),u=l[0],h=l.slice(1);if(typeof u=="number"){uI(a.bind(null,h),u);return}a(u),uI(a.bind(null,h));return}S1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XF(e,t,r){return t=gde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gde(e){var t=xde(e,"string");return sh(t)==="symbol"?t:String(t)}function xde(e,t){if(sh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yde=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},vde=function(t){return t},bde=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},md=function(t,r){return Object.keys(r).reduce(function(n,a){return fI(fI({},n),{},XF({},a,t(a,r[a])))},{})},pI=function(t,r,n){return t.map(function(a){return"".concat(bde(a)," ").concat(r,"ms ").concat(n)}).join(",")};function wde(e,t){return _de(e)||Nde(e,t)||JF(e,t)||jde()}function jde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function _de(e){if(Array.isArray(e))return e}function Sde(e){return Ade(e)||Ede(e)||JF(e)||kde()}function kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JF(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function Ede(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ade(e){if(Array.isArray(e))return k1(e)}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qm=1e-4,QF=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZF=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mI=function(t,r){return function(n){var a=QF(t,r);return ZF(a,n)}},Tde=function(t,r){return function(n){var a=QF(t,r),i=[].concat(Sde(a.map(function(o,l){return o*l}).slice(1)),[0]);return ZF(i,n)}},gI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=wde(h,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var p=mI(a,o),g=mI(i,l),v=Tde(a,o),b=function(_){return _>1?1:_<0?0:_},y=function(_){for(var N=_>1?1:_,E=N,C=0;C<8;++C){var S=p(E)-N,k=v(E);if(Math.abs(S-N)<qm||k<qm)return g(E);E=b(E-S/k)}return g(E)};return y.isStepper=!1,y},Ode=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,u=function(f,p,g){var v=-(f-p)*n,b=g*i,y=g+(v-b)*l/1e3,x=g*l/1e3+f;return Math.abs(x-p)<qm&&Math.abs(y)<qm?[p,0]:[x,y]};return u.isStepper=!0,u.dt=l,u},Cde=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gI(a);case"spring":return Ode();default:if(a.split("(")[0]==="cubic-bezier")return gI(a)}return typeof a=="function"?a:null};function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function xI(e){return Ide(e)||Rde(e)||e8(e)||Pde()}function Pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ide(e){if(Array.isArray(e))return A1(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){E1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E1(e,t,r){return t=Dde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dde(e){var t=Mde(e,"string");return ah(t)==="symbol"?t:String(t)}function Mde(e,t){if(ah(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $de(e,t){return Ude(e)||Fde(e,t)||e8(e,t)||Lde()}function Lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function Ude(e){if(Array.isArray(e))return e}var Vm=function(t,r,n){return t+(r-t)*n},T1=function(t){var r=t.from,n=t.to;return r!==n},Bde=function e(t,r,n){var a=md(function(i,o){if(T1(o)){var l=t(o.from,o.to,o.velocity),u=$de(l,2),h=u[0],f=u[1];return Br(Br({},o),{},{from:h,velocity:f})}return o},r);return n<1?md(function(i,o){return T1(o)?Br(Br({},o),{},{velocity:Vm(o.velocity,a[i].velocity,n),from:Vm(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const zde=(function(e,t,r,n,a){var i=yde(e,t),o=i.reduce(function(x,_){return Br(Br({},x),{},E1({},_,[e[_],t[_]]))},{}),l=i.reduce(function(x,_){return Br(Br({},x),{},E1({},_,{from:e[_],velocity:0,to:t[_]}))},{}),u=-1,h,f,p=function(){return null},g=function(){return md(function(_,N){return N.from},l)},v=function(){return!Object.values(l).filter(T1).length},b=function(_){h||(h=_);var N=_-h,E=N/r.dt;l=Bde(r,l,E),a(Br(Br(Br({},e),t),g())),h=_,v()||(u=requestAnimationFrame(p))},y=function(_){f||(f=_);var N=(_-f)/n,E=md(function(S,k){return Vm.apply(void 0,xI(k).concat([r(N)]))},o);if(a(Br(Br(Br({},e),t),E)),N<1)u=requestAnimationFrame(p);else{var C=md(function(S,k){return Vm.apply(void 0,xI(k).concat([r(1)]))},o);a(Br(Br(Br({},e),t),C))}};return p=r.isStepper?b:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(u)}}});function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var Wde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qde(e,t){if(e==null)return{};var r=Vde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vde(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function jj(e){return Yde(e)||Kde(e)||Gde(e)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function Kde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yde(e){if(Array.isArray(e))return O1(e)}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){ad(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ad(e,t,r){return t=t8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t8(n.key),n)}}function Qde(e,t,r){return t&&Jde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t8(e){var t=Zde(e,"string");return xc(t)==="symbol"?t:String(t)}function Zde(e,t){if(xc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ehe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C1(e,t)}function the(e){var t=rhe();return function(){var n=Hm(e),a;if(t){var i=Hm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return P1(this,a)}}function P1(e,t){if(t&&(xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1(e)}function R1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}var Rs=(function(e){ehe(r,e);var t=the(r);function r(n,a){var i;Xde(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,u=o.attributeName,h=o.from,f=o.to,p=o.steps,g=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(R1(i)),i.changeStyle=i.changeStyle.bind(R1(i)),!l||v<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:f}),P1(i);if(p&&p.length)i.state={style:p[0].style};else if(h){if(typeof g=="function")return i.state={style:h},P1(i);i.state={style:u?ad({},u,h):h}}else i.state={style:{}};return i}return Qde(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,u=i.attributeName,h=i.shouldReAnimate,f=i.to,p=i.from,g=this.state.style;if(l){if(!o){var v={style:u?ad({},u,f):f};this.state&&g&&(u&&g[u]!==f||!u&&g!==f)&&this.setState(v);return}if(!(lde(a.to,f)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||h?p:a.to;if(this.state&&g){var x={style:u?ad({},u,y):y};(u&&g[u]!==y||!u&&g!==y)&&this.setState(x)}this.runAnimation(vs(vs({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,u=a.duration,h=a.easing,f=a.begin,p=a.onAnimationEnd,g=a.onAnimationStart,v=zde(o,l,Cde(h),u,this.changeStyle),b=function(){i.stopJSAnimation=v()};this.manager.start([g,f,b,u,p])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,u=a.onAnimationStart,h=o[0],f=h.style,p=h.duration,g=p===void 0?0:p,v=function(y,x,_){if(_===0)return y;var N=x.duration,E=x.easing,C=E===void 0?"ease":E,S=x.style,k=x.properties,A=x.onAnimationEnd,P=_>0?o[_-1]:x,O=k||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(jj(y),[i.runJSAnimation.bind(i,{from:P.style,to:S,duration:N,easing:C}),N]);var I=pI(O,N,C),D=vs(vs(vs({},P.style),S),{},{transition:I});return[].concat(jj(y),[D,N,A]).filter(vde)};return this.manager.start([u].concat(jj(o.reduce(v,[f,Math.max(g,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=mde());var i=a.begin,o=a.duration,l=a.attributeName,u=a.to,h=a.easing,f=a.onAnimationStart,p=a.onAnimationEnd,g=a.steps,v=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var y=l?ad({},l,u):u,x=pI(Object.keys(y),o,h);b.start([f,i,vs(vs({},y),{},{transition:x}),o,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var u=qde(a,Wde),h=w.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||h===0||o<=0)return i;var p=function(v){var b=v.props,y=b.style,x=y===void 0?{}:y,_=b.className,N=w.cloneElement(v,vs(vs({},u),{},{style:vs(vs({},x),f),className:_}));return N};return h===1?p(w.Children.only(i)):B.createElement("div",null,w.Children.map(i,function(g){return p(g)}))}}]),r})(w.PureComponent);Rs.displayName="Animate";Rs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rs.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(this,arguments)}function nhe(e,t){return ohe(e)||ihe(e,t)||ahe(e,t)||she()}function she(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(e,t){if(e){if(typeof e=="string")return bI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bI(e,t)}}function bI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ihe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function ohe(e){if(Array.isArray(e))return e}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){lhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lhe(e,t,r){return t=che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function che(e){var t=uhe(e,"string");return ih(t)=="symbol"?t:t+""}function uhe(e,t){if(ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NI=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,u=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>o?o:i[g];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+u*p[0],",").concat(r)),f+="L ".concat(t+n-u*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+l*p[1])),f+="L ".concat(t+n,",").concat(r+a-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-u*p[2],",").concat(r+a)),f+="L ".concat(t+u*p[3],",").concat(r+a),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+a-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);f="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+u*b,",").concat(r,`
            L `).concat(t+n-u*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n-u*b,",").concat(r+a,`
            L `).concat(t+u*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t,",").concat(r+a-l*b," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},dhe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var h=Math.min(i,i+l),f=Math.max(i,i+l),p=Math.min(o,o+u),g=Math.max(o,o+u);return n>=h&&n<=f&&a>=p&&a<=g}return!1},hhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ak=function(t){var r=jI(jI({},hhe),t),n=w.useRef(),a=w.useState(-1),i=nhe(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var u=r.x,h=r.y,f=r.width,p=r.height,g=r.radius,v=r.className,b=r.animationEasing,y=r.animationDuration,x=r.animationBegin,_=r.isAnimationActive,N=r.isUpdateAnimationActive;if(u!==+u||h!==+h||f!==+f||p!==+p||f===0||p===0)return null;var E=nt("recharts-rectangle",v);return N?B.createElement(Rs,{canBegin:o>0,from:{width:f,height:p,x:u,y:h},to:{width:f,height:p,x:u,y:h},duration:y,animationEasing:b,isActive:N},function(C){var S=C.width,k=C.height,A=C.x,P=C.y;return B.createElement(Rs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:_,easing:b},B.createElement("path",Gm({},ze(r,!0),{className:E,d:NI(A,P,S,k,g),ref:n})))}):B.createElement("path",Gm({},ze(r,!0),{className:E,d:NI(u,h,f,p,g)}))},fhe=["points","className","baseLinePoints","connectNulls"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function phe(e,t){if(e==null)return{};var r=mhe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _I(e){return vhe(e)||yhe(e)||xhe(e)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function yhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vhe(e){if(Array.isArray(e))return I1(e)}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SI=function(t){return t&&t.x===+t.x&&t.y===+t.y},bhe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){SI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),SI(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gd=function(t,r){var n=bhe(t);r&&(n=[n.reduce(function(i,o){return[].concat(_I(i),_I(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},whe=function(t,r,n){var a=gd(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(gd(r.reverse(),n).slice(1))},jhe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=phe(t,fhe);if(!r||!r.length)return null;var l=nt("recharts-polygon",n);if(a&&a.length){var u=o.stroke&&o.stroke!=="none",h=whe(r,a,i);return B.createElement("g",{className:l},B.createElement("path",ql({},ze(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:h})),u?B.createElement("path",ql({},ze(o,!0),{fill:"none",d:gd(r,i)})):null,u?B.createElement("path",ql({},ze(o,!0),{fill:"none",d:gd(a,i)})):null)}var f=gd(r,i);return B.createElement("path",ql({},ze(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(this,arguments)}var Mh=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=nt("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",D1({},ze(t,!1),gm(t),{className:o,cx:r,cy:n,r:a})):null};function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}var Nhe=["x","y","top","left","width","height","className"];function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(this,arguments)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){She(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function She(e,t,r){return t=khe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function khe(e){var t=Ehe(e,"string");return oh(t)=="symbol"?t:t+""}function Ehe(e,t){if(oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ahe(e,t){if(e==null)return{};var r=The(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function The(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ohe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Che=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,u=t.left,h=u===void 0?0:u,f=t.width,p=f===void 0?0:f,g=t.height,v=g===void 0?0:g,b=t.className,y=Ahe(t,Nhe),x=_he({x:n,y:i,top:l,left:h,width:p,height:v},y);return!Se(n)||!Se(i)||!Se(p)||!Se(v)||!Se(l)||!Se(h)?null:B.createElement("path",M1({},ze(x,!0),{className:nt("recharts-cross",b),d:Ohe(n,i,p,v,l,h)}))},Nj,EI;function Phe(){if(EI)return Nj;EI=1;var e=ax(),t=gF(),r=pa();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return Nj=n,Nj}var Rhe=Phe();const Ihe=bt(Rhe);var _j,AI;function Dhe(){if(AI)return _j;AI=1;var e=ax(),t=pa(),r=xF();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return _j=n,_j}var Mhe=Dhe();const $he=bt(Mhe);var Lhe=["cx","cy","angle","ticks","axisLine"],Fhe=["ticks","tick","angle","tickFormatter","stroke"];function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){cx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OI(e,t){if(e==null)return{};var r=Uhe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n8(n.key),n)}}function zhe(e,t,r){return t&&CI(e.prototype,t),r&&CI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Whe(e,t,r){return t=Km(t),qhe(e,r8()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function qhe(e,t){if(t&&(yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vhe(e)}function Vhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r8=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function Hhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$1(e,t)}function cx(e,t,r){return t=n8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=Ghe(e,"string");return yc(t)=="symbol"?t:t+""}function Ghe(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ux=(function(e){function t(){return Bhe(this,t),Whe(this,t,arguments)}return Hhe(t,e),zhe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,u=i.cy;return It(l,u,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,u=Ihe(l,function(f){return f.coordinate||0}),h=$he(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:h.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,u=n.axisLine,h=OI(n,Lhe),f=l.reduce(function(b,y){return[Math.min(b[0],y.coordinate),Math.max(b[1],y.coordinate)]},[1/0,-1/0]),p=It(a,i,f[0],o),g=It(a,i,f[1],o),v=co(co(co({},ze(h,!1)),{},{fill:"none"},ze(u,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return B.createElement("line",xd({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,u=a.tickFormatter,h=a.stroke,f=OI(a,Fhe),p=this.getTickTextAnchor(),g=ze(f,!1),v=ze(o,!1),b=i.map(function(y,x){var _=n.getTickValueCoord(y),N=co(co(co(co({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},g),{},{stroke:"none",fill:h},v),{},{index:x},_),{},{payload:y});return B.createElement(ut,xd({className:nt("recharts-polar-radius-axis-tick",VF(o)),key:"tick-".concat(y.coordinate)},Do(n.props,y,x)),t.renderTickItem(o,N,u?u(y.value,x):y.value))});return B.createElement(ut,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:B.createElement(ut,{className:nt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):Qe(n)?o=n(a):o=B.createElement(Mo,xd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(w.PureComponent);cx(ux,"displayName","PolarRadiusAxis");cx(ux,"axisType","radiusAxis");cx(ux,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Khe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a8(n.key),n)}}function Yhe(e,t,r){return t&&RI(e.prototype,t),r&&RI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xhe(e,t,r){return t=Ym(t),Jhe(e,s8()?Reflect.construct(t,r||[],Ym(e).constructor):t.apply(e,r))}function Jhe(e,t){if(t&&(vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(e)}function Qhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(e)}function Zhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L1(e,t)}function dx(e,t,r){return t=a8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=efe(e,"string");return vc(t)=="symbol"?t:t+""}function efe(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tfe=Math.PI/180,II=1e-5,hx=(function(e){function t(){return Khe(this,t),Xhe(this,t,arguments)}return Zhe(t,e),Yhe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,u=a.orientation,h=a.tickSize,f=h||8,p=It(i,o,l,n.coordinate),g=It(i,o,l+(u==="inner"?-1:1)*f,n.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*tfe),o;return i>II?o=a==="outer"?"start":"end":i<-II?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,u=n.axisLineType,h=uo(uo({},ze(this.props,!1)),{},{fill:"none"},ze(l,!1));if(u==="circle")return B.createElement(Mh,vo({className:"recharts-polar-angle-axis-line"},h,{cx:a,cy:i,r:o}));var f=this.props.ticks,p=f.map(function(g){return It(a,i,o,g.coordinate)});return B.createElement(jhe,vo({className:"recharts-polar-angle-axis-line"},h,{points:p}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,u=a.tickFormatter,h=a.stroke,f=ze(this.props,!1),p=ze(o,!1),g=uo(uo({},f),{},{fill:"none"},ze(l,!1)),v=i.map(function(b,y){var x=n.getTickLineCoord(b),_=n.getTickTextAnchor(b),N=uo(uo(uo({textAnchor:_},f),{},{stroke:"none",fill:h},p),{},{index:y,payload:b,x:x.x2,y:x.y2});return B.createElement(ut,vo({className:nt("recharts-polar-angle-axis-tick",VF(o)),key:"tick-".concat(b.coordinate)},Do(n.props,b,y)),l&&B.createElement("line",vo({className:"recharts-polar-angle-axis-tick-line"},g,x)),o&&t.renderTickItem(o,N,u?u(b.value,y):b.value))});return B.createElement(ut,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:B.createElement(ut,{className:nt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):Qe(n)?o=n(a):o=B.createElement(Mo,vo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(w.PureComponent);dx(hx,"displayName","PolarAngleAxis");dx(hx,"axisType","angleAxis");dx(hx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Sj,DI;function rfe(){if(DI)return Sj;DI=1;var e=mL(),t=e(Object.getPrototypeOf,Object);return Sj=t,Sj}var kj,MI;function nfe(){if(MI)return kj;MI=1;var e=Ka(),t=rfe(),r=Ya(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,u=o.call(Object);function h(f){if(!r(f)||e(f)!=n)return!1;var p=t(f);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==u}return kj=h,kj}var sfe=nfe();const afe=bt(sfe);var Ej,$I;function ife(){if($I)return Ej;$I=1;var e=Ka(),t=Ya(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Ej=n,Ej}var ofe=ife();const lfe=bt(ofe);function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}function cfe(e,t){return ffe(e)||hfe(e,t)||dfe(e,t)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(e,t){if(e){if(typeof e=="string")return LI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(e,t)}}function LI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function ffe(e){if(Array.isArray(e))return e}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pfe(e,t,r){return t=mfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mfe(e){var t=gfe(e,"string");return lh(t)=="symbol"?t:t+""}function gfe(e,t){if(lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BI=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},xfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yfe=function(t){var r=UI(UI({},xfe),t),n=w.useRef(),a=w.useState(-1),i=cfe(a,2),o=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var u=r.x,h=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,b=r.animationEasing,y=r.animationDuration,x=r.animationBegin,_=r.isUpdateAnimationActive;if(u!==+u||h!==+h||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var N=nt("recharts-trapezoid",v);return _?B.createElement(Rs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:h},to:{upperWidth:f,lowerWidth:p,height:g,x:u,y:h},duration:y,animationEasing:b,isActive:_},function(E){var C=E.upperWidth,S=E.lowerWidth,k=E.height,A=E.x,P=E.y;return B.createElement(Rs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:b},B.createElement("path",Xm({},ze(r,!0),{className:N,d:BI(A,P,C,S,k),ref:n})))}):B.createElement("g",null,B.createElement("path",Xm({},ze(r,!0),{className:N,d:BI(u,h,f,p,g)})))},vfe=["option","shapeType","propTransformer","activeClassName","isActive"];function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function bfe(e,t){if(e==null)return{};var r=wfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(r),!0).forEach(function(n){jfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jfe(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=_fe(e,"string");return ch(t)=="symbol"?t:t+""}function _fe(e,t){if(ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sfe(e,t){return Jm(Jm({},t),e)}function kfe(e,t){return e==="symbols"}function WI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return B.createElement(ak,r);case"trapezoid":return B.createElement(yfe,r);case"sector":return B.createElement(KF,r);case"symbols":if(kfe(t))return B.createElement(_S,r);break;default:return null}}function Efe(e){return w.isValidElement(e)?e.props:e}function i8(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Sfe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,u=bfe(e,vfe),h;if(w.isValidElement(t))h=w.cloneElement(t,Jm(Jm({},u),Efe(t)));else if(Qe(t))h=t(u);else if(afe(t)&&!lfe(t)){var f=a(t,u);h=B.createElement(WI,{shapeType:r,elementProps:f})}else{var p=u;h=B.createElement(WI,{shapeType:r,elementProps:p})}return l?B.createElement(ut,{className:o},h):h}function fx(e,t){return t!=null&&"trapezoids"in e.props}function px(e,t){return t!=null&&"sectors"in e.props}function uh(e,t){return t!=null&&"points"in e.props}function Afe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Tfe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ofe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Cfe(e,t){var r;return fx(e,t)?r=Afe:px(e,t)?r=Tfe:uh(e,t)&&(r=Ofe),r}function Pfe(e,t){var r;return fx(e,t)?r="trapezoids":px(e,t)?r="sectors":uh(e,t)&&(r="points"),r}function Rfe(e,t){if(fx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(px(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return uh(e,t)?t.payload:{}}function Ife(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Pfe(r,t),i=Rfe(r,t),o=n.filter(function(u,h){var f=$o(i,u),p=r.props[a].filter(function(b){var y=Cfe(r,t);return y(b,t)}),g=r.props[a].indexOf(p[p.length-1]),v=h===g;return f&&v}),l=n.indexOf(o[o.length-1]);return l}var Hp;function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l8(n.key),n)}}function Mfe(e,t,r){return t&&VI(e.prototype,t),r&&VI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $fe(e,t,r){return t=Qm(t),Lfe(e,o8()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function Lfe(e,t){if(t&&(bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ffe(e)}function Ffe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o8=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function Ufe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F1(e,t)}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F1(e,t)}function os(e,t,r){return t=l8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=Bfe(e,"string");return bc(t)=="symbol"?t:t+""}function Bfe(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fs=(function(e){function t(r){var n;return Dfe(this,t),n=$fe(this,t,[r]),os(n,"pieRef",null),os(n,"sectorRefs",[]),os(n,"id",Qo("recharts-pie-")),os(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(a)&&a()}),os(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Ufe(t,e),Mfe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,u=i.dataKey,h=i.valueKey,f=ze(this.props,!1),p=ze(o,!1),g=ze(l,!1),v=o&&o.offsetRadius||20,b=n.map(function(y,x){var _=(y.startAngle+y.endAngle)/2,N=It(y.cx,y.cy,y.outerRadius+v,_),E=Pt(Pt(Pt(Pt({},f),y),{},{stroke:"none"},p),{},{index:x,textAnchor:t.getTextAnchor(N.x,y.cx)},N),C=Pt(Pt(Pt(Pt({},f),y),{},{fill:"none",stroke:y.fill},g),{},{index:x,points:[It(y.cx,y.cy,y.outerRadius,_),N]}),S=u;return rt(u)&&rt(h)?S="value":rt(u)&&(S=h),B.createElement(ut,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,E,tr(y,S)))});return B.createElement(ut,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,u=i.inactiveShape;return n.map(function(h,f){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var p=a.isActiveIndex(f),g=u&&a.hasActiveIndex()?u:null,v=p?o:g,b=Pt(Pt({},h),{},{stroke:l?h.fill:h.stroke,tabIndex:-1});return B.createElement(ut,Vl({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Do(a.props,h,f),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(f)}),B.createElement(i8,Vl({option:v,isActive:p,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,h=a.animationEasing,f=a.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return B.createElement(Rs,{begin:l,duration:u,isActive:o,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var y=b.t,x=[],_=i&&i[0],N=_.startAngle;return i.forEach(function(E,C){var S=g&&g[C],k=C>0?Bn(E,"paddingAngle",0):0;if(S){var A=br(S.endAngle-S.startAngle,E.endAngle-E.startAngle),P=Pt(Pt({},E),{},{startAngle:N+k,endAngle:N+A(y)+k});x.push(P),N=P.endAngle}else{var O=E.endAngle,I=E.startAngle,D=br(0,O-I),L=D(y),F=Pt(Pt({},E),{},{startAngle:N+k,endAngle:N+L+k});x.push(F),N=F.endAngle}}),B.createElement(ut,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!$o(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,u=a.label,h=a.cx,f=a.cy,p=a.innerRadius,g=a.outerRadius,v=a.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!Se(h)||!Se(f)||!Se(p)||!Se(g))return null;var y=nt("recharts-pie",l);return B.createElement(ut,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){n.pieRef=_}},this.renderSectors(),u&&this.renderLabels(o),Or.renderCallByParent(this.props,null,!1),(!v||b)&&sa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);if(Qe(n))return n(a);var o=nt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return B.createElement(Oo,Vl({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);var o=i;if(Qe(n)&&(o=n(a),B.isValidElement(o)))return o;var l=nt("recharts-pie-label-text",typeof n!="boolean"&&!Qe(n)?n.className:"");return B.createElement(Mo,Vl({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(w.PureComponent);Hp=Fs;os(Fs,"displayName","Pie");os(Fs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Li.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});os(Fs,"parseDeltaAngle",function(e,t){var r=an(t-e),n=Math.min(Math.abs(t-e),360);return r*n});os(Fs,"getRealPieData",function(e){var t=e.data,r=e.children,n=ze(e,!1),a=zn(r,Xc);return t&&t.length?t.map(function(i,o){return Pt(Pt(Pt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Pt(Pt({},n),i.props)}):[]});os(Fs,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=qF(a,i),l=n+on(e.cx,a,a/2),u=r+on(e.cy,i,i/2),h=on(e.innerRadius,o,0),f=on(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:u,innerRadius:h,outerRadius:f,maxRadius:p}});os(Fs,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Pt(Pt({},t.type.defaultProps),t.props):t.props,a=Hp.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,u=n.paddingAngle,h=n.dataKey,f=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),b=Hp.parseCoordinateOfPie(n,r),y=Hp.parseDeltaAngle(o,l),x=Math.abs(y),_=h;rt(h)&&rt(p)?(As(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):rt(h)&&(As(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=p);var N=a.filter(function(P){return tr(P,_,0)!==0}).length,E=(x>=360?N:N-1)*u,C=x-N*v-E,S=a.reduce(function(P,O){var I=tr(O,_,0);return P+(Se(I)?I:0)},0),k;if(S>0){var A;k=a.map(function(P,O){var I=tr(P,_,0),D=tr(P,f,O),L=(Se(I)?I:0)/S,F;O?F=A.endAngle+an(y)*u*(I!==0?1:0):F=o;var G=F+an(y)*((I!==0?v:0)+L*C),K=(F+G)/2,U=(b.innerRadius+b.outerRadius)/2,q=[{name:D,value:I,payload:P,dataKey:_,type:g}],M=It(b.cx,b.cy,U,K);return A=Pt(Pt(Pt({percent:L,cornerRadius:i,name:D,tooltipPayload:q,midAngle:K,middleRadius:U,tooltipPosition:M},P),b),{},{value:tr(P,_),startAngle:F,endAngle:G,payload:P,paddingAngle:an(y)*u}),A})}return Pt(Pt({},b),{},{sectors:k,data:a})});var Aj,HI;function zfe(){if(HI)return Aj;HI=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var l=-1,u=t(e((a-n)/(i||1)),0),h=Array(u);u--;)h[o?u:++l]=n,n+=i;return h}return Aj=r,Aj}var Tj,GI;function c8(){if(GI)return Tj;GI=1;var e=CL(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return Tj=n,Tj}var Oj,KI;function Wfe(){if(KI)return Oj;KI=1;var e=zfe(),t=Qg(),r=c8();function n(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,a)}}return Oj=n,Oj}var Cj,YI;function qfe(){if(YI)return Cj;YI=1;var e=Wfe(),t=e();return Cj=t,Cj}var Vfe=qfe();const Zm=bt(Vfe);function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){u8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8(e,t,r){return t=Hfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hfe(e){var t=Gfe(e,"string");return dh(t)=="symbol"?t:t+""}function Gfe(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kfe=["Webkit","Moz","O","ms"],Yfe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Kfe.reduce(function(i,o){return JI(JI({},i),{},u8({},o+n,r))},{});return a[t]=r,a};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){Pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h8(n.key),n)}}function Jfe(e,t,r){return t&&ZI(e.prototype,t),r&&ZI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qfe(e,t,r){return t=tg(t),Zfe(e,d8()?Reflect.construct(t,r||[],tg(e).constructor):t.apply(e,r))}function Zfe(e,t){if(t&&(wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return epe(e)}function epe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!e})()}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(e)}function tpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U1(e,t)}function U1(e,t){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U1(e,t)}function Pn(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=rpe(e,"string");return wc(t)=="symbol"?t:t+""}function rpe(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var npe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,h=fd().domain(Zm(0,u)).range([i,i+o-l]),f=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:f}},e5=function(t){return t.changedTouches&&!!t.changedTouches.length},jc=(function(e){function t(r){var n;return Xfe(this,t),n=Qfe(this,t,[r]),Pn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Pn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pn(n,"handleSlideDragStart",function(a){var i=e5(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return tpe(t,e),Jfe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,h=l.data,f=h.length-1,p=Math.min(a,i),g=Math.max(a,i),v=t.getIndexInRange(o,p),b=t.getIndexInRange(o,g);return{startIndex:v-v%u,endIndex:b===f?f:b-b%u}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,u=tr(i[n],l,n);return Qe(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,u=this.props,h=u.x,f=u.width,p=u.travellerWidth,g=u.startIndex,v=u.endIndex,b=u.onChange,y=n.pageX-i;y>0?y=Math.min(y,h+f-p-l,h+f-p-o):y<0&&(y=Math.max(y,h-o,h-l));var x=this.getIndex({startX:o+y,endX:l+y});(x.startIndex!==g||x.endIndex!==v)&&b&&b(x),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=e5(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,u=a.startX,h=this.state[o],f=this.props,p=f.x,g=f.width,v=f.travellerWidth,b=f.onChange,y=f.gap,x=f.data,_={startX:this.state.startX,endX:this.state.endX},N=n.pageX-i;N>0?N=Math.min(N,p+g-v-h):N<0&&(N=Math.max(N,p-h)),_[o]=h+N;var E=this.getIndex(_),C=E.startIndex,S=E.endIndex,k=function(){var P=x.length-1;return o==="startX"&&(l>u?C%y===0:S%y===0)||l<u&&S===P||o==="endX"&&(l>u?S%y===0:C%y===0)||l>u&&S===P};this.setState(Pn(Pn({},o,h+N),"brushMoveStartX",n.pageX),function(){b&&k()&&b(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,u=o.startX,h=o.endX,f=this.state[a],p=l.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=l.length)){var v=l[g];a==="startX"&&v>=h||a==="endX"&&v<=u||this.setState(Pn({},a,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,u=n.fill,h=n.stroke;return B.createElement("rect",{stroke:h,fill:u,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,u=n.data,h=n.children,f=n.padding,p=w.Children.only(h);return p?B.cloneElement(p,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,u=this.props,h=u.y,f=u.travellerWidth,p=u.height,g=u.traveller,v=u.ariaLabel,b=u.data,y=u.startIndex,x=u.endIndex,_=Math.max(n,this.props.x),N=Pj(Pj({},ze(this.props,!1)),{},{x:_,y:h,width:f,height:p}),E=v||"Min value: ".concat((i=b[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[x])===null||o===void 0?void 0:o.name);return B.createElement(ut,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,u=i.stroke,h=i.travellerWidth,f=Math.min(n,a)+h,p=Math.max(Math.abs(a-n)-h,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,h=n.stroke,f=this.state,p=f.startX,g=f.endX,v=5,b={pointerEvents:"none",fill:h};return B.createElement(ut,{className:"recharts-brush-texts"},B.createElement(Mo,eg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:o+l/2},b),this.getTextOfTick(a)),B.createElement(Mo,eg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+u+v,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,u=n.y,h=n.width,f=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,b=g.endX,y=g.isTextActive,x=g.isSlideMoving,_=g.isTravellerMoving,N=g.isTravellerFocused;if(!a||!a.length||!Se(l)||!Se(u)||!Se(h)||!Se(f)||h<=0||f<=0)return null;var E=nt("recharts-brush",i),C=B.Children.count(o)===1,S=Yfe("userSelect","none");return B.createElement(ut,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(y||x||_||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,u=n.stroke,h=Math.floor(i+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:a,y:i,width:o,height:l,fill:u,stroke:"none"}),B.createElement("line",{x1:a+1,y1:h,x2:a+o-1,y2:h,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:a+1,y1:h+2,x2:a+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return B.isValidElement(n)?i=B.cloneElement(n,a):Qe(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,u=n.travellerWidth,h=n.updateId,f=n.startIndex,p=n.endIndex;if(i!==a.prevData||h!==a.prevUpdateId)return Pj({prevData:i,prevTravellerWidth:u,prevUpdateId:h,prevX:l,prevWidth:o},i&&i.length?npe({data:i,width:o,x:l,travellerWidth:u,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+o-u]);var g=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:h,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>a?l=u:o=u}return a>=n[l]?l:o}}])})(w.PureComponent);Pn(jc,"displayName","Brush");Pn(jc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rj,t5;function spe(){if(t5)return Rj;t5=1;var e=CS();function t(r,n){var a;return e(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return Rj=t,Rj}var Ij,r5;function ape(){if(r5)return Ij;r5=1;var e=lL(),t=pa(),r=spe(),n=Sn(),a=Qg();function i(o,l,u){var h=n(o)?e:r;return u&&a(o,l,u)&&(l=void 0),h(o,t(l,3))}return Ij=i,Ij}var ipe=ape();const ope=bt(ipe);var aa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Dj,n5;function lpe(){if(n5)return Dj;n5=1;var e=kL();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Dj=t,Dj}var Mj,s5;function cpe(){if(s5)return Mj;s5=1;var e=lpe(),t=_L(),r=pa();function n(a,i){var o={};return i=r(i,3),t(a,function(l,u,h){e(o,u,i(l,u,h))}),o}return Mj=n,Mj}var upe=cpe();const dpe=bt(upe);var $j,a5;function hpe(){if(a5)return $j;a5=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return $j=e,$j}var Lj,i5;function fpe(){if(i5)return Lj;i5=1;var e=CS();function t(r,n){var a=!0;return e(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return Lj=t,Lj}var Fj,o5;function ppe(){if(o5)return Fj;o5=1;var e=hpe(),t=fpe(),r=pa(),n=Sn(),a=Qg();function i(o,l,u){var h=n(o)?e:t;return u&&a(o,l,u)&&(l=void 0),h(o,r(l,3))}return Fj=i,Fj}var mpe=ppe();const f8=bt(mpe);var gpe=["x","y"];function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){xpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xpe(e,t,r){return t=ype(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ype(e){var t=vpe(e,"string");return hh(t)=="symbol"?t:t+""}function vpe(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bpe(e,t){if(e==null)return{};var r=wpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jpe(e,t){var r=e.x,n=e.y,a=bpe(e,gpe),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),h="".concat(t.height||a.height),f=parseInt(h,10),p="".concat(t.width||a.width),g=parseInt(p,10);return Xu(Xu(Xu(Xu(Xu({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function c5(e){return B.createElement(i8,B1({shapeType:"rectangle",propTransformer:jpe,activeClassName:"recharts-active-bar"},e))}var Npe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Se(n)||Gee(n);return i?t(n,a):(i||Fo(),r)}},_pe=["value","background"],p8;function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Spe(e,t){if(e==null)return{};var r=kpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){Ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Epe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g8(n.key),n)}}function Ape(e,t,r){return t&&d5(e.prototype,t),r&&d5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tpe(e,t,r){return t=ng(t),Ope(e,m8()?Reflect.construct(t,r||[],ng(e).constructor):t.apply(e,r))}function Ope(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cpe(e)}function Cpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m8=function(){return!!e})()}function ng(e){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(e)}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z1(e,t)}function z1(e,t){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(e,t)}function Ai(e,t,r){return t=g8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8(e){var t=Rpe(e,"string");return Nc(t)=="symbol"?t:t+""}function Rpe(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ts=(function(e){function t(){var r;Epe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Tpe(this,t,[].concat(a)),Ai(r,"state",{isAnimationFinished:!1}),Ai(r,"id",Qo("recharts-bar-")),Ai(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ai(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Ppe(t,e),Ape(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,u=i.activeIndex,h=i.activeBar,f=ze(this.props,!1);return n&&n.map(function(p,g){var v=g===u,b=v?h:o,y=sr(sr(sr({},f),p),{},{isActive:v,option:b,index:g,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return B.createElement(ut,rg({className:"recharts-bar-rectangle"},Do(a.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),B.createElement(c5,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,u=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,g=this.state.prevData;return B.createElement(Rs,{begin:u,duration:h,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,y=i.map(function(x,_){var N=g&&g[_];if(N){var E=br(N.x,x.x),C=br(N.y,x.y),S=br(N.width,x.width),k=br(N.height,x.height);return sr(sr({},x),{},{x:E(b),y:C(b),width:S(b),height:k(b)})}if(o==="horizontal"){var A=br(0,x.height),P=A(b);return sr(sr({},x),{},{y:x.y+x.height-P,height:P})}var O=br(0,x.width),I=O(b);return sr(sr({},x),{},{width:I})});return B.createElement(ut,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!$o(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,u=ze(this.props.background,!1);return i.map(function(h,f){h.value;var p=h.background,g=Spe(h,_pe);if(!p)return null;var v=sr(sr(sr(sr(sr({},g),{},{fill:"#eee"},p),u),Do(n.props,h,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return B.createElement(c5,rg({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,u=i.yAxis,h=i.layout,f=i.children,p=zn(f,Dh);if(!p)return null;var g=h==="vertical"?o[0].height/2:o[0].width/2,v=function(x,_){var N=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:N,errorVal:tr(x,_)}},b={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(ut,b,p.map(function(y){return B.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:u,layout:h,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,u=n.yAxis,h=n.left,f=n.top,p=n.width,g=n.height,v=n.isAnimationActive,b=n.background,y=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,_=nt("recharts-bar",o),N=l&&l.allowDataOverflow,E=u&&u.allowDataOverflow,C=N||E,S=rt(y)?this.id:y;return B.createElement(ut,{className:_},N||E?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:N?h:h-p/2,y:E?f:f-g/2,width:N?p:p*2,height:E?g:g*2}))):null,B.createElement(ut,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!v||x)&&sa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(w.PureComponent);p8=Ts;Ai(Ts,"displayName","Bar");Ai(Ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Li.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ai(Ts,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,h=e.stackedData,f=e.dataStartIndex,p=e.displayedData,g=e.offset,v=oce(n,r);if(!v)return null;var b=t.layout,y=r.type.defaultProps,x=y!==void 0?sr(sr({},y),r.props):r.props,_=x.dataKey,N=x.children,E=x.minPointSize,C=b==="horizontal"?o:i,S=h?C.scale.domain():null,k=pce({numericAxis:C}),A=zn(N,Xc),P=p.map(function(O,I){var D,L,F,G,K,U;h?D=lce(h[f+I],S):(D=tr(O,_),Array.isArray(D)||(D=[k,D]));var q=Npe(E,p8.defaultProps.minPointSize)(D[1],I);if(b==="horizontal"){var M,V=[o.scale(D[0]),o.scale(D[1])],Q=V[0],z=V[1];L=M4({axis:i,ticks:l,bandSize:a,offset:v.offset,entry:O,index:I}),F=(M=z??Q)!==null&&M!==void 0?M:void 0,G=v.size;var J=Q-z;if(K=Number.isNaN(J)?0:J,U={x:L,y:o.y,width:G,height:o.height},Math.abs(q)>0&&Math.abs(K)<Math.abs(q)){var le=an(K||q)*(Math.abs(q)-Math.abs(K));F-=le,K+=le}}else{var se=[i.scale(D[0]),i.scale(D[1])],xe=se[0],X=se[1];if(L=xe,F=M4({axis:o,ticks:u,bandSize:a,offset:v.offset,entry:O,index:I}),G=X-xe,K=v.size,U={x:i.x,y:F,width:i.width,height:K},Math.abs(q)>0&&Math.abs(G)<Math.abs(q)){var re=an(G||q)*(Math.abs(q)-Math.abs(G));G+=re}}return sr(sr(sr({},O),{},{x:L,y:F,width:G,height:K,value:h?D:D[1],payload:O,background:U},A&&A[I]&&A[I].props),{},{tooltipPayload:[zF(r,O)],tooltipPosition:{x:L+G/2,y:F+K/2}})});return sr({data:P,layout:b},g)});function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function Ipe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x8(n.key),n)}}function Dpe(e,t,r){return t&&h5(e.prototype,t),r&&h5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mx(e,t,r){return t=x8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8(e){var t=Mpe(e,"string");return fh(t)=="symbol"?t:t+""}function Mpe(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ik=function(t,r,n,a,i){var o=t.width,l=t.height,u=t.layout,h=t.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Rn(h,Ts);return f.reduce(function(v,b){var y=r[b],x=y.orientation,_=y.domain,N=y.padding,E=N===void 0?{}:N,C=y.mirror,S=y.reversed,k="".concat(x).concat(C?"Mirror":""),A,P,O,I,D;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var L=_[1]-_[0],F=1/0,G=y.categoricalDomain.sort(Xee);if(G.forEach(function(se,xe){xe>0&&(F=Math.min((se||0)-(G[xe-1]||0),F))}),Number.isFinite(F)){var K=F/L,U=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(A=K*U/2),y.padding==="no-gap"){var q=on(t.barCategoryGap,K*U),M=K*U/2;A=M-q-(M-q)/U*q}}}a==="xAxis"?P=[n.left+(E.left||0)+(A||0),n.left+n.width-(E.right||0)-(A||0)]:a==="yAxis"?P=u==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(A||0),n.top+n.height-(E.bottom||0)-(A||0)]:P=y.range,S&&(P=[P[1],P[0]]);var V=LF(y,i,g),Q=V.scale,z=V.realScaleType;Q.domain(_).range(P),FF(Q);var J=UF(Q,_s(_s({},y),{},{realScaleType:z}));a==="xAxis"?(D=x==="top"&&!C||x==="bottom"&&C,O=n.left,I=p[k]-D*y.height):a==="yAxis"&&(D=x==="left"&&!C||x==="right"&&C,O=p[k]-D*y.width,I=n.top);var le=_s(_s(_s({},y),J),{},{realScaleType:z,x:O,y:I,scale:Q,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return le.bandSize=Bm(le,J),!y.hide&&a==="xAxis"?p[k]+=(D?-1:1)*le.height:y.hide||(p[k]+=(D?-1:1)*le.width),_s(_s({},v),{},mx({},b,le))},{})},y8=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},$pe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return y8({x:r,y:n},{x:a,y:i})},v8=(function(){function e(t){Ipe(this,e),this.scale=t}return Dpe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();mx(v8,"EPS",1e-4);var ok=function(t){var r=Object.keys(t).reduce(function(n,a){return _s(_s({},n),{},mx({},a,v8.create(t[a])))},{});return _s(_s({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return dpe(a,function(u,h){return r[h].apply(u,{bandAware:o,position:l})})},isInRange:function(a){return f8(a,function(i,o){return r[o].isInRange(i)})}})};function Lpe(e){return(e%180+180)%180}var Fpe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Lpe(a),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},Uj,p5;function Upe(){if(p5)return Uj;p5=1;var e=pa(),t=Oh(),r=Xg();function n(a){return function(i,o,l){var u=Object(i);if(!t(i)){var h=e(o,3);i=r(i),o=function(p){return h(u[p],p,u)}}var f=a(i,o,l);return f>-1?u[h?i[f]:f]:void 0}}return Uj=n,Uj}var Bj,m5;function Bpe(){if(m5)return Bj;m5=1;var e=c8();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return Bj=t,Bj}var zj,g5;function zpe(){if(g5)return zj;g5=1;var e=vL(),t=pa(),r=Bpe(),n=Math.max;function a(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var h=l==null?0:r(l);return h<0&&(h=n(u+h,0)),e(i,t(o,3),h)}return zj=a,zj}var Wj,x5;function Wpe(){if(x5)return Wj;x5=1;var e=Upe(),t=zpe(),r=e(t);return Wj=r,Wj}var qpe=Wpe();const Vpe=bt(qpe);var Hpe=I6();const Gpe=bt(Hpe);var Kpe=Gpe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),lk=w.createContext(void 0),ck=w.createContext(void 0),b8=w.createContext(void 0),w8=w.createContext({}),j8=w.createContext(void 0),N8=w.createContext(0),_8=w.createContext(0),y5=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,u=t.width,h=t.height,f=Kpe(i);return B.createElement(lk.Provider,{value:n},B.createElement(ck.Provider,{value:a},B.createElement(w8.Provider,{value:i},B.createElement(b8.Provider,{value:f},B.createElement(j8.Provider,{value:o},B.createElement(N8.Provider,{value:h},B.createElement(_8.Provider,{value:u},l)))))))},Ype=function(){return w.useContext(j8)},S8=function(t){var r=w.useContext(lk);r==null&&Fo();var n=r[t];return n==null&&Fo(),n},Xpe=function(){var t=w.useContext(lk);return Si(t)},Jpe=function(){var t=w.useContext(ck),r=Vpe(t,function(n){return f8(n.domain,Number.isFinite)});return r||Si(t)},k8=function(t){var r=w.useContext(ck);r==null&&Fo();var n=r[t];return n==null&&Fo(),n},Qpe=function(){var t=w.useContext(b8);return t},Zpe=function(){return w.useContext(w8)},uk=function(){return w.useContext(_8)},dk=function(){return w.useContext(N8)};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function eme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A8(n.key),n)}}function rme(e,t,r){return t&&tme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nme(e,t,r){return t=sg(t),sme(e,E8()?Reflect.construct(t,r||[],sg(e).constructor):t.apply(e,r))}function sme(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(e)}function ame(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!e})()}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}function ime(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W1(e,t)}function W1(e,t){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(e,t)}function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){hk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hk(e,t,r){return t=A8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A8(e){var t=ome(e,"string");return _c(t)=="symbol"?t:t+""}function ome(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lme(e,t){return hme(e)||dme(e,t)||ume(e,t)||cme()}function cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(e,t){if(e){if(typeof e=="string")return w5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w5(e,t)}}function w5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function hme(e){if(Array.isArray(e))return e}function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q1.apply(this,arguments)}var fme=function(t,r){var n;return B.isValidElement(t)?n=B.cloneElement(t,r):Qe(t)?n=t(r):n=B.createElement("line",q1({},r,{className:"recharts-reference-line-line"})),n},pme=function(t,r,n,a,i,o,l,u,h){var f=i.x,p=i.y,g=i.width,v=i.height;if(n){var b=h.y,y=t.y.apply(b,{position:o});if(aa(h,"discard")&&!t.y.isInRange(y))return null;var x=[{x:f+g,y},{x:f,y}];return u==="left"?x.reverse():x}if(r){var _=h.x,N=t.x.apply(_,{position:o});if(aa(h,"discard")&&!t.x.isInRange(N))return null;var E=[{x:N,y:p+v},{x:N,y:p}];return l==="top"?E.reverse():E}if(a){var C=h.segment,S=C.map(function(k){return t.apply(k,{position:o})});return aa(h,"discard")&&ope(S,function(k){return!t.isInRange(k)})?null:S}return null};function mme(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,u=e.alwaysShow,h=Ype(),f=S8(a),p=k8(i),g=Qpe();if(!h||!g)return null;As(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=ok({x:f.scale,y:p.scale}),b=Nr(t),y=Nr(r),x=n&&n.length===2,_=pme(v,b,y,x,g,e.position,f.orientation,p.orientation,e);if(!_)return null;var N=lme(_,2),E=N[0],C=E.x,S=E.y,k=N[1],A=k.x,P=k.y,O=aa(e,"hidden")?"url(#".concat(h,")"):void 0,I=b5(b5({clipPath:O},ze(e,!0)),{},{x1:C,y1:S,x2:A,y2:P});return B.createElement(ut,{className:nt("recharts-reference-line",l)},fme(o,I),Or.renderCallByParent(e,$pe({x1:C,y1:S,x2:A,y2:P})))}var fk=(function(e){function t(){return eme(this,t),nme(this,t,arguments)}return ime(t,e),rme(t,[{key:"render",value:function(){return B.createElement(mme,this.props)}}])})(B.Component);hk(fk,"displayName","ReferenceLine");hk(fk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V1.apply(this,arguments)}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O8(n.key),n)}}function yme(e,t,r){return t&&xme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vme(e,t,r){return t=ag(t),bme(e,T8()?Reflect.construct(t,r||[],ag(e).constructor):t.apply(e,r))}function bme(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wme(e)}function wme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!e})()}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(e)}function jme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H1(e,t)}function H1(e,t){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H1(e,t)}function gx(e,t,r){return t=O8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=Nme(e,"string");return Sc(t)=="symbol"?t:t+""}function Nme(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _me=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=ok({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return aa(t,"discard")&&!o.isInRange(l)?null:l},xx=(function(e){function t(){return gme(this,t),vme(this,t,arguments)}return jme(t,e),yme(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,h=Nr(a),f=Nr(i);if(As(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!f)return null;var p=_me(this.props);if(!p)return null;var g=p.x,v=p.y,b=this.props,y=b.shape,x=b.className,_=aa(this.props,"hidden")?"url(#".concat(u,")"):void 0,N=N5(N5({clipPath:_},ze(this.props,!0)),{},{cx:g,cy:v});return B.createElement(ut,{className:nt("recharts-reference-dot",x)},t.renderDot(y,N),Or.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])})(B.Component);gx(xx,"displayName","ReferenceDot");gx(xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gx(xx,"renderDot",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):Qe(e)?r=e(t):r=B.createElement(Mh,V1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(this,arguments)}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function _5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P8(n.key),n)}}function Eme(e,t,r){return t&&kme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ame(e,t,r){return t=ig(t),Tme(e,C8()?Reflect.construct(t,r||[],ig(e).constructor):t.apply(e,r))}function Tme(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(e)}function Ome(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C8=function(){return!!e})()}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(e)}function Cme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K1(e,t)}function K1(e,t){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K1(e,t)}function yx(e,t,r){return t=P8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8(e){var t=Pme(e,"string");return kc(t)=="symbol"?t:t+""}function Pme(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rme=function(t,r,n,a,i){var o=i.x1,l=i.x2,u=i.y1,h=i.y2,f=i.xAxis,p=i.yAxis;if(!f||!p)return null;var g=ok({x:f.scale,y:p.scale}),v={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(u,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(h,{position:"end"}):g.y.rangeMax};return aa(i,"discard")&&(!g.isInRange(v)||!g.isInRange(b))?null:y8(v,b)},vx=(function(e){function t(){return Sme(this,t),Ame(this,t,arguments)}return Cme(t,e),Eme(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,u=n.className,h=n.alwaysShow,f=n.clipPathId;As(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Nr(a),g=Nr(i),v=Nr(o),b=Nr(l),y=this.props.shape;if(!p&&!g&&!v&&!b&&!y)return null;var x=Rme(p,g,v,b,this.props);if(!x&&!y)return null;var _=aa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return B.createElement(ut,{className:nt("recharts-reference-area",u)},t.renderRect(y,S5(S5({clipPath:_},ze(this.props,!0)),x)),Or.renderCallByParent(this.props,x))}}])})(B.Component);yx(vx,"displayName","ReferenceArea");yx(vx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yx(vx,"renderRect",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):Qe(e)?r=e(t):r=B.createElement(ak,G1({},t,{className:"recharts-reference-area-rect"})),r});function R8(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Ime(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Fpe(n,r)}function Dme(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function og(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Mme(e,t){return R8(e,t+1)}function $me(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,u=0,h=1,f=o,p=function(){var b=n?.[u];if(b===void 0)return{v:R8(n,h)};var y=u,x,_=function(){return x===void 0&&(x=r(b,y)),x},N=b.coordinate,E=u===0||og(e,N,_,f,l);E||(u=0,f=o,h+=1),E&&(f=N+e*(_()/2+a),u+=h)},g;h<=i.length;)if(g=p(),g)return g.v;return[]}function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function k5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return t=Fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fme(e){var t=Ume(e,"string");return ph(t)=="symbol"?t:t+""}function Ume(e,t){if(ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bme(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,u=t.end,h=function(g){var v=i[g],b,y=function(){return b===void 0&&(b=r(v,g)),b};if(g===o-1){var x=e*(v.coordinate+e*y()/2-u);i[g]=v=Xr(Xr({},v),{},{tickCoord:x>0?v.coordinate-x*e:v.coordinate})}else i[g]=v=Xr(Xr({},v),{},{tickCoord:v.coordinate});var _=og(e,v.tickCoord,y,l,u);_&&(u=v.tickCoord-e*(y()/2+a),i[g]=Xr(Xr({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)h(f);return i}function zme(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,u=t.start,h=t.end;if(i){var f=n[l-1],p=r(f,l-1),g=e*(f.coordinate+e*p/2-h);o[l-1]=f=Xr(Xr({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var v=og(e,f.tickCoord,function(){return p},u,h);v&&(h=f.tickCoord-e*(p/2+a),o[l-1]=Xr(Xr({},f),{},{isShow:!0}))}for(var b=i?l-1:l,y=function(N){var E=o[N],C,S=function(){return C===void 0&&(C=r(E,N)),C};if(N===0){var k=e*(E.coordinate-e*S()/2-u);o[N]=E=Xr(Xr({},E),{},{tickCoord:k<0?E.coordinate-k*e:E.coordinate})}else o[N]=E=Xr(Xr({},E),{},{tickCoord:E.coordinate});var A=og(e,E.tickCoord,S,u,h);A&&(u=E.tickCoord+e*(S()/2+a),o[N]=Xr(Xr({},E),{},{isShow:!0}))},x=0;x<b;x++)y(x);return o}function pk(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,u=e.interval,h=e.tickFormatter,f=e.unit,p=e.angle;if(!a||!a.length||!n)return[];if(Se(u)||Li.isSsr)return Mme(a,typeof u=="number"&&Se(u)?u:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",b=f&&v==="width"?hd(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(E,C){var S=Qe(h)?h(E.value,C):E.value;return v==="width"?Ime(hd(S,{fontSize:t,letterSpacing:r}),b,p):hd(S,{fontSize:t,letterSpacing:r})[v]},x=a.length>=2?an(a[1].coordinate-a[0].coordinate):1,_=Dme(i,x,v);return u==="equidistantPreserveStart"?$me(x,_,y,a,o):(u==="preserveStart"||u==="preserveStartEnd"?g=zme(x,_,y,a,o,u==="preserveStartEnd"):g=Bme(x,_,y,a,o),g.filter(function(N){return N.isShow}))}var Wme=["viewBox"],qme=["viewBox"],Vme=["ticks"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(n){mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qj(e,t){if(e==null)return{};var r=Hme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D8(n.key),n)}}function Kme(e,t,r){return t&&A5(e.prototype,t),r&&A5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yme(e,t,r){return t=lg(t),Xme(e,I8()?Reflect.construct(t,r||[],lg(e).constructor):t.apply(e,r))}function Xme(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(e)}function Jme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!e})()}function lg(e){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(e)}function Qme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y1(e,t)}function Y1(e,t){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y1(e,t)}function mk(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=Zme(e,"string");return Ec(t)=="symbol"?t:t+""}function Zme(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eu=(function(e){function t(r){var n;return Gme(this,t),n=Yme(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Qme(t,e),Kme(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=qj(n,Wme),l=this.props,u=l.viewBox,h=qj(l,qme);return!tc(i,u)||!tc(o,h)||!tc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,u=a.height,h=a.orientation,f=a.tickSize,p=a.mirror,g=a.tickMargin,v,b,y,x,_,N,E=p?-1:1,C=n.tickSize||f,S=Se(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=b=n.coordinate,x=o+ +!p*u,y=x-E*C,N=y-E*g,_=S;break;case"left":y=x=n.coordinate,b=i+ +!p*l,v=b-E*C,_=v-E*g,N=S;break;case"right":y=x=n.coordinate,b=i+ +p*l,v=b+E*C,_=v+E*g,N=S;break;default:v=b=n.coordinate,x=o+ +p*u,y=x+E*C,N=y+E*g,_=S;break}return{line:{x1:v,y1:y,x2:b,y2:x},tick:{x:_,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,u=n.orientation,h=n.mirror,f=n.axisLine,p=mr(mr(mr({},ze(this.props,!1)),ze(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!h||u==="bottom"&&h);p=mr(mr({},p),{},{x1:a,y1:i+g*l,x2:a+o,y2:i+g*l})}else{var v=+(u==="left"&&!h||u==="right"&&h);p=mr(mr({},p),{},{x1:a+v*o,y1:i,x2:a+v*o,y2:i+l})}return B.createElement("line",Hl({},p,{className:nt("recharts-cartesian-axis-line",Bn(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,u=l.tickLine,h=l.stroke,f=l.tick,p=l.tickFormatter,g=l.unit,v=pk(mr(mr({},this.props),{},{ticks:n}),a,i),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=ze(this.props,!1),_=ze(f,!1),N=mr(mr({},x),{},{fill:"none"},ze(u,!1)),E=v.map(function(C,S){var k=o.getTickLineCoord(C),A=k.line,P=k.tick,O=mr(mr(mr(mr({textAnchor:b,verticalAnchor:y},x),{},{stroke:"none",fill:h},_),P),{},{index:S,payload:C,visibleTicksCount:v.length,tickFormatter:p});return B.createElement(ut,Hl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Do(o.props,C,S)),u&&B.createElement("line",Hl({},N,A,{className:nt("recharts-cartesian-axis-tick-line",Bn(u,"className"))})),f&&t.renderTickItem(f,O,"".concat(Qe(p)?p(C.value,S):C.value).concat(g||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,u=a.ticksGenerator,h=a.className,f=a.hide;if(f)return null;var p=this.props,g=p.ticks,v=qj(p,Vme),b=g;return Qe(u)&&(b=g&&g.length>0?u(this.props):u(v)),o<=0||l<=0||!b||!b.length?null:B.createElement(ut,{className:nt("recharts-cartesian-axis",h),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=nt(a.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(n)?o=B.cloneElement(n,mr(mr({},a),{},{className:l})):Qe(n)?o=n(mr(mr({},a),{},{className:l})):o=B.createElement(Mo,Hl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(w.Component);mk(eu,"displayName","CartesianAxis");mk(eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ege=["x1","y1","x2","y2","key"],tge=["offset"];function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(r),!0).forEach(function(n){rge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rge(e,t,r){return t=nge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nge(e){var t=sge(e,"string");return Uo(t)=="symbol"?t:t+""}function sge(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(this,arguments)}function O5(e,t){if(e==null)return{};var r=age(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function age(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ige=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,u=t.ry;return B.createElement("rect",{x:a,y:i,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function M8(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(Qe(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,u=O5(t,ege),h=ze(u,!1);h.offset;var f=O5(h,tge);r=B.createElement("line",So({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function oge(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,u){var h=Jr(Jr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(u),index:u});return M8(a,h)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function lge(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,u){var h=Jr(Jr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(u),index:u});return M8(a,h)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function cge(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,u=e.horizontal,h=u===void 0?!0:u;if(!h||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var b=!f[v+1],y=b?a+o-g:f[v+1]-g;if(y<=0)return null;var x=v%t.length;return B.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:y,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function uge(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,u=e.height,h=e.verticalPoints;if(!r||!n||!n.length)return null;var f=h.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var b=!f[v+1],y=b?i+l-g:f[v+1]-g;if(y<=0)return null;var x=v%n.length;return B.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:y,height:u,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var dge=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return $F(pk(Jr(Jr(Jr({},eu.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},hge=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return $F(pk(Jr(Jr(Jr({},eu.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ml={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jn(e){var t,r,n,a,i,o,l=uk(),u=dk(),h=Zpe(),f=Jr(Jr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ml.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ml.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ml.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ml.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ml.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ml.verticalFill,x:Se(e.x)?e.x:h.left,y:Se(e.y)?e.y:h.top,width:Se(e.width)?e.width:h.width,height:Se(e.height)?e.height:h.height}),p=f.x,g=f.y,v=f.width,b=f.height,y=f.syncWithTicks,x=f.horizontalValues,_=f.verticalValues,N=Xpe(),E=Jpe();if(!Se(v)||v<=0||!Se(b)||b<=0||!Se(p)||p!==+p||!Se(g)||g!==+g)return null;var C=f.verticalCoordinatesGenerator||dge,S=f.horizontalCoordinatesGenerator||hge,k=f.horizontalPoints,A=f.verticalPoints;if((!k||!k.length)&&Qe(S)){var P=x&&x.length,O=S({yAxis:E?Jr(Jr({},E),{},{ticks:P?x:E.ticks}):void 0,width:l,height:u,offset:h},P?!0:y);As(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uo(O),"]")),Array.isArray(O)&&(k=O)}if((!A||!A.length)&&Qe(C)){var I=_&&_.length,D=C({xAxis:N?Jr(Jr({},N),{},{ticks:I?_:N.ticks}):void 0,width:l,height:u,offset:h},I?!0:y);As(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uo(D),"]")),Array.isArray(D)&&(A=D)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(ige,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),B.createElement(oge,So({},f,{offset:h,horizontalPoints:k,xAxis:N,yAxis:E})),B.createElement(lge,So({},f,{offset:h,verticalPoints:A,xAxis:N,yAxis:E})),B.createElement(cge,So({},f,{horizontalPoints:k})),B.createElement(uge,So({},f,{verticalPoints:A})))}jn.displayName="CartesianGrid";var fge=["type","layout","connectNulls","ref"],pge=["key"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function C5(e,t){if(e==null)return{};var r=mge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function P5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(r),!0).forEach(function(n){Ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $l(e){return vge(e)||yge(e)||xge(e)||gge()}function gge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(e,t){if(e){if(typeof e=="string")return X1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(e,t)}}function yge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vge(e){if(Array.isArray(e))return X1(e)}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L8(n.key),n)}}function wge(e,t,r){return t&&R5(e.prototype,t),r&&R5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jge(e,t,r){return t=cg(t),Nge(e,$8()?Reflect.construct(t,r||[],cg(e).constructor):t.apply(e,r))}function Nge(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(e)}function _ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!e})()}function cg(e){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(e)}function Sge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J1(e,t)}function J1(e,t){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(e,t)}function Ss(e,t,r){return t=L8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=kge(e,"string");return Ac(t)=="symbol"?t:t+""}function kge(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cr=(function(e){function t(){var r;bge(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=jge(this,t,[].concat(a)),Ss(r,"state",{isAnimationFinished:!0,totalLength:0}),Ss(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ss(r,"getStrokeDasharray",function(o,l,u){var h=u.reduce(function(_,N){return _+N});if(!h)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/h),p=o%h,g=l-o,v=[],b=0,y=0;b<u.length;y+=u[b],++b)if(y+u[b]>p){v=[].concat($l(u.slice(0,b)),[p-y]);break}var x=v.length%2===0?[0,g]:[g];return[].concat($l(t.repeat(u,f)),$l(v),x).map(function(_){return"".concat(_,"px")}).join(", ")}),Ss(r,"id",Qo("recharts-line-")),Ss(r,"pathRef",function(o){r.mainCurve=o}),Ss(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ss(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Sge(t,e),wge(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,h=i.layout,f=i.children,p=zn(f,Dh);if(!p)return null;var g=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:tr(y.payload,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(ut,v,p.map(function(b){return B.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:u,layout:h,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,h=l.points,f=l.dataKey,p=ze(this.props,!1),g=ze(u,!0),v=h.map(function(y,x){var _=Cn(Cn(Cn({key:"dot-".concat(x),r:3},p),g),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:h});return t.renderDotItem(u,_)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(ut,yd({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,u=l.type,h=l.layout,f=l.connectNulls;l.ref;var p=C5(l,fge),g=Cn(Cn(Cn({},ze(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:u,layout:h,connectNulls:f});return B.createElement(Oo,yd({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,u=o.strokeDasharray,h=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,v=o.animationId,b=o.animateNewValues,y=o.width,x=o.height,_=this.state,N=_.prevPoints,E=_.totalLength;return B.createElement(Rs,{begin:f,duration:p,isActive:h,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(N){var k=N.length/l.length,A=l.map(function(L,F){var G=Math.floor(F*k);if(N[G]){var K=N[G],U=br(K.x,L.x),q=br(K.y,L.y);return Cn(Cn({},L),{},{x:U(S),y:q(S)})}if(b){var M=br(y*2,L.x),V=br(x/2,L.y);return Cn(Cn({},L),{},{x:M(S),y:V(S)})}return Cn(Cn({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(A,n,a)}var P=br(0,E),O=P(S),I;if(u){var D="".concat(u).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});I=i.getStrokeDasharray(O,E,D)}else I=i.generateSimpleStrokeDasharray(E,O);return i.renderCurveStatically(l,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,u=this.state,h=u.prevPoints,f=u.totalLength;return l&&o&&o.length&&(!h&&f>0||!$o(h,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,u=a.className,h=a.xAxis,f=a.yAxis,p=a.top,g=a.left,v=a.width,b=a.height,y=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var _=this.state.isAnimationFinished,N=l.length===1,E=nt("recharts-line",u),C=h&&h.allowDataOverflow,S=f&&f.allowDataOverflow,k=C||S,A=rt(x)?this.id:x,P=(n=ze(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,I=O===void 0?3:O,D=P.strokeWidth,L=D===void 0?2:D,F=F6(o)?o:{},G=F.clipDot,K=G===void 0?!0:G,U=I*2+L;return B.createElement(ut,{className:E},C||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:C?g:g-v/2,y:S?p:p-b/2,width:C?v:v*2,height:S?b:b*2})),!K&&B.createElement("clipPath",{id:"clipPath-dots-".concat(A)},B.createElement("rect",{x:g-U/2,y:p-U/2,width:v+U,height:b+U}))):null,!N&&this.renderCurve(k,A),this.renderErrorBar(k,A),(N||o)&&this.renderDots(k,K,A),(!y||_)&&sa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat($l(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat($l(o),$l(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(B.isValidElement(n))i=B.cloneElement(n,a);else if(Qe(n))i=n(a);else{var o=a.key,l=C5(a,pge),u=nt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=B.createElement(Mh,yd({key:o},l,{className:u}))}return i}}])})(w.PureComponent);Ss(cr,"displayName","Line");Ss(cr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Li.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ss(cr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,u=e.displayedData,h=e.offset,f=t.layout,p=u.map(function(g,v){var b=tr(g,o);return f==="horizontal"?{x:Um({axis:r,ticks:a,bandSize:l,entry:g,index:v}),y:rt(b)?null:n.scale(b),value:b,payload:g}:{x:rt(b)?null:r.scale(b),y:Um({axis:n,ticks:i,bandSize:l,entry:g,index:v}),value:b,payload:g}});return Cn({points:p,layout:f},h)});var Ege=["layout","type","stroke","connectNulls","isRange","ref"],Age=["key"],F8;function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function U8(e,t){if(e==null)return{};var r=Tge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}function I5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(r),!0).forEach(function(n){Zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function Cge(e,t,r){return t&&D5(e.prototype,t),r&&D5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pge(e,t,r){return t=ug(t),Rge(e,B8()?Reflect.construct(t,r||[],ug(e).constructor):t.apply(e,r))}function Rge(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ige(e)}function Ige(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!e})()}function ug(e){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(e)}function Dge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(e,t)}function Zs(e,t,r){return t=z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=Mge(e,"string");return Tc(t)=="symbol"?t:t+""}function Mge(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zi=(function(e){function t(){var r;Oge(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pge(this,t,[].concat(a)),Zs(r,"state",{isAnimationFinished:!0}),Zs(r,"id",Qo("recharts-area-")),Zs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(o)&&o()}),Zs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(o)&&o()}),r}return Dge(t,e),Cge(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,h=u.dot,f=u.points,p=u.dataKey,g=ze(this.props,!1),v=ze(h,!0),b=f.map(function(x,_){var N=wi(wi(wi({key:"dot-".concat(_),r:3},g),v),{},{index:_,cx:x.x,cy:x.y,dataKey:p,value:x.value,payload:x.payload,points:f});return t.renderDotItem(h,N)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(ut,ko({className:"recharts-area-dots"},y),b)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].x,h=o[o.length-1].x,f=n*Math.abs(u-h),p=Ei(o.map(function(g){return g.y||0}));return Se(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Ei(i.map(function(g){return g.y||0})),p)),Se(p)?B.createElement("rect",{x:u<h?u:u-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].y,h=o[o.length-1].y,f=n*Math.abs(u-h),p=Ei(o.map(function(g){return g.x||0}));return Se(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Ei(i.map(function(g){return g.x||0})),p)),Se(p)?B.createElement("rect",{x:0,y:u<h?u:u-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,u=l.layout,h=l.type,f=l.stroke,p=l.connectNulls,g=l.isRange;l.ref;var v=U8(l,Ege);return B.createElement(ut,{clipPath:i?"url(#clipPath-".concat(o,")"):null},B.createElement(Oo,ko({},ze(v,!0),{points:n,connectNulls:p,type:h,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&B.createElement(Oo,ko({},ze(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:p,fill:"none",points:n})),f!=="none"&&g&&B.createElement(Oo,ko({},ze(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,u=o.baseLine,h=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,v=o.animationId,b=this.state,y=b.prevPoints,x=b.prevBaseLine;return B.createElement(Rs,{begin:f,duration:p,isActive:h,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(y){var E=y.length/l.length,C=l.map(function(P,O){var I=Math.floor(O*E);if(y[I]){var D=y[I],L=br(D.x,P.x),F=br(D.y,P.y);return wi(wi({},P),{},{x:L(N),y:F(N)})}return P}),S;if(Se(u)&&typeof u=="number"){var k=br(x,u);S=k(N)}else if(rt(u)||Kc(u)){var A=br(x,0);S=A(N)}else S=u.map(function(P,O){var I=Math.floor(O*E);if(x[I]){var D=x[I],L=br(D.x,P.x),F=br(D.y,P.y);return wi(wi({},P),{},{x:L(N),y:F(N)})}return P});return i.renderAreaStatically(C,S,n,a)}return B.createElement(ut,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(N))),B.createElement(ut,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,u,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,u=i.isAnimationActive,h=this.state,f=h.prevPoints,p=h.prevBaseLine,g=h.totalLength;return u&&o&&o.length&&(!f&&g>0||!$o(f,o)||!$o(p,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,u=a.className,h=a.top,f=a.left,p=a.xAxis,g=a.yAxis,v=a.width,b=a.height,y=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var _=this.state.isAnimationFinished,N=l.length===1,E=nt("recharts-area",u),C=p&&p.allowDataOverflow,S=g&&g.allowDataOverflow,k=C||S,A=rt(x)?this.id:x,P=(n=ze(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,I=O===void 0?3:O,D=P.strokeWidth,L=D===void 0?2:D,F=F6(o)?o:{},G=F.clipDot,K=G===void 0?!0:G,U=I*2+L;return B.createElement(ut,{className:E},C||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:C?f:f-v/2,y:S?h:h-b/2,width:C?v:v*2,height:S?b:b*2})),!K&&B.createElement("clipPath",{id:"clipPath-dots-".concat(A)},B.createElement("rect",{x:f-U/2,y:h-U/2,width:v+U,height:b+U}))):null,N?null:this.renderArea(k,A),(o||N)&&this.renderDots(k,K,A),(!y||_)&&sa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(w.PureComponent);F8=zi;Zs(zi,"displayName","Area");Zs(zi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Li.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Zs(zi,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Se(l)&&typeof l=="number")return l;var u=a==="horizontal"?n:r,h=u.scale.domain();if(u.type==="number"){var f=Math.max(h[0],h[1]),p=Math.min(h[0],h[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(h[0],h[1]),0)}return l==="dataMin"?h[0]:l==="dataMax"?h[1]:h[0]});Zs(zi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,u=e.dataKey,h=e.stackedData,f=e.dataStartIndex,p=e.displayedData,g=e.offset,v=t.layout,b=h&&h.length,y=F8.getBaseValue(t,r,n,a),x=v==="horizontal",_=!1,N=p.map(function(C,S){var k;b?k=h[f+S]:(k=tr(C,u),Array.isArray(k)?_=!0:k=[y,k]);var A=k[1]==null||b&&tr(C,u)==null;return x?{x:Um({axis:n,ticks:i,bandSize:l,entry:C,index:S}),y:A?null:a.scale(k[1]),value:k,payload:C}:{x:A?null:n.scale(k[1]),y:Um({axis:a,ticks:o,bandSize:l,entry:C,index:S}),value:k,payload:C}}),E;return b||_?E=N.map(function(C){var S=Array.isArray(C.value)?C.value[0]:null;return x?{x:C.x,y:S!=null&&C.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:C.y}}):E=x?a.scale(y):n.scale(y),wi({points:N,baseLine:E,layout:v,isRange:_},g)});Zs(zi,"renderDotItem",function(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(Qe(e))r=e(t);else{var n=nt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=U8(t,Age);r=B.createElement(Mh,ko({},i,{key:a,className:n}))}return r});function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function $ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V8(n.key),n)}}function Fge(e,t,r){return t&&Lge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uge(e,t,r){return t=dg(t),Bge(e,W8()?Reflect.construct(t,r||[],dg(e).constructor):t.apply(e,r))}function Bge(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zge(e)}function zge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!e})()}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(e)}function Wge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z1(e,t)}function Z1(e,t){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z1(e,t)}function q8(e,t,r){return t=V8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8(e){var t=qge(e,"string");return Oc(t)=="symbol"?t:t+""}function qge(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(this,arguments)}function Vge(e){var t=e.xAxisId,r=uk(),n=dk(),a=S8(t);return a==null?null:w.createElement(eu,e_({},a,{className:nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ia(o,!0)}}))}var Rr=(function(e){function t(){return $ge(this,t),Uge(this,t,arguments)}return Wge(t,e),Fge(t,[{key:"render",value:function(){return w.createElement(Vge,this.props)}}])})(w.Component);q8(Rr,"displayName","XAxis");q8(Rr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function Hge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K8(n.key),n)}}function Kge(e,t,r){return t&&Gge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yge(e,t,r){return t=hg(t),Xge(e,H8()?Reflect.construct(t,r||[],hg(e).constructor):t.apply(e,r))}function Xge(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jge(e)}function Jge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H8=function(){return!!e})()}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(e)}function Qge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t_(e,t)}function G8(e,t,r){return t=K8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=Zge(e,"string");return Cc(t)=="symbol"?t:t+""}function Zge(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}var exe=function(t){var r=t.yAxisId,n=uk(),a=dk(),i=k8(r);return i==null?null:w.createElement(eu,r_({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ia(l,!0)}}))},Ir=(function(e){function t(){return Hge(this,t),Yge(this,t,arguments)}return Qge(t,e),Kge(t,[{key:"render",value:function(){return w.createElement(exe,this.props)}}])})(w.Component);G8(Ir,"displayName","YAxis");G8(Ir,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M5(e){return sxe(e)||nxe(e)||rxe(e)||txe()}function txe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function nxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sxe(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s_=function(t,r,n,a,i){var o=zn(t,fk),l=zn(t,xx),u=[].concat(M5(o),M5(l)),h=zn(t,vx),f="".concat(a,"Id"),p=a[0],g=r;if(u.length&&(g=u.reduce(function(y,x){if(x.props[f]===n&&aa(x.props,"extendDomain")&&Se(x.props[p])){var _=x.props[p];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},g)),h.length){var v="".concat(p,"1"),b="".concat(p,"2");g=h.reduce(function(y,x){if(x.props[f]===n&&aa(x.props,"extendDomain")&&Se(x.props[v])&&Se(x.props[b])){var _=x.props[v],N=x.props[b];return[Math.min(y[0],_,N),Math.max(y[1],_,N)]}return y},g)}return i&&i.length&&(g=i.reduce(function(y,x){return Se(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},g)),g},Vj={exports:{}},$5;function axe(){return $5||($5=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function i(u,h,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new a(f,p||u,g),b=r?r+h:h;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)t.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,b=new Array(v);g<v;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(h,f,p,g,v,b){var y=r?r+h:h;if(!this._events[y])return!1;var x=this._events[y],_=arguments.length,N,E;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,p),!0;case 4:return x.fn.call(x.context,f,p,g),!0;case 5:return x.fn.call(x.context,f,p,g,v),!0;case 6:return x.fn.call(x.context,f,p,g,v,b),!0}for(E=1,N=new Array(_-1);E<_;E++)N[E-1]=arguments[E];x.fn.apply(x.context,N)}else{var C=x.length,S;for(E=0;E<C;E++)switch(x[E].once&&this.removeListener(h,x[E].fn,void 0,!0),_){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,f);break;case 3:x[E].fn.call(x[E].context,f,p);break;case 4:x[E].fn.call(x[E].context,f,p,g);break;default:if(!N)for(S=1,N=new Array(_-1);S<_;S++)N[S-1]=arguments[S];x[E].fn.apply(x[E].context,N)}}return!0},l.prototype.on=function(h,f,p){return i(this,h,f,p,!1)},l.prototype.once=function(h,f,p){return i(this,h,f,p,!0)},l.prototype.removeListener=function(h,f,p,g){var v=r?r+h:h;if(!this._events[v])return this;if(!f)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!g||b.once)&&(!p||b.context===p)&&o(this,v);else{for(var y=0,x=[],_=b.length;y<_;y++)(b[y].fn!==f||g&&!b[y].once||p&&b[y].context!==p)&&x.push(b[y]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Vj)),Vj.exports}var ixe=axe();const oxe=bt(ixe);var Hj=new oxe,Gj="recharts.syncMouseEvents";function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y8(n.key),n)}}function uxe(e,t,r){return t&&cxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kj(e,t,r){return t=Y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=dxe(e,"string");return mh(t)=="symbol"?t:t+""}function dxe(e,t){if(mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hxe=(function(){function e(){lxe(this,e),Kj(this,"activeIndex",0),Kj(this,"coordinateList",[]),Kj(this,"layout","horizontal")}return uxe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,u=r.layout,h=u===void 0?null:u,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,u=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=i+u+h,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function fxe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&Se(n)&&Se(a))return!0}return!1}function pxe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function X8(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=It(t,r,n,a),l=It(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function mxe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,u=t.cy,h=t.innerRadius,f=t.outerRadius,p=t.angle,g=It(l,u,h,p),v=It(l,u,f,p);n=g.x,a=g.y,i=v.x,o=v.y}else return X8(t);return[{x:n,y:a},{x:i,y:o}]}function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){gxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gxe(e,t,r){return t=xxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xxe(e){var t=yxe(e,"string");return gh(t)=="symbol"?t:t+""}function yxe(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vxe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,u=e.offset,h=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!i||!o||g!=="ScatterChart"&&a!=="axis")return null;var b,y=Oo;if(g==="ScatterChart")b=o,y=Che;else if(g==="BarChart")b=pxe(p,o,u,f),y=ak;else if(p==="radial"){var x=X8(o),_=x.cx,N=x.cy,E=x.radius,C=x.startAngle,S=x.endAngle;b={cx:_,cy:N,startAngle:C,endAngle:S,innerRadius:E,outerRadius:E},y=KF}else b={points:mxe(p,o,u)},y=Oo;var k=Ip(Ip(Ip(Ip({stroke:"#ccc",pointerEvents:"none"},u),b),ze(v,!1)),{},{payload:l,payloadIndex:h,className:nt("recharts-tooltip-cursor",v.className)});return w.isValidElement(v)?w.cloneElement(v,k):w.createElement(y,k)}var bxe=["item"],wxe=["children","className","width","height","style","compact","title","desc"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function F5(e,t){return _xe(e)||Nxe(e,t)||Q8(e,t)||jxe()}function jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function _xe(e){if(Array.isArray(e))return e}function U5(e,t){if(e==null)return{};var r=Sxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Exe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z8(n.key),n)}}function Axe(e,t,r){return t&&Exe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Txe(e,t,r){return t=fg(t),Oxe(e,J8()?Reflect.construct(t,r||[],fg(e).constructor):t.apply(e,r))}function Oxe(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(e)}function Cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(e)}function Pxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a_(e,t)}function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a_(e,t)}function Rc(e){return Dxe(e)||Ixe(e)||Q8(e)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function Ixe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dxe(e){if(Array.isArray(e))return i_(e)}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){Ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ye(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=Mxe(e,"string");return Pc(t)=="symbol"?t:t+""}function Mxe(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $xe={xAxis:["bottom","top"],yAxis:["left","right"]},Lxe={width:"100%",height:"100%"},eU={x:0,y:0};function Dp(e){return e}var Fxe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Uxe=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ge(ge(ge({},a),It(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,h=a.angle;return ge(ge(ge({},a),It(a.cx,a.cy,u,h)),{},{angle:h,radius:u})}return eU},bx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var h=u.props.data;return h&&h.length?[].concat(Rc(l),Rc(h)):l},[]);return o.length>0?o:t&&t.length&&Se(a)&&Se(i)?t.slice(a,i+1):[]};function tU(e){return e==="number"?[0,"auto"]:void 0}var o_=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=bx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(u,h){var f,p=(f=h.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?l:p;g=mm(v,o.dataKey,a)}else g=p&&p[n]||l[n];return g?[].concat(Rc(u),[zF(h,g)]):u},[])},z5=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Fxe(i,n),l=t.orderedTooltipTicks,u=t.tooltipAxis,h=t.tooltipTicks,f=tce(o,l,h,u);if(f>=0&&h){var p=h[f]&&h[f].value,g=o_(t,r,f,p),v=Uxe(n,l,f,i);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},Bxe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,f=t.layout,p=t.children,g=t.stackOffset,v=MF(f,i);return n.reduce(function(b,y){var x,_=y.type.defaultProps!==void 0?ge(ge({},y.type.defaultProps),y.props):y.props,N=_.type,E=_.dataKey,C=_.allowDataOverflow,S=_.allowDuplicatedCategory,k=_.scale,A=_.ticks,P=_.includeHidden,O=_[o];if(b[O])return b;var I=bx(t.data,{graphicalItems:a.filter(function(J){var le,se=o in J.props?J.props[o]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[o];return se===O}),dataStartIndex:u,dataEndIndex:h}),D=I.length,L,F,G;fxe(_.domain,C,N)&&(L=b1(_.domain,null,C),v&&(N==="number"||k!=="auto")&&(G=pd(I,E,"category")));var K=tU(N);if(!L||L.length===0){var U,q=(U=_.domain)!==null&&U!==void 0?U:K;if(E){if(L=pd(I,E,N),N==="category"&&v){var M=Yee(L);S&&M?(F=L,L=Zm(0,D)):S||(L=F4(q,L,y).reduce(function(J,le){return J.indexOf(le)>=0?J:[].concat(Rc(J),[le])},[]))}else if(N==="category")S?L=L.filter(function(J){return J!==""&&!rt(J)}):L=F4(q,L,y).reduce(function(J,le){return J.indexOf(le)>=0||le===""||rt(le)?J:[].concat(Rc(J),[le])},[]);else if(N==="number"){var V=ice(I,a.filter(function(J){var le,se,xe=o in J.props?J.props[o]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[o],X="hide"in J.props?J.props.hide:(se=J.type.defaultProps)===null||se===void 0?void 0:se.hide;return xe===O&&(P||!X)}),E,i,f);V&&(L=V)}v&&(N==="number"||k!=="auto")&&(G=pd(I,E,"category"))}else v?L=Zm(0,D):l&&l[O]&&l[O].hasStack&&N==="number"?L=g==="expand"?[0,1]:BF(l[O].stackGroups,u,h):L=DF(I,a.filter(function(J){var le=o in J.props?J.props[o]:J.type.defaultProps[o],se="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return le===O&&(P||!se)}),N,f,!0);if(N==="number")L=s_(p,L,O,i,A),q&&(L=b1(q,L,C));else if(N==="category"&&q){var Q=q,z=L.every(function(J){return Q.indexOf(J)>=0});z&&(L=Q)}}return ge(ge({},b),{},Ye({},O,ge(ge({},_),{},{axisType:i,domain:L,categoricalDomain:G,duplicateDomain:F,originalDomain:(x=_.domain)!==null&&x!==void 0?x:K,isCategorical:v,layout:f})))},{})},zxe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,f=t.layout,p=t.children,g=bx(t.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:h}),v=g.length,b=MF(f,i),y=-1;return n.reduce(function(x,_){var N=_.type.defaultProps!==void 0?ge(ge({},_.type.defaultProps),_.props):_.props,E=N[o],C=tU("number");if(!x[E]){y++;var S;return b?S=Zm(0,v):l&&l[E]&&l[E].hasStack?(S=BF(l[E].stackGroups,u,h),S=s_(p,S,E,i)):(S=b1(C,DF(g,n.filter(function(k){var A,P,O=o in k.props?k.props[o]:(A=k.type.defaultProps)===null||A===void 0?void 0:A[o],I="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return O===E&&!I}),"number",f),a.defaultProps.allowDataOverflow),S=s_(p,S,E,i)),ge(ge({},x),{},Ye({},E,ge(ge({axisType:i},a.defaultProps),{},{hide:!0,orientation:Bn($xe,"".concat(i,".").concat(y%2),null),domain:S,originalDomain:C,isCategorical:b,layout:f})))}return x},{})},Wxe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,f=t.children,p="".concat(a,"Id"),g=zn(f,i),v={};return g&&g.length?v=Bxe(t,{axes:g,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:h}):o&&o.length&&(v=zxe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:h})),v},qxe=function(t){var r=Si(t),n=Ia(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:PS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bm(r,n)}},W5=function(t){var r=t.children,n=t.defaultShowTooltip,a=Rn(r,jc),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Vxe=function(t){return!t||!t.length?!1:t.some(function(r){var n=$a(r&&r.type);return n&&n.indexOf("Bar")>=0})},q5=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hxe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,u=l===void 0?{}:l,h=n.width,f=n.height,p=n.children,g=n.margin||{},v=Rn(p,jc),b=Rn(p,ra),y=Object.keys(u).reduce(function(S,k){var A=u[k],P=A.orientation;return!A.mirror&&!A.hide?ge(ge({},S),{},Ye({},P,S[P]+A.width)):S},{left:g.left||0,right:g.right||0}),x=Object.keys(o).reduce(function(S,k){var A=o[k],P=A.orientation;return!A.mirror&&!A.hide?ge(ge({},S),{},Ye({},P,Bn(S,"".concat(P))+A.height)):S},{top:g.top||0,bottom:g.bottom||0}),_=ge(ge({},x),y),N=_.bottom;v&&(_.bottom+=v.props.height||jc.defaultProps.height),b&&r&&(_=sce(_,a,n,r));var E=h-_.left-_.right,C=f-_.top-_.bottom;return ge(ge({brushBottom:N},_),{},{width:Math.max(E,0),height:Math.max(C,0)})},Gxe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},wx=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=t.axisComponents,h=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,g=function(_,N){var E=N.graphicalItems,C=N.stackGroups,S=N.offset,k=N.updateId,A=N.dataStartIndex,P=N.dataEndIndex,O=_.barSize,I=_.layout,D=_.barGap,L=_.barCategoryGap,F=_.maxBarSize,G=q5(I),K=G.numericAxisName,U=G.cateAxisName,q=Vxe(E),M=[];return E.forEach(function(V,Q){var z=bx(_.data,{graphicalItems:[V],dataStartIndex:A,dataEndIndex:P}),J=V.type.defaultProps!==void 0?ge(ge({},V.type.defaultProps),V.props):V.props,le=J.dataKey,se=J.maxBarSize,xe=J["".concat(K,"Id")],X=J["".concat(U,"Id")],re={},me=u.reduce(function(xt,ht){var kt=N["".concat(ht.axisType,"Map")],$r=J["".concat(ht.axisType,"Id")];kt&&kt[$r]||ht.axisType==="zAxis"||Fo();var qr=kt[$r];return ge(ge({},xt),{},Ye(Ye({},ht.axisType,qr),"".concat(ht.axisType,"Ticks"),Ia(qr)))},re),fe=me[U],ye=me["".concat(U,"Ticks")],ve=C&&C[xe]&&C[xe].hasStack&&mce(V,C[xe].stackGroups),ce=$a(V.type).indexOf("Bar")>=0,Oe=Bm(fe,ye),Ie=[],it=q&&rce({barSize:O,stackGroups:C,totalSize:Gxe(me,U)});if(ce){var at,lt,Mt=rt(se)?F:se,zt=(at=(lt=Bm(fe,ye,!0))!==null&&lt!==void 0?lt:Mt)!==null&&at!==void 0?at:0;Ie=nce({barGap:D,barCategoryGap:L,bandSize:zt!==Oe?zt:Oe,sizeList:it[X],maxBarSize:Mt}),zt!==Oe&&(Ie=Ie.map(function(xt){return ge(ge({},xt),{},{position:ge(ge({},xt.position),{},{offset:xt.position.offset-zt/2})})}))}var Vt=V&&V.type&&V.type.getComposedData;Vt&&M.push({props:ge(ge({},Vt(ge(ge({},me),{},{displayedData:z,props:_,dataKey:le,item:V,bandSize:Oe,barPosition:Ie,offset:S,stackedData:ve,layout:I,dataStartIndex:A,dataEndIndex:P}))),{},Ye(Ye(Ye({key:V.key||"item-".concat(Q)},K,me[K]),U,me[U]),"animationId",k)),childIndex:ote(V,_.children),item:V})}),M},v=function(_,N){var E=_.props,C=_.dataStartIndex,S=_.dataEndIndex,k=_.updateId;if(!eC({props:E}))return null;var A=E.children,P=E.layout,O=E.stackOffset,I=E.data,D=E.reverseStackOrder,L=q5(P),F=L.numericAxisName,G=L.cateAxisName,K=zn(A,n),U=fce(I,K,"".concat(F,"Id"),"".concat(G,"Id"),O,D),q=u.reduce(function(J,le){var se="".concat(le.axisType,"Map");return ge(ge({},J),{},Ye({},se,Wxe(E,ge(ge({},le),{},{graphicalItems:K,stackGroups:le.axisType===F&&U,dataStartIndex:C,dataEndIndex:S}))))},{}),M=Hxe(ge(ge({},q),{},{props:E,graphicalItems:K}),N?.legendBBox);Object.keys(q).forEach(function(J){q[J]=f(E,q[J],M,J.replace("Map",""),r)});var V=q["".concat(G,"Map")],Q=qxe(V),z=g(E,ge(ge({},q),{},{dataStartIndex:C,dataEndIndex:S,updateId:k,graphicalItems:K,stackGroups:U,offset:M}));return ge(ge({formattedGraphicalItems:z,graphicalItems:K,offset:M,stackGroups:U},Q),q)},b=(function(x){function _(N){var E,C,S;return kxe(this,_),S=Txe(this,_,[N]),Ye(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(S,"accessibilityManager",new hxe),Ye(S,"handleLegendBBoxUpdate",function(k){if(k){var A=S.state,P=A.dataStartIndex,O=A.dataEndIndex,I=A.updateId;S.setState(ge({legendBBox:k},v({props:S.props,dataStartIndex:P,dataEndIndex:O,updateId:I},ge(ge({},S.state),{},{legendBBox:k}))))}}),Ye(S,"handleReceiveSyncEvent",function(k,A,P){if(S.props.syncId===k){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),Ye(S,"handleBrushChange",function(k){var A=k.startIndex,P=k.endIndex;if(A!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return ge({dataStartIndex:A,dataEndIndex:P},v({props:S.props,dataStartIndex:A,dataEndIndex:P,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),Ye(S,"handleMouseEnter",function(k){var A=S.getMouseInfo(k);if(A){var P=ge(ge({},A),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var O=S.props.onMouseEnter;Qe(O)&&O(P,k)}}),Ye(S,"triggeredAfterMouseMove",function(k){var A=S.getMouseInfo(k),P=A?ge(ge({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var O=S.props.onMouseMove;Qe(O)&&O(P,k)}),Ye(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ye(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ye(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Ye(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var P=S.props.onMouseLeave;Qe(P)&&P(A,k)}),Ye(S,"handleOuterEvent",function(k){var A=ite(k),P=Bn(S.props,"".concat(A));if(A&&Qe(P)){var O,I;/.*touch.*/i.test(A)?I=S.getMouseInfo(k.changedTouches[0]):I=S.getMouseInfo(k),P((O=I)!==null&&O!==void 0?O:{},k)}}),Ye(S,"handleClick",function(k){var A=S.getMouseInfo(k);if(A){var P=ge(ge({},A),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var O=S.props.onClick;Qe(O)&&O(P,k)}}),Ye(S,"handleMouseDown",function(k){var A=S.props.onMouseDown;if(Qe(A)){var P=S.getMouseInfo(k);A(P,k)}}),Ye(S,"handleMouseUp",function(k){var A=S.props.onMouseUp;if(Qe(A)){var P=S.getMouseInfo(k);A(P,k)}}),Ye(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ye(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Ye(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Ye(S,"handleDoubleClick",function(k){var A=S.props.onDoubleClick;if(Qe(A)){var P=S.getMouseInfo(k);A(P,k)}}),Ye(S,"handleContextMenu",function(k){var A=S.props.onContextMenu;if(Qe(A)){var P=S.getMouseInfo(k);A(P,k)}}),Ye(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&Hj.emit(Gj,S.props.syncId,k,S.eventEmitterSymbol)}),Ye(S,"applySyncEvent",function(k){var A=S.props,P=A.layout,O=A.syncMethod,I=S.state.updateId,D=k.dataStartIndex,L=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(ge({dataStartIndex:D,dataEndIndex:L},v({props:S.props,dataStartIndex:D,dataEndIndex:L,updateId:I},S.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,G=k.chartY,K=k.activeTooltipIndex,U=S.state,q=U.offset,M=U.tooltipTicks;if(!q)return;if(typeof O=="function")K=O(M,k);else if(O==="value"){K=-1;for(var V=0;V<M.length;V++)if(M[V].value===k.activeLabel){K=V;break}}var Q=ge(ge({},q),{},{x:q.left,y:q.top}),z=Math.min(F,Q.x+Q.width),J=Math.min(G,Q.y+Q.height),le=M[K]&&M[K].value,se=o_(S.state,S.props.data,K),xe=M[K]?{x:P==="horizontal"?M[K].coordinate:z,y:P==="horizontal"?J:M[K].coordinate}:eU;S.setState(ge(ge({},k),{},{activeLabel:le,activeCoordinate:xe,activePayload:se,activeTooltipIndex:K}))}else S.setState(k)}),Ye(S,"renderCursor",function(k){var A,P=S.state,O=P.isTooltipActive,I=P.activeCoordinate,D=P.activePayload,L=P.offset,F=P.activeTooltipIndex,G=P.tooltipAxisBandSize,K=S.getTooltipEventType(),U=(A=k.props.active)!==null&&A!==void 0?A:O,q=S.props.layout,M=k.key||"_recharts-cursor";return B.createElement(vxe,{key:M,activeCoordinate:I,activePayload:D,activeTooltipIndex:F,chartName:r,element:k,isActive:U,layout:q,offset:L,tooltipAxisBandSize:G,tooltipEventType:K})}),Ye(S,"renderPolarAxis",function(k,A,P){var O=Bn(k,"type.axisType"),I=Bn(S.state,"".concat(O,"Map")),D=k.type.defaultProps,L=D!==void 0?ge(ge({},D),k.props):k.props,F=I&&I[L["".concat(O,"Id")]];return w.cloneElement(k,ge(ge({},F),{},{className:nt(O,F.className),key:k.key||"".concat(A,"-").concat(P),ticks:Ia(F,!0)}))}),Ye(S,"renderPolarGrid",function(k){var A=k.props,P=A.radialLines,O=A.polarAngles,I=A.polarRadius,D=S.state,L=D.radiusAxisMap,F=D.angleAxisMap,G=Si(L),K=Si(F),U=K.cx,q=K.cy,M=K.innerRadius,V=K.outerRadius;return w.cloneElement(k,{polarAngles:Array.isArray(O)?O:Ia(K,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(I)?I:Ia(G,!0).map(function(Q){return Q.coordinate}),cx:U,cy:q,innerRadius:M,outerRadius:V,key:k.key||"polar-grid",radialLines:P})}),Ye(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,A=S.props,P=A.children,O=A.width,I=A.height,D=S.props.margin||{},L=O-(D.left||0)-(D.right||0),F=RF({children:P,formattedGraphicalItems:k,legendWidth:L,legendContent:h});if(!F)return null;var G=F.item,K=U5(F,bxe);return w.cloneElement(G,ge(ge({},K),{},{chartWidth:O,chartHeight:I,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ye(S,"renderTooltip",function(){var k,A=S.props,P=A.children,O=A.accessibilityLayer,I=Rn(P,Ut);if(!I)return null;var D=S.state,L=D.isTooltipActive,F=D.activeCoordinate,G=D.activePayload,K=D.activeLabel,U=D.offset,q=(k=I.props.active)!==null&&k!==void 0?k:L;return w.cloneElement(I,{viewBox:ge(ge({},U),{},{x:U.left,y:U.top}),active:q,label:K,payload:q?G:[],coordinate:F,accessibilityLayer:O})}),Ye(S,"renderBrush",function(k){var A=S.props,P=A.margin,O=A.data,I=S.state,D=I.offset,L=I.dataStartIndex,F=I.dataEndIndex,G=I.updateId;return w.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Op(S.handleBrushChange,k.props.onChange),data:O,x:Se(k.props.x)?k.props.x:D.left,y:Se(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:Se(k.props.width)?k.props.width:D.width,startIndex:L,endIndex:F,updateId:"brush-".concat(G)})}),Ye(S,"renderReferenceElement",function(k,A,P){if(!k)return null;var O=S,I=O.clipPathId,D=S.state,L=D.xAxisMap,F=D.yAxisMap,G=D.offset,K=k.type.defaultProps||{},U=k.props,q=U.xAxisId,M=q===void 0?K.xAxisId:q,V=U.yAxisId,Q=V===void 0?K.yAxisId:V;return w.cloneElement(k,{key:k.key||"".concat(A,"-").concat(P),xAxis:L[M],yAxis:F[Q],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:I})}),Ye(S,"renderActivePoints",function(k){var A=k.item,P=k.activePoint,O=k.basePoint,I=k.childIndex,D=k.isRange,L=[],F=A.props.key,G=A.item.type.defaultProps!==void 0?ge(ge({},A.item.type.defaultProps),A.item.props):A.item.props,K=G.activeDot,U=G.dataKey,q=ge(ge({index:I,dataKey:U,cx:P.x,cy:P.y,r:4,fill:sk(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ze(K,!1)),gm(K));return L.push(_.renderActiveDot(K,q,"".concat(F,"-activePoint-").concat(I))),O?L.push(_.renderActiveDot(K,ge(ge({},q),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(I))):D&&L.push(null),L}),Ye(S,"renderGraphicChild",function(k,A,P){var O=S.filterFormatItem(k,A,P);if(!O)return null;var I=S.getTooltipEventType(),D=S.state,L=D.isTooltipActive,F=D.tooltipAxis,G=D.activeTooltipIndex,K=D.activeLabel,U=S.props.children,q=Rn(U,Ut),M=O.props,V=M.points,Q=M.isRange,z=M.baseLine,J=O.item.type.defaultProps!==void 0?ge(ge({},O.item.type.defaultProps),O.item.props):O.item.props,le=J.activeDot,se=J.hide,xe=J.activeBar,X=J.activeShape,re=!!(!se&&L&&q&&(le||xe||X)),me={};I!=="axis"&&q&&q.props.trigger==="click"?me={onClick:Op(S.handleItemMouseEnter,k.props.onClick)}:I!=="axis"&&(me={onMouseLeave:Op(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Op(S.handleItemMouseEnter,k.props.onMouseEnter)});var fe=w.cloneElement(k,ge(ge({},O.props),me));function ye(ht){return typeof F.dataKey=="function"?F.dataKey(ht.payload):null}if(re)if(G>=0){var ve,ce;if(F.dataKey&&!F.allowDuplicatedCategory){var Oe=typeof F.dataKey=="function"?ye:"payload.".concat(F.dataKey.toString());ve=mm(V,Oe,K),ce=Q&&z&&mm(z,Oe,K)}else ve=V?.[G],ce=Q&&z&&z[G];if(X||xe){var Ie=k.props.activeIndex!==void 0?k.props.activeIndex:G;return[w.cloneElement(k,ge(ge(ge({},O.props),me),{},{activeIndex:Ie})),null,null]}if(!rt(ve))return[fe].concat(Rc(S.renderActivePoints({item:O,activePoint:ve,basePoint:ce,childIndex:G,isRange:Q})))}else{var it,at=(it=S.getItemByXY(S.state.activeCoordinate))!==null&&it!==void 0?it:{graphicalItem:fe},lt=at.graphicalItem,Mt=lt.item,zt=Mt===void 0?k:Mt,Vt=lt.childIndex,xt=ge(ge(ge({},O.props),me),{},{activeIndex:Vt});return[w.cloneElement(zt,xt),null,null]}return Q?[fe,null,null]:[fe,null]}),Ye(S,"renderCustomized",function(k,A,P){return w.cloneElement(k,ge(ge({key:"recharts-customized-".concat(P)},S.props),S.state))}),Ye(S,"renderMap",{CartesianGrid:{handler:Dp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Dp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Dp},YAxis:{handler:Dp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=N.id)!==null&&E!==void 0?E:Qo("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=PL(S.triggeredAfterMouseMove,(C=N.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return Pxe(_,x),Axe(_,[{key:"componentDidMount",value:function(){var E,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,C=E.children,S=E.data,k=E.height,A=E.layout,P=Rn(C,Ut);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,D=o_(this.state,S,O,I),L=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+k)/2,G=A==="horizontal",K=G?{x:L,y:F}:{y:L,x:F},U=this.state.formattedGraphicalItems.find(function(M){var V=M.item;return V.type.name==="Scatter"});U&&(K=ge(ge({},K),U.props.points[O].tooltipPosition),D=U.props.points[O].tooltipPayload);var q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:I,activePayload:D,activeCoordinate:K};this.setState(q),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){zN([Rn(E.children,Ut)],[Rn(this.props.children,Ut)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Rn(this.props.children,Ut);if(E&&typeof E.props.shared=="boolean"){var C=E.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),k=Gse(S),A={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},P=S.width/C.offsetWidth||1,O=this.inRange(A.chartX,A.chartY,P);if(!O)return null;var I=this.state,D=I.xAxisMap,L=I.yAxisMap,F=this.getTooltipEventType(),G=z5(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&D&&L){var K=Si(D).scale,U=Si(L).scale,q=K&&K.invert?K.invert(A.chartX):null,M=U&&U.invert?U.invert(A.chartY):null;return ge(ge({},A),{},{xValue:q,yValue:M},G)}return G?ge(ge({},A),G):null}},{key:"inRange",value:function(E,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,A=E/S,P=C/S;if(k==="horizontal"||k==="vertical"){var O=this.state.offset,I=A>=O.left&&A<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return I?{x:A,y:P}:null}var D=this.state,L=D.angleAxisMap,F=D.radiusAxisMap;if(L&&F){var G=Si(L);return z4({x:A,y:P},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,C=this.getTooltipEventType(),S=Rn(E,Ut),k={};S&&C==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=gm(this.props,this.handleOuterEvent);return ge(ge({},A),k)}},{key:"addListener",value:function(){Hj.on(Gj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Hj.removeListener(Gj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,C,S){for(var k=this.state.formattedGraphicalItems,A=0,P=k.length;A<P;A++){var O=k[A];if(O.item===E||O.props.key===E.key||C===$a(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,C=this.state.offset,S=C.left,k=C.top,A=C.height,P=C.width;return B.createElement("defs",null,B.createElement("clipPath",{id:E},B.createElement("rect",{x:S,y:k,height:A,width:P})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(C,S){var k=F5(S,2),A=k[0],P=k[1];return ge(ge({},C),{},Ye({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(C,S){var k=F5(S,2),A=k[0],P=k[1];return ge(ge({},C),{},Ye({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(E){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(E){var C=this.state,S=C.formattedGraphicalItems,k=C.activeItem;if(S&&S.length)for(var A=0,P=S.length;A<P;A++){var O=S[A],I=O.props,D=O.item,L=D.type.defaultProps!==void 0?ge(ge({},D.type.defaultProps),D.props):D.props,F=$a(D.type);if(F==="Bar"){var G=(I.data||[]).find(function(M){return dhe(E,M)});if(G)return{graphicalItem:O,payload:G}}else if(F==="RadialBar"){var K=(I.data||[]).find(function(M){return z4(E,M)});if(K)return{graphicalItem:O,payload:K}}else if(fx(O,k)||px(O,k)||uh(O,k)){var U=Ife({graphicalItem:O,activeTooltipItem:k,itemData:L.data}),q=L.activeIndex===void 0?U:L.activeIndex;return{graphicalItem:ge(ge({},O),{},{childIndex:q}),payload:uh(O,k)?L.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var E=this;if(!eC(this))return null;var C=this.props,S=C.children,k=C.className,A=C.width,P=C.height,O=C.style,I=C.compact,D=C.title,L=C.desc,F=U5(C,wxe),G=ze(F,!1);if(I)return B.createElement(y5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(qN,Gl({},G,{width:A,height:P,title:D,desc:L}),this.renderClipPath(),rC(S,this.renderMap)));if(this.props.accessibilityLayer){var K,U;G.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,G.role=(U=this.props.role)!==null&&U!==void 0?U:"application",G.onKeyDown=function(M){E.accessibilityManager.keyboardEvent(M)},G.onFocus=function(){E.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return B.createElement(y5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Gl({className:nt("recharts-wrapper",k),style:ge({position:"relative",cursor:"default",width:A,height:P},O)},q,{ref:function(V){E.container=V}}),B.createElement(qN,Gl({},G,{width:A,height:P,title:D,desc:L,style:Lxe}),this.renderClipPath(),rC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);Ye(b,"displayName",r),Ye(b,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ye(b,"getDerivedStateFromProps",function(x,_){var N=x.dataKey,E=x.data,C=x.children,S=x.width,k=x.height,A=x.layout,P=x.stackOffset,O=x.margin,I=_.dataStartIndex,D=_.dataEndIndex;if(_.updateId===void 0){var L=W5(x);return ge(ge(ge({},L),{},{updateId:0},v(ge(ge({props:x},L),{},{updateId:0}),_)),{},{prevDataKey:N,prevData:E,prevWidth:S,prevHeight:k,prevLayout:A,prevStackOffset:P,prevMargin:O,prevChildren:C})}if(N!==_.prevDataKey||E!==_.prevData||S!==_.prevWidth||k!==_.prevHeight||A!==_.prevLayout||P!==_.prevStackOffset||!tc(O,_.prevMargin)){var F=W5(x),G={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},K=ge(ge({},z5(_,E,A)),{},{updateId:_.updateId+1}),U=ge(ge(ge({},F),G),K);return ge(ge(ge({},U),v(ge({props:x},U),_)),{},{prevDataKey:N,prevData:E,prevWidth:S,prevHeight:k,prevLayout:A,prevStackOffset:P,prevMargin:O,prevChildren:C})}if(!zN(C,_.prevChildren)){var q,M,V,Q,z=Rn(C,jc),J=z&&(q=(M=z.props)===null||M===void 0?void 0:M.startIndex)!==null&&q!==void 0?q:I,le=z&&(V=(Q=z.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&V!==void 0?V:D,se=J!==I||le!==D,xe=!rt(E),X=xe&&!se?_.updateId:_.updateId+1;return ge(ge({updateId:X},v(ge(ge({props:x},_),{},{updateId:X,dataStartIndex:J,dataEndIndex:le}),_)),{},{prevChildren:C,dataStartIndex:J,dataEndIndex:le})}return null}),Ye(b,"renderActiveDot",function(x,_,N){var E;return w.isValidElement(x)?E=w.cloneElement(x,_):Qe(x)?E=x(_):E=B.createElement(Mh,_),B.createElement(ut,{className:"recharts-active-dot",key:N},E)});var y=w.forwardRef(function(_,N){return B.createElement(b,Gl({},_,{ref:N}))});return y.displayName=b.displayName,y},Fa=wx({chartName:"LineChart",GraphicalChild:cr,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Ir}],formatAxisMap:ik}),gk=wx({chartName:"BarChart",GraphicalChild:Ts,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Ir}],formatAxisMap:ik}),xk=wx({chartName:"PieChart",GraphicalChild:Fs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hx},{axisType:"radiusAxis",AxisComp:ux}],formatAxisMap:Sce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Kxe=wx({chartName:"AreaChart",GraphicalChild:zi,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Ir}],formatAxisMap:ik});function Yxe(e){const t=Xxe(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),u=l.find(Qxe);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Xxe(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=eye(a),l=Zxe(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jxe=Symbol("radix.slottable");function Qxe(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jxe}function Zxe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function eye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jx="Popover",[rU]=Ds(jx,[Vc]),$h=Vc(),[tye,Wi]=rU(jx),nU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=$h(t),u=w.useRef(null),[h,f]=w.useState(!1),[p,g]=Pi({prop:n,defaultProp:a??!1,onChange:i,caller:jx});return s.jsx(X_,{...l,children:s.jsx(tye,{scope:t,contentId:Es(),triggerRef:u,open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(v=>!v),[g]),hasCustomAnchor:h,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:o,children:r})})};nU.displayName=jx;var sU="PopoverAnchor",rye=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Wi(sU,r),i=$h(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Pg,{...i,...n,ref:t})});rye.displayName=sU;var aU="PopoverTrigger",iU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Wi(aU,r),i=$h(r),o=gt(t,a.triggerRef),l=s.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dU(a.open),...n,ref:o,onClick:Pe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Pg,{asChild:!0,...i,children:l})});iU.displayName=aU;var yk="PopoverPortal",[nye,sye]=rU(yk,{forceMount:void 0}),oU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Wi(yk,t);return s.jsx(nye,{scope:t,forceMount:r,children:s.jsx(Ms,{present:r||i.open,children:s.jsx(_h,{asChild:!0,container:a,children:n})})})};oU.displayName=yk;var Ic="PopoverContent",lU=w.forwardRef((e,t)=>{const r=sye(Ic,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Wi(Ic,e.__scopePopover);return s.jsx(Ms,{present:n||i.open,children:i.modal?s.jsx(iye,{...a,ref:t}):s.jsx(oye,{...a,ref:t})})});lU.displayName=Ic;var aye=Yxe("PopoverContent.RemoveScroll"),iye=w.forwardRef((e,t)=>{const r=Wi(Ic,e.__scopePopover),n=w.useRef(null),a=gt(t,n),i=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return Ig(o)},[]),s.jsx(kh,{as:aye,allowPinchZoom:!0,children:s.jsx(cU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,h=l.button===2||u;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oye=w.forwardRef((e,t)=>{const r=Wi(Ic,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return s.jsx(cU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),cU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,...p}=e,g=Wi(Ic,r),v=$h(r);return Eg(),s.jsx(jh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(wh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(J_,{"data-state":dU(g.open),role:"dialog",id:g.contentId,...v,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uU="PopoverClose",lye=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Wi(uU,r);return s.jsx(st.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});lye.displayName=uU;var cye="PopoverArrow",uye=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$h(r);return s.jsx(Q_,{...a,...n,ref:t})});uye.displayName=cye;function dU(e){return e?"open":"closed"}var dye=nU,hye=iU,fye=oU,pye=lU;function vk({...e}){return s.jsx(dye,{"data-slot":"popover",...e})}function bk({...e}){return s.jsx(hye,{"data-slot":"popover-trigger",...e})}function wk({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(fye,{children:s.jsx(pye,{"data-slot":"popover-content",align:t,sideOffset:r,className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sn(e,t){const r=dt(e);return isNaN(t)?qn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Vn(e,t){const r=dt(e);if(isNaN(t))return qn(e,NaN);if(!t)return r;const n=r.getDate(),a=qn(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const jk=6048e5,mye=864e5;let gye={};function Lh(){return gye}function ua(e,t){const r=Lh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=dt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Bo(e){return ua(e,{weekStartsOn:1})}function hU(e){const t=dt(e),r=t.getFullYear(),n=qn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Bo(n),i=qn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Bo(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function zo(e){const t=dt(e);return t.setHours(0,0,0,0),t}function pg(e){const t=dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ea(e,t){const r=zo(e),n=zo(t),a=+r-pg(r),i=+n-pg(n);return Math.round((a-i)/mye)}function xye(e){const t=hU(e),r=qn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Bo(r)}function mg(e,t){const r=t*7;return sn(e,r)}function yye(e,t){return Vn(e,t*12)}function vye(e){let t;return e.forEach(function(r){const n=dt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function bye(e){let t;return e.forEach(r=>{const n=dt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Qr(e,t){const r=zo(e),n=zo(t);return+r==+n}function Nk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wye(e){if(!Nk(e)&&typeof e!="number")return!1;const t=dt(e);return!isNaN(Number(t))}function xh(e,t){const r=dt(e),n=dt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function jye(e,t,r){const n=ua(e,r),a=ua(t,r),i=+n-pg(n),o=+a-pg(a);return Math.round((i-o)/jk)}function Nye(e){const t=dt(e);return t.setHours(23,59,59,999),t}function Nx(e){const t=dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _ye(e,t){const r=dt(e.start),n=dt(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const u=[];for(;+o<=i;)u.push(dt(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?u.reverse():u}function dn(e){const t=dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function fU(e){const t=dt(e),r=qn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _k(e,t){const r=Lh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=dt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function pU(e){return _k(e,{weekStartsOn:1})}const Sye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kye=(e,t,r)=>{let n;const a=Sye[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Eye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Aye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oye={date:Yj({formats:Eye,defaultWidth:"full"}),time:Yj({formats:Aye,defaultWidth:"full"}),dateTime:Yj({formats:Tye,defaultWidth:"full"})},Cye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pye=(e,t,r,n)=>Cye[e];function Ju(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Rye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$ye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fye=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Uye={ordinalNumber:Fye,era:Ju({values:Rye,defaultWidth:"wide"}),quarter:Ju({values:Iye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ju({values:Dye,defaultWidth:"wide"}),day:Ju({values:Mye,defaultWidth:"wide"}),dayPeriod:Ju({values:$ye,defaultWidth:"wide",formattingValues:Lye,defaultFormattingWidth:"wide"})};function Qu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?zye(l,p=>p.test(o)):Bye(l,p=>p.test(o));let h;h=e.valueCallback?e.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const f=t.slice(o.length);return{value:h,rest:f}}}function Bye(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zye(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Wye(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const qye=/^(\d+)(th|st|nd|rd)?/i,Vye=/\d+/i,Hye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gye={any:[/^b/i,/^(a|c)/i]},Kye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yye={any:[/1/i,/2/i,/3/i,/4/i]},Xye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r0e={ordinalNumber:Wye({matchPattern:qye,parsePattern:Vye,valueCallback:e=>parseInt(e,10)}),era:Qu({matchPatterns:Hye,defaultMatchWidth:"wide",parsePatterns:Gye,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:Kye,defaultMatchWidth:"wide",parsePatterns:Yye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qu({matchPatterns:Xye,defaultMatchWidth:"wide",parsePatterns:Jye,defaultParseWidth:"any"}),day:Qu({matchPatterns:Qye,defaultMatchWidth:"wide",parsePatterns:Zye,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:e0e,defaultMatchWidth:"any",parsePatterns:t0e,defaultParseWidth:"any"})},mU={code:"en-US",formatDistance:kye,formatLong:Oye,formatRelative:Pye,localize:Uye,match:r0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n0e(e){const t=dt(e);return ea(t,fU(t))+1}function gU(e){const t=dt(e),r=+Bo(t)-+xye(t);return Math.round(r/jk)+1}function xU(e,t){const r=dt(e),n=r.getFullYear(),a=Lh(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=qn(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ua(o,t),u=qn(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const h=ua(u,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function s0e(e,t){const r=Lh(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=xU(e,t),i=qn(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ua(i,t)}function yU(e,t){const r=dt(e),n=+ua(r,t)-+s0e(r,t);return Math.round(n/jk)+1}function St(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const yi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return St(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):St(r+1,2)},d(e,t){return St(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return St(e.getHours()%12||12,t.length)},H(e,t){return St(e.getHours(),t.length)},m(e,t){return St(e.getMinutes(),t.length)},s(e,t){return St(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return St(a,t.length)}},Ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V5={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return yi.y(e,t)},Y:function(e,t,r,n){const a=xU(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return St(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):St(i,t.length)},R:function(e,t){const r=hU(e);return St(r,t.length)},u:function(e,t){const r=e.getFullYear();return St(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return St(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return St(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return yi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return St(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=yU(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):St(a,t.length)},I:function(e,t,r){const n=gU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):St(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yi.d(e,t)},D:function(e,t,r){const n=n0e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):St(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return St(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return St(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return St(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ll.noon:n===0?a=Ll.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ll.evening:n>=12?a=Ll.afternoon:n>=4?a=Ll.morning:a=Ll.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yi.s(e,t)},S:function(e,t){return yi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return G5(n);case"XXXX":case"XX":return mo(n);case"XXXXX":case"XXX":default:return mo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return G5(n);case"xxxx":case"xx":return mo(n);case"xxxxx":case"xxx":default:return mo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+H5(n,":");case"OOOO":default:return"GMT"+mo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+H5(n,":");case"zzzz":default:return"GMT"+mo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return St(n,t.length)},T:function(e,t,r){const n=e.getTime();return St(n,t.length)}};function H5(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+St(i,2)}function G5(e,t){return e%60===0?(e>0?"-":"+")+St(Math.abs(e)/60,2):mo(e,t)}function mo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=St(Math.trunc(n/60),2),i=St(n%60,2);return r+a+t+i}const K5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},a0e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return K5(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",K5(n,t)).replace("{{time}}",vU(a,t))},i0e={p:vU,P:a0e},o0e=/^D+$/,l0e=/^Y+$/,c0e=["D","DD","YY","YYYY"];function u0e(e){return o0e.test(e)}function d0e(e){return l0e.test(e)}function h0e(e,t,r){const n=f0e(e,t,r);if(console.warn(n),c0e.includes(e))throw new RangeError(n)}function f0e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g0e=/^'([^]*?)'?$/,x0e=/''/g,y0e=/[a-zA-Z]/;function _n(e,t,r){const n=Lh(),a=r?.locale??n.locale??mU,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=dt(e);if(!wye(l))throw new RangeError("Invalid time value");let u=t.match(m0e).map(f=>{const p=f[0];if(p==="p"||p==="P"){const g=i0e[p];return g(f,a.formatLong)}return f}).join("").match(p0e).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:v0e(f)};if(V5[p])return{isToken:!0,value:f};if(p.match(y0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(f=>{if(!f.isToken)return f.value;const p=f.value;(!r?.useAdditionalWeekYearTokens&&d0e(p)||!r?.useAdditionalDayOfYearTokens&&u0e(p))&&h0e(p,t,String(e));const g=V5[p[0]];return g(l,p,a.localize,h)}).join("")}function v0e(e){const t=e.match(g0e);return t?t[1].replace(x0e,"'"):e}function b0e(e){const t=dt(e),r=t.getFullYear(),n=t.getMonth(),a=qn(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function w0e(e){return Math.trunc(+dt(e)/1e3)}function j0e(e){const t=dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function N0e(e,t){return jye(j0e(e),dn(e),t)+1}function l_(e,t){const r=dt(e),n=dt(t);return r.getTime()>n.getTime()}function bU(e,t){const r=dt(e),n=dt(t);return+r<+n}function Sk(e,t){const r=dt(e),n=dt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function _0e(e,t){const r=dt(e),n=dt(t);return r.getFullYear()===n.getFullYear()}function vd(e,t){return sn(e,-t)}function Xj(e,t){const r=dt(e),n=r.getFullYear(),a=r.getDate(),i=qn(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=b0e(i);return r.setMonth(t,Math.min(a,o)),r}function Y5(e,t){const r=dt(e);return isNaN(+r)?qn(e,NaN):(r.setFullYear(t),r)}function wU(e,t){return Vn(e,-1)}function S0e(e,t){return mg(e,-1)}function X5({selected:e,onSelect:t,disabled:r}){const[n,a]=w.useState(e||new Date),i=dn(n),o=Nx(n),l=_ye({start:i,end:o}),u=i.getDay(),h=Array.from({length:u},(_,N)=>N),f=["Su","Mo","Tu","We","Th","Fr","Sa"],p=()=>{a(wU(n))},g=()=>{a(Vn(n,1))},v=_=>{r&&r(_)||t(_)},b=_=>Qr(_,new Date),y=_=>e?Qr(_,e):!1,x=_=>r?r(_):!1;return s.jsxs("div",{className:"w-[200px] select-none bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5 px-0.5",children:[s.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 rounded transition-colors",type:"button",children:s.jsx(I_,{className:"w-3 h-3 text-gray-600"})}),s.jsx("span",{className:"text-[11px] font-medium text-gray-700",children:_n(n,"MMM yyyy")}),s.jsx("button",{onClick:g,className:"p-1 hover:bg-gray-100 rounded transition-colors",type:"button",children:s.jsx(Oa,{className:"w-3 h-3 text-gray-600"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-0.5 mb-0.5",children:f.map(_=>s.jsx("div",{className:"text-center text-[8px] font-medium text-gray-500 py-0.5",children:_},_))}),s.jsxs("div",{className:"grid grid-cols-7 gap-0.5",children:[h.map(_=>s.jsx("div",{className:"aspect-square"},`empty-${_}`)),l.map(_=>{const N=x(_),E=y(_),C=b(_);return s.jsx("button",{onClick:()=>v(_),disabled:N,type:"button",className:`
                w-6 h-6 flex items-center justify-center text-[9px] rounded transition-colors
                ${N?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}
                ${E?"bg-green-600 text-white hover:bg-green-700 font-semibold":""}
                ${C&&!E?"bg-gray-100 font-semibold":""}
              `,children:_n(_,"d")},_.toISOString())})]})]})}function ma({onDateRangeChange:e}){const[t,r]=w.useState("month"),[n,a]=w.useState(),[i,o]=w.useState(),[l,u]=w.useState(!1),[h,f]=w.useState(!1),p=90,g=y=>{r(y);const x=new Date;switch(y){case"today":e(zo(x),Nye(x),y),f(!1);break;case"week":e(S0e(x),x,y),f(!1);break;case"month":e(wU(x),x,y),f(!1);break;case"year":e(vd(x,p),x,y),f(!1);break;case"custom":u(!0);break}},v=()=>{if(n&&i){const x=Math.ceil((i.getTime()-n.getTime())/864e5)>p?vd(i,p):n;e(x,i,"custom"),u(!1),f(!1)}},b=()=>{if(t==="custom"&&n&&i)return`${_n(n,"MMM dd")} - ${_n(i,"MMM dd, yyyy")}`;switch(t){case"today":return"Today";case"week":return"Last 7 Days";case"month":return"Last 30 Days";case"year":return"Last 90 Days";default:return"Select Range"}};return s.jsxs(vk,{open:h,onOpenChange:y=>{f(y),y||u(!1)},children:[s.jsx(bk,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Pr,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:b()}),s.jsx(Ho,{className:"w-3.5 h-3.5 text-gray-400"})]})}),s.jsxs(wk,{className:"w-auto p-0",align:"end",onOpenAutoFocus:y=>y.preventDefault(),children:[s.jsxs("div",{className:"p-2 space-y-1",children:[s.jsx("button",{onClick:()=>g("today"),className:`w-full text-left px-3 py-1.5 rounded text-sm transition-colors ${t==="today"?"bg-green-100 text-green-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:"Today"}),s.jsx("button",{onClick:()=>g("week"),className:`w-full text-left px-3 py-1.5 rounded text-sm transition-colors ${t==="week"?"bg-green-100 text-green-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:"Last 7 Days"}),s.jsx("button",{onClick:()=>g("month"),className:`w-full text-left px-3 py-1.5 rounded text-sm transition-colors ${t==="month"?"bg-green-100 text-green-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:"Last 30 Days"}),s.jsx("button",{onClick:()=>g("year"),className:`w-full text-left px-3 py-1.5 rounded text-sm transition-colors ${t==="year"?"bg-green-100 text-green-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:"Last 90 Days"}),s.jsx("div",{className:"border-t pt-1 mt-1",children:s.jsx("button",{onClick:()=>g("custom"),className:`w-full text-left px-3 py-1.5 rounded text-sm transition-colors ${t==="custom"?"bg-green-100 text-green-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:"Custom Range"})})]}),l&&s.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-3 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-semibold text-gray-700 mb-1.5 uppercase tracking-wide",children:"Start Date"}),s.jsx("div",{className:"bg-white p-2 rounded-md border border-gray-200",children:s.jsx(X5,{selected:n,onSelect:a})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-semibold text-gray-700 mb-1.5 uppercase tracking-wide",children:"End Date"}),s.jsx("div",{className:"bg-white p-2 rounded-md border border-gray-200",children:s.jsx(X5,{selected:i,onSelect:o,disabled:y=>n?y<n:!1})})]}),s.jsxs("div",{className:"flex gap-2 pt-1",children:[s.jsx("button",{onClick:()=>{u(!1),r("month"),f(!1)},className:"flex-1 px-2.5 py-1.5 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-[11px]",type:"button",children:"Cancel"}),s.jsx("button",{onClick:v,disabled:!n||!i,className:"flex-1 px-2.5 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-[11px] font-medium",type:"button",children:"Apply"})]})]})]})]})}const Mp=`https://${He}.supabase.co/functions/v1/make-server-4a075ebc`;function Ks(e){return e==null||Number.isNaN(e)?"--":e.toLocaleString()}function k0e(e){if(!e||e<=0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(1)} ${r[n]}`}function J5(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[a,i]=w.useState([]),[o,l]=w.useState([]),[u,h]=w.useState([]),[f,p]=w.useState([]),[g,v]=w.useState(0),[b,y]=w.useState(null),[x,_]=w.useState(null),[N,E]=w.useState([]),[C,S]=w.useState(!1),[k,A]=w.useState(()=>{const X=new Date;return X.setDate(X.getDate()-30),X}),[P,O]=w.useState(()=>new Date),[I,D]=w.useState(null),L=[{name:"Wallpapers",icon:Ed,description:"Wallpapers table, analytics and storage",available:["Total wallpapers from wallpapers table","Views / downloads / likes from counters or analytics","Storage usage slice from storage stats"],planned:["Trend vs last week / month for wallpaper engagement","Analytics-backed top wallpapers widget"]},{name:"Media",icon:Os,description:"Audio and video media manager",available:["Total media items (audio + video)","Total plays and downloads from media manager / analytics","Storage usage slice from storage stats"],planned:["Top media items table on dashboard","Module-level engagement slice in analytics chart"]},{name:"Sparkle",icon:ic,description:"Short-form content and articles",available:["Total sparkles from database","Total views and likes from analytics or counters","Storage usage slice from storage stats"],planned:["Top sparkles table on dashboard","Module-level engagement slice in analytics chart"]},{name:"Photos",icon:R_,description:"Photo uploads and gallery",available:["Upload pipeline via photo upload endpoint","Storage usage slice for photos bucket"],planned:["Photos CRUD and total photos metric","Photo engagement analytics (views / likes / downloads)"]},{name:"Ask Gugan AI",icon:Co,description:"Chat analytics and response time",available:["Frontend tracking helpers for conversations and messages","Unified analytics schema for ask_gugan events"],planned:["Total chats metric on dashboard","AI response time time-series chart","DAU / MAU for Ask Gugan"]},{name:"Users & Activity",icon:un,description:"Active users and admin usage",available:["IP-based tracking for all content modules","App-level tracking helpers (app open, login, logout)"],planned:["DAU / MAU cards (daily and monthly active users)","Daily active users time-series chart"]},{name:"Storage",icon:Dr,description:"Supabase storage usage",available:["Per-bucket storage stats (size and file count)","Storage monitor page with pie chart and breakdown"],planned:["Condensed storage widget on dashboard using same stats","Automatic optimization suggestions"]}];async function F(){t(!0),n(null);try{const[X,re,me,fe]=await Promise.all([k_(),yq(),$M(),LM()]);if(Array.isArray(X?.data)?i(X.data):i([]),Array.isArray(re?.data)?l(re.data):l([]),Array.isArray(me?.data)?h(me.data):h([]),fe&&Array.isArray(fe.data)){const ye=fe.data;p(ye);const ve=ye.reduce((ce,Oe)=>ce+(Oe.size||0),0);v(ve)}else p([]),v(0);try{const ce=!!(await(await fetch(`${Mp}/api/analytics/admin/status`,{headers:{Authorization:`Bearer ${he}`}})).json()).status?.installed;if(_(ce),ce){const Ie=await(await fetch(`${Mp}/api/analytics/admin/dashboard`,{headers:{Authorization:`Bearer ${he}`}})).json();Ie.success&&Ie.dashboard?y(Ie.dashboard):y(null)}else y(null)}catch(ye){console.error("Analytics load error",ye),y(null)}}catch(X){console.error("Dashboard load error",X),n(X?.message||"Failed to load dashboard data")}finally{t(!1)}}async function G(){if(!k||!P||!x||!b){E([]);return}try{const X=new URLSearchParams;X.append("start_date",k.toISOString()),X.append("end_date",P.toISOString());const re=Object.keys(b.modules||{});if(re.length===0){E([]);return}const me=async(ye,ve)=>{const ce=new URLSearchParams(X),Ie=await(await fetch(`${Mp}/api/analytics/admin/trend/${encodeURIComponent(ye)}/${encodeURIComponent(ve)}?${ce.toString()}`,{headers:{Authorization:`Bearer ${he}`}})).json();return Ie?.success?(Array.isArray(Ie.daily)?Ie.daily:[]).reduce((at,lt)=>at+(lt.count||0),0):0},fe=await Promise.all(re.map(async ye=>{const[ve,ce,Oe]=await Promise.all([me(ye,"like"),me(ye,"share"),me(ye,"download")]);return{module:ye,likes:ve,shares:ce,downloads:Oe}}));E(fe.filter(ye=>ye.likes||ye.shares||ye.downloads))}catch(X){console.error("Engagement by range load error",X),E([])}}async function K(){if(!(!k||!P||!x))try{const X=new URLSearchParams;X.append("start_date",k.toISOString()),X.append("end_date",P.toISOString());const me=await(await fetch(`${Mp}/api/analytics/admin/active-users?${X.toString()}`,{headers:{Authorization:`Bearer ${he}`}})).json();me.success&&me.stats?D(me.stats):D(null)}catch(X){console.error("Active users stats load error",X),D(null)}}w.useEffect(()=>{F()},[]),w.useEffect(()=>{x&&(K(),G())},[x,b,k,P]);const U=a.length,q=o.length,M=u.length,V=f.map(X=>{const re={wallpapers:"#3b82f6",banners:"#14b8a6",media:"#a855f7",photos:"#ec4899",sparkle:"#eab308"},me=X.size/(1024*1024*1024);return{name:X.name.charAt(0).toUpperCase()+X.name.slice(1),value:me,color:re[X.name]||"#9ca3af"}}).filter(X=>X.value>0),Q=g/(1024*1024*1024),z=b?Object.entries(b.modules||{}).map(([X,re])=>{const me=re.events_by_type||{};return{module:X,likes:me.like||0,shares:me.share||0,downloads:me.download||0}}).filter(X=>X.likes||X.shares||X.downloads):[],J=N.length>0?N:z,le=(I?.daily||[]).map(X=>({date:X.date,active_users:X.active_users})),se=a.slice().sort((X,re)=>(re.view_count||0)-(X.view_count||0)).slice(0,5),xe=[{label:"Wallpapers",value:Ks(U),icon:Ed,color:"bg-blue-500"},{label:"Media Items",value:Ks(q),icon:Os,color:"bg-purple-500"},{label:"Sparkles",value:Ks(M),icon:ic,color:"bg-yellow-500"},{label:"Total Storage",value:g>0?k0e(g):"0 B",icon:Dr,color:"bg-emerald-500"}];return b&&xe.push({label:"Analytics Events",value:Ks(b.total_events),icon:Co,color:"bg-teal-500"},{label:"Unique Visitors (IPs)",value:Ks(b.unique_ips),icon:un,color:"bg-indigo-500"}),I&&xe.push({label:"Active Users (range)",value:Ks(I.total_active_users),icon:un,color:"bg-green-600"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),s.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Overview of content, storage and analytics, using live data where available."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ma,{onDateRangeChange:(X,re)=>{A(X),O(re)}}),s.jsxs("button",{onClick:()=>{F(),K(),G()},disabled:e,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${e?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]}),s.jsxs("button",{onClick:()=>S(!0),className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:[s.jsx(qH,{className:"w-4 h-4"}),s.jsx("span",{children:"Checklist"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Active Users (Daily)"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Based on unique visitor IPs within the selected date range."})]}),I&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-800",children:Ks(I.total_active_users)}),s.jsx("div",{className:"text-xs text-gray-500",children:"Total in range"})]})]}),x===!1&&s.jsx("p",{className:"text-sm text-gray-500",children:"Analytics system is not installed. Run the migration SQL to enable active user charts."}),x&&le.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"No active user data available for this range yet."}),x&&le.length>0&&s.jsx(Zr,{width:"100%",height:260,children:s.jsxs(Fa,{data:le,children:[s.jsx(jn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Rr,{dataKey:"date",stroke:"#6b7280",tickFormatter:X=>{try{return new Date(X).toLocaleDateString(void 0,{month:"short",day:"numeric"})}catch{return X}}}),s.jsx(Ir,{stroke:"#6b7280"}),s.jsx(Ut,{labelFormatter:X=>{try{return new Date(X).toLocaleDateString()}catch{return String(X)}}}),s.jsx(cr,{type:"monotone",dataKey:"active_users",name:"Active Users",stroke:"#16a34a",strokeWidth:2,dot:!1})]})})]}),r&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:r}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:xe.map(X=>{const re=X.icon;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:`${X.color} w-10 h-10 rounded-lg flex items-center justify-center`,children:s.jsx(re,{className:"w-5 h-5 text-white"})})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:X.value}),s.jsx("p",{className:"text-sm text-gray-500",children:X.label})]},X.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Engagement by Module"}),x===!1&&s.jsx("p",{className:"text-sm text-gray-500",children:"Analytics system is not installed. Run the migration SQL to enable analytics charts."}),x&&J.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"No analytics events recorded yet."}),x&&J.length>0&&s.jsx(Zr,{width:"100%",height:260,children:s.jsxs(gk,{data:J,children:[s.jsx(jn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Rr,{dataKey:"module",stroke:"#6b7280"}),s.jsx(Ir,{stroke:"#6b7280"}),s.jsx(Ut,{}),s.jsx(Ts,{dataKey:"likes",fill:"#ef4444",name:"Likes"}),s.jsx(Ts,{dataKey:"shares",fill:"#3b82f6",name:"Shares"}),s.jsx(Ts,{dataKey:"downloads",fill:"#10b981",name:"Downloads"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["Storage Usage ",g>0?`(${Q.toFixed(1)} GB)`:""]}),V.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No storage data available yet."}):s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Zr,{width:"100%",height:260,children:s.jsxs(xk,{children:[s.jsx(Fs,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({name:X,percent:re})=>`${X}: ${(re*100).toFixed(0)}%`,outerRadius:90,dataKey:"value",children:V.map((X,re)=>s.jsx(Xc,{fill:X.color},`cell-${re}`))}),s.jsx(Ut,{})]})})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Performing Wallpapers"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Based on view counts from the wallpapers table."})]}),s.jsx("div",{className:"overflow-x-auto",children:se.length===0?s.jsx("p",{className:"text-sm text-gray-500 p-6",children:"No wallpapers found."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[s.jsx(At,{className:"w-4 h-4 inline mr-1"}),"Views"]}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[s.jsx(Ua,{className:"w-4 h-4 inline mr-1"}),"Downloads"]}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[s.jsx(jr,{className:"w-4 h-4 inline mr-1"}),"Likes"]})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map((X,re)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${re===0?"bg-yellow-500":re===1?"bg-gray-400":re===2?"bg-orange-600":"bg-gray-300"}`,children:re+1})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:Ks(X.view_count||0)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:Ks(X.download_count||0)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:Ks(X.like_count||0)})})]},X.id||re))})]})})]}),C&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>S(!1)}),s.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white shadow-xl z-50 flex flex-col",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Dashboard Wiring Checklist"}),s.jsx("p",{className:"text-xs text-gray-500",children:"See which metrics are live and which are still planned."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{F(),K()},disabled:e,className:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50",title:"Refresh data",children:s.jsx(mt,{className:`w-4 h-4 ${e?"animate-spin":""}`})}),s.jsx("button",{onClick:()=>S(!1),className:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50",title:"Close",children:s.jsx(Wr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:L.map(X=>{const re=X.icon;return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-emerald-50 flex items-center justify-center",children:s.jsx(re,{className:"w-4 h-4 text-emerald-700"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:X.name}),s.jsx("p",{className:"text-xs text-gray-500",children:X.description})]})]}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-[11px] font-medium bg-gray-100 text-gray-700",children:[X.available.length," wired  ",X.planned.length," planned"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Available now"}),s.jsxs("ul",{className:"space-y-1.5",children:[X.available.map(me=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[s.jsx(vr,{className:"w-4 h-4 text-emerald-600 mt-0.5"}),s.jsx("span",{children:me})]},me)),X.available.length===0&&s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-500",children:[s.jsx(vr,{className:"w-4 h-4 text-gray-300 mt-0.5"}),s.jsx("span",{children:"No metrics wired yet."})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Planned"}),s.jsxs("ul",{className:"space-y-1.5",children:[X.planned.map(me=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[s.jsx(wr,{className:"w-4 h-4 text-amber-500 mt-0.5"}),s.jsx("span",{children:me})]},me)),X.planned.length===0&&s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-500",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-300 mt-0.5"}),s.jsx("span",{children:"No pending metrics for this module."})]})]})]})]})]},X.name)})})]})]})]})}function E0e(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Management"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage admin users and permissions"})]}),s.jsxs("button",{className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700",children:[s.jsx(qG,{className:"w-5 h-5"}),"Add Admin User"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:s.jsx(un,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"8"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Admin Users"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Sg,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"7"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Active"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(KV,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"1"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Suspended"})]})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Admin user table would be implemented here"})})]})}var Ze=function(){return Ze=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ze.apply(this,arguments)};function A0e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function jU(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Fh(e){return e.mode==="multiple"}function Uh(e){return e.mode==="range"}function _x(e){return e.mode==="single"}var T0e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function O0e(e,t){return _n(e,"LLLL y",t)}function C0e(e,t){return _n(e,"d",t)}function P0e(e,t){return _n(e,"LLLL",t)}function R0e(e){return"".concat(e)}function I0e(e,t){return _n(e,"cccccc",t)}function D0e(e,t){return _n(e,"yyyy",t)}var M0e=Object.freeze({__proto__:null,formatCaption:O0e,formatDay:C0e,formatMonthCaption:P0e,formatWeekNumber:R0e,formatWeekdayName:I0e,formatYearCaption:D0e}),$0e=function(e,t,r){return _n(e,"do MMMM (EEEE)",r)},L0e=function(){return"Month: "},F0e=function(){return"Go to next month"},U0e=function(){return"Go to previous month"},B0e=function(e,t){return _n(e,"cccc",t)},z0e=function(e){return"Week n. ".concat(e)},W0e=function(){return"Year: "},q0e=Object.freeze({__proto__:null,labelDay:$0e,labelMonthDropdown:L0e,labelNext:F0e,labelPrevious:U0e,labelWeekNumber:z0e,labelWeekday:B0e,labelYearDropdown:W0e});function V0e(){var e="buttons",t=T0e,r=mU,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:M0e,labels:q0e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function H0e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=dn(n):t&&(i=new Date(t,0,1)),a?o=Nx(a):r&&(o=new Date(r,11,31)),{fromDate:i?zo(i):void 0,toDate:o?zo(o):void 0}}var NU=w.createContext(void 0);function G0e(e){var t,r=e.initialProps,n=V0e(),a=H0e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var u;(_x(r)||Fh(r)||Uh(r))&&(u=r.onSelect);var h=Ze(Ze(Ze({},n),r),{captionLayout:l,classNames:Ze(Ze({},n.classNames),r.classNames),components:Ze({},r.components),formatters:Ze(Ze({},n.formatters),r.formatters),fromDate:i,labels:Ze(Ze({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ze(Ze({},n.modifiers),r.modifiers),modifiersClassNames:Ze(Ze({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:Ze(Ze({},n.styles),r.styles),toDate:o});return s.jsx(NU.Provider,{value:h,children:e.children})}function Dt(){var e=w.useContext(NU);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function _U(e){var t=Dt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function K0e(e){return s.jsx("svg",Ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function SU(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,u=e.style,h=Dt(),f=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:K0e;return s.jsxs("div",{className:l,style:u,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(f,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function Y0e(e){var t,r=Dt(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,u=r.classNames,h=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var p=[];if(_0e(n,a))for(var g=dn(n),v=n.getMonth();v<=a.getMonth();v++)p.push(Xj(g,v));else for(var g=dn(new Date),v=0;v<=11;v++)p.push(Xj(g,v));var b=function(x){var _=Number(x.target.value),N=Xj(dn(e.displayMonth),_);e.onChange(N)},y=(t=h?.Dropdown)!==null&&t!==void 0?t:SU;return s.jsx(y,{name:"months","aria-label":f(),className:u.dropdown_month,style:i.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:p.map(function(x){return s.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function X0e(e){var t,r=e.displayMonth,n=Dt(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,u=n.classNames,h=n.components,f=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,g=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var v=a.getFullYear(),b=i.getFullYear(),y=v;y<=b;y++)g.push(Y5(fU(new Date),y));var x=function(N){var E=Y5(dn(r),Number(N.target.value));e.onChange(E)},_=(t=h?.Dropdown)!==null&&t!==void 0?t:SU;return s.jsx(_,{name:"years","aria-label":p(),className:u.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:f(r,{locale:o}),children:g.map(function(N){return s.jsx("option",{value:N.getFullYear(),children:f(N,{locale:o})},N.getFullYear())})})}function J0e(e,t){var r=w.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Q0e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,u=l===void 0?1:l;if(i&&xh(i,a)<0){var h=-1*(u-1);a=Vn(i,h)}return o&&xh(a,o)<0&&(a=o),dn(a)}function Z0e(){var e=Dt(),t=Q0e(e),r=J0e(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var u=dn(o);a(u),(l=e.onMonthChange)===null||l===void 0||l.call(e,u)}};return[n,i]}function eve(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=dn(e),i=dn(Vn(a,n)),o=xh(i,a),l=[],u=0;u<o;u++){var h=Vn(a,u);l.push(h)}return r&&(l=l.reverse()),l}function tve(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=dn(e);if(!r)return Vn(l,o);var u=xh(r,e);if(!(u<i))return Vn(l,o)}}function rve(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=dn(e);if(!r)return Vn(l,-o);var u=xh(l,r);if(!(u<=0))return Vn(l,-o)}}var kU=w.createContext(void 0);function nve(e){var t=Dt(),r=Z0e(),n=r[0],a=r[1],i=eve(n,t),o=tve(n,t),l=rve(n,t),u=function(p){return i.some(function(g){return Sk(p,g)})},h=function(p,g){u(p)||(g&&bU(p,g)?a(Vn(p,1+t.numberOfMonths*-1)):a(p))},f={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:h,previousMonth:l,nextMonth:o,isDateDisplayed:u};return s.jsx(kU.Provider,{value:f,children:e.children})}function Bh(){var e=w.useContext(kU);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Q5(e){var t,r=Dt(),n=r.classNames,a=r.styles,i=r.components,o=Bh().goToMonth,l=function(f){o(Vn(f,e.displayIndex?-e.displayIndex:0))},u=(t=i?.CaptionLabel)!==null&&t!==void 0?t:_U,h=s.jsx(u,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(Y0e,{onChange:l,displayMonth:e.displayMonth}),s.jsx(X0e,{onChange:l,displayMonth:e.displayMonth})]})}function sve(e){return s.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ave(e){return s.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var gg=w.forwardRef(function(e,t){var r=Dt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Ze(Ze({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ze({},e,{ref:t,type:"button",className:o,style:l}))});function ive(e){var t,r,n=Dt(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,u=n.labels,h=u.labelPrevious,f=u.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=h(e.previousMonth,{locale:i}),v=[o.nav_button,o.nav_button_previous].join(" "),b=f(e.nextMonth,{locale:i}),y=[o.nav_button,o.nav_button_next].join(" "),x=(t=p?.IconRight)!==null&&t!==void 0?t:ave,_=(r=p?.IconLeft)!==null&&r!==void 0?r:sve;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(gg,{name:"previous-month","aria-label":g,className:v,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(_,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(gg,{name:"next-month","aria-label":b,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(_,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function Z5(e){var t=Dt().numberOfMonths,r=Bh(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return Sk(e.displayMonth,b)}),u=l===0,h=l===o.length-1,f=t>1&&(u||!h),p=t>1&&(h||!u),g=function(){n&&i(n)},v=function(){a&&i(a)};return s.jsx(ive,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:p,nextMonth:a,previousMonth:n,onPreviousClick:g,onNextClick:v})}function ove(e){var t,r=Dt(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,u=(t=l?.CaptionLabel)!==null&&t!==void 0?t:_U,h;return a?h=s.jsx(u,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?h=s.jsx(Q5,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(Q5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Z5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Z5,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:h})}function lve(e){var t=Dt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function cve(e,t,r){for(var n=r?Bo(new Date):ua(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=sn(n,i);a.push(o)}return a}function uve(){var e=Dt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,h=cve(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(f,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":u(f,{locale:a}),children:l(f,{locale:a})},p)})]})}function dve(){var e,t=Dt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a?.HeadRow)!==null&&e!==void 0?e:uve;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function hve(e){var t=Dt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var kk=w.createContext(void 0);function fve(e){if(!Fh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(kk.Provider,{value:t,children:e.children})}return s.jsx(pve,{initialProps:e.initialProps,children:e.children})}function pve(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(h,f,p){var g,v;(g=t.onDayClick)===null||g===void 0||g.call(t,h,f,p);var b=!!(f.selected&&a&&n?.length===a);if(!b){var y=!!(!f.selected&&i&&n?.length===i);if(!y){var x=n?jU([],n):[];if(f.selected){var _=x.findIndex(function(N){return Qr(h,N)});x.splice(_,1)}else x.push(h);(v=t.onSelect)===null||v===void 0||v.call(t,x,h,f,p)}}},l={disabled:[]};n&&l.disabled.push(function(h){var f=i&&n.length>i-1,p=n.some(function(g){return Qr(g,h)});return!!(f&&!p)});var u={selected:n,onDayClick:o,modifiers:l};return s.jsx(kk.Provider,{value:u,children:r})}function Ek(){var e=w.useContext(kk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function mve(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Qr(a,e)&&Qr(n,e)?void 0:Qr(a,e)?{from:a,to:void 0}:Qr(n,e)?void 0:l_(n,e)?{from:e,to:a}:{from:n,to:e}:a?l_(e,a)?{from:a,to:e}:{from:e,to:a}:n?bU(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Ak=w.createContext(void 0);function gve(e){if(!Uh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Ak.Provider,{value:t,children:e.children})}return s.jsx(xve,{initialProps:e.initialProps,children:e.children})}function xve(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,u=t.max,h=function(v,b,y){var x,_;(x=t.onDayClick)===null||x===void 0||x.call(t,v,b,y);var N=mve(v,n);(_=t.onSelect)===null||_===void 0||_.call(t,N,v,b,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],Qr(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:vd(i,l-1),before:sn(i,l-1)}),i&&o&&f.disabled.push({after:i,before:sn(i,l-1)}),!i&&o&&f.disabled.push({after:vd(o,l-1),before:sn(o,l-1)})),u){if(i&&!o&&(f.disabled.push({before:sn(i,-u+1)}),f.disabled.push({after:sn(i,u-1)})),i&&o){var p=ea(o,i)+1,g=u-p;f.disabled.push({before:vd(i,g)}),f.disabled.push({after:sn(o,g)})}!i&&o&&(f.disabled.push({before:sn(o,-u+1)}),f.disabled.push({after:sn(o,u-1)}))}return s.jsx(Ak.Provider,{value:{selected:n,onDayClick:h,modifiers:f},children:r})}function Tk(){var e=w.useContext(Ak);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gp(e){return Array.isArray(e)?jU([],e):e!==void 0?[e]:[]}function yve(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Gp(a)}),t}var Is;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Is||(Is={}));var vve=Is.Selected,Ea=Is.Disabled,bve=Is.Hidden,wve=Is.Today,Jj=Is.RangeEnd,Qj=Is.RangeMiddle,Zj=Is.RangeStart,jve=Is.Outside;function Nve(e,t,r){var n,a=(n={},n[vve]=Gp(e.selected),n[Ea]=Gp(e.disabled),n[bve]=Gp(e.hidden),n[wve]=[e.today],n[Jj]=[],n[Qj]=[],n[Zj]=[],n[jve]=[],n);return e.fromDate&&a[Ea].push({before:e.fromDate}),e.toDate&&a[Ea].push({after:e.toDate}),Fh(e)?a[Ea]=a[Ea].concat(t.modifiers[Ea]):Uh(e)&&(a[Ea]=a[Ea].concat(r.modifiers[Ea]),a[Zj]=r.modifiers[Zj],a[Qj]=r.modifiers[Qj],a[Jj]=r.modifiers[Jj]),a}var EU=w.createContext(void 0);function _ve(e){var t=Dt(),r=Ek(),n=Tk(),a=Nve(t,r,n),i=yve(t.modifiers),o=Ze(Ze({},a),i);return s.jsx(EU.Provider,{value:o,children:e.children})}function AU(){var e=w.useContext(EU);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Sve(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function kve(e){return!!(e&&typeof e=="object"&&"from"in e)}function Eve(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ave(e){return!!(e&&typeof e=="object"&&"before"in e)}function Tve(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ove(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ea(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ea(e,n)>=0&&ea(a,e)>=0;return o}return a?Qr(a,e):n?Qr(n,e):!1}function Cve(e){return Nk(e)}function Pve(e){return Array.isArray(e)&&e.every(Nk)}function Rve(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Cve(r))return Qr(e,r);if(Pve(r))return r.includes(e);if(kve(r))return Ove(e,r);if(Tve(r))return r.dayOfWeek.includes(e.getDay());if(Sve(r)){var n=ea(r.before,e),a=ea(r.after,e),i=n>0,o=a<0,l=l_(r.before,r.after);return l?o&&i:i||o}return Eve(r)?ea(e,r.after)>0:Ave(r)?ea(r.before,e)>0:typeof r=="function"?r(e):!1})}function Ok(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Rve(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!Sk(e,r)&&(a.outside=!0),a}function Ive(e,t){for(var r=dn(e[0]),n=Nx(e[e.length-1]),a,i,o=r;o<=n;){var l=Ok(o,t),u=!l.disabled&&!l.hidden;if(!u){o=sn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=sn(o,1)}return i||a}var Dve=365;function TU(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,u=a.weekStartsOn,h=a.fromDate,f=a.toDate,p=a.locale,g={day:sn,week:mg,month:Vn,year:yye,startOfWeek:function(x){return a.ISOWeek?Bo(x):ua(x,{locale:p,weekStartsOn:u})},endOfWeek:function(x){return a.ISOWeek?pU(x):_k(x,{locale:p,weekStartsOn:u})}},v=g[r](e,n==="after"?1:-1);n==="before"&&h?v=vye([h,v]):n==="after"&&f&&(v=bye([f,v]));var b=!0;if(i){var y=Ok(v,i);b=!y.disabled&&!y.hidden}return b?v:l.count>Dve?l.lastFocused:TU(v,{moveBy:r,direction:n,context:a,modifiers:i,retry:Ze(Ze({},l),{count:l.count+1})})}var OU=w.createContext(void 0);function Mve(e){var t=Bh(),r=AU(),n=w.useState(),a=n[0],i=n[1],o=w.useState(),l=o[0],u=o[1],h=Ive(t.displayMonths,r),f=a??(l&&t.isDateDisplayed(l))?l:h,p=function(){u(a),i(void 0)},g=function(x){i(x)},v=Dt(),b=function(x,_){if(a){var N=TU(a,{moveBy:x,direction:_,context:v,modifiers:r});Qr(a,N)||(t.goToDate(N,a),g(N))}},y={focusedDay:a,focusTarget:f,blur:p,focus:g,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return s.jsx(OU.Provider,{value:y,children:e.children})}function Ck(){var e=w.useContext(OU);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function $ve(e,t){var r=AU(),n=Ok(e,r,t);return n}var Pk=w.createContext(void 0);function Lve(e){if(!_x(e.initialProps)){var t={selected:void 0};return s.jsx(Pk.Provider,{value:t,children:e.children})}return s.jsx(Fve,{initialProps:e.initialProps,children:e.children})}function Fve(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var u,h,f;if((u=t.onDayClick)===null||u===void 0||u.call(t,i,o,l),o.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,i,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(Pk.Provider,{value:a,children:r})}function CU(){var e=w.useContext(Pk);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Uve(e,t){var r=Dt(),n=CU(),a=Ek(),i=Tk(),o=Ck(),l=o.focusDayAfter,u=o.focusDayBefore,h=o.focusWeekAfter,f=o.focusWeekBefore,p=o.blur,g=o.focus,v=o.focusMonthBefore,b=o.focusMonthAfter,y=o.focusYearBefore,x=o.focusYearAfter,_=o.focusStartOfWeek,N=o.focusEndOfWeek,E=function(q){var M,V,Q,z;_x(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,q):Fh(r)?(V=a.onDayClick)===null||V===void 0||V.call(a,e,t,q):Uh(r)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,q):(z=r.onDayClick)===null||z===void 0||z.call(r,e,t,q)},C=function(q){var M;g(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,q)},S=function(q){var M;p(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,q)},k=function(q){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,q)},A=function(q){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,q)},P=function(q){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,q)},O=function(q){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,q)},I=function(q){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,q)},D=function(q){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,q)},L=function(q){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,q)},F=function(q){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,q)},G=function(q){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,q)},K=function(q){var M;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():u();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?u():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),h();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),f();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?y():v();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?x():b();break;case"Home":q.preventDefault(),q.stopPropagation(),_();break;case"End":q.preventDefault(),q.stopPropagation(),N();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,q)},U={onClick:E,onFocus:C,onBlur:S,onKeyDown:K,onKeyUp:G,onMouseEnter:k,onMouseLeave:A,onPointerEnter:P,onPointerLeave:O,onTouchCancel:I,onTouchEnd:D,onTouchMove:L,onTouchStart:F};return U}function Bve(){var e=Dt(),t=CU(),r=Ek(),n=Tk(),a=_x(e)?t.selected:Fh(e)?r.selected:Uh(e)?n.selected:void 0;return a}function zve(e){return Object.values(Is).includes(e)}function Wve(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(zve(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function qve(e,t){var r=Ze({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ze(Ze({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Vve(e,t,r){var n,a,i,o=Dt(),l=Ck(),u=$ve(e,t),h=Uve(e,u),f=Bve(),p=!!(o.onDayClick||o.mode!=="default");w.useEffect(function(){var k;u.outside||l.focusedDay&&p&&Qr(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,p,u.outside]);var g=Wve(o,u).join(" "),v=qve(o,u),b=!!(u.outside&&!o.showOutsideDays||u.hidden),y=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:hve,x=s.jsx(y,{date:e,displayMonth:t,activeModifiers:u}),_={style:v,className:g,children:x,role:"gridcell"},N=l.focusTarget&&Qr(l.focusTarget,e)&&!u.outside,E=l.focusedDay&&Qr(l.focusedDay,e),C=Ze(Ze(Ze({},_),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=E||N?0:-1,n)),h),S={isButton:p,isHidden:b,activeModifiers:u,selectedDays:f,buttonProps:C,divProps:_};return S}function Hve(e){var t=w.useRef(null),r=Vve(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(gg,Ze({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ze({},r.divProps))}function Gve(e){var t=e.number,r=e.dates,n=Dt(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,u=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,f=h(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var p=u(Number(t),{locale:l}),g=function(v){a(t,r,v)};return s.jsx(gg,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:g,children:f})}function Kve(e){var t,r,n=Dt(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,u=(t=l?.Day)!==null&&t!==void 0?t:Hve,h=(r=l?.WeekNumber)!==null&&r!==void 0?r:Gve,f;return o&&(f=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[f,e.dates.map(function(p){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(u,{displayMonth:e.displayMonth,date:p})},w0e(p))})]})}function eD(e,t,r){for(var n=r?.ISOWeek?pU(t):_k(t,r),a=r?.ISOWeek?Bo(e):ua(e,r),i=ea(n,a),o=[],l=0;l<=i;l++)o.push(sn(a,l));var u=o.reduce(function(h,f){var p=r?.ISOWeek?gU(f):yU(f,r),g=h.find(function(v){return v.weekNumber===p});return g?(g.dates.push(f),h):(h.push({weekNumber:p,dates:[f]}),h)},[]);return u}function Yve(e,t){var r=eD(dn(e),Nx(e),t);if(t?.useFixedWeeks){var n=N0e(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=mg(i,6-n),l=eD(mg(i,1),o,t);r.push.apply(r,l)}}return r}function Xve(e){var t,r,n,a=Dt(),i=a.locale,o=a.classNames,l=a.styles,u=a.hideHead,h=a.fixedWeeks,f=a.components,p=a.weekStartsOn,g=a.firstWeekContainsDate,v=a.ISOWeek,b=Yve(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:v,locale:i,weekStartsOn:p,firstWeekContainsDate:g}),y=(t=f?.Head)!==null&&t!==void 0?t:dve,x=(r=f?.Row)!==null&&r!==void 0?r:Kve,_=(n=f?.Footer)!==null&&n!==void 0?n:lve;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&s.jsx(y,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(N){return s.jsx(x,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),s.jsx(_,{displayMonth:e.displayMonth})]})}function Jve(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Qve=Jve()?w.useLayoutEffect:w.useEffect,eN=!1,Zve=0;function tD(){return"react-day-picker-".concat(++Zve)}function ebe(e){var t,r=e??(eN?tD():null),n=w.useState(r),a=n[0],i=n[1];return Qve(function(){a===null&&i(tD())},[]),w.useEffect(function(){eN===!1&&(eN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function tbe(e){var t,r,n=Dt(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,u=Bh().displayMonths,h=ebe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],g=o.month,v=e.displayIndex===0,b=e.displayIndex===u.length-1,y=!v&&!b;a==="rtl"&&(t=[v,b],b=t[0],v=t[1]),v&&(p.push(i.caption_start),g=Ze(Ze({},g),o.caption_start)),b&&(p.push(i.caption_end),g=Ze(Ze({},g),o.caption_end)),y&&(p.push(i.caption_between),g=Ze(Ze({},g),o.caption_between));var x=(r=l?.Caption)!==null&&r!==void 0?r:ove;return s.jsxs("div",{className:p.join(" "),style:g,children:[s.jsx(x,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Xve,{id:f,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function rbe(e){var t=Dt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function nbe(e){var t,r,n=e.initialProps,a=Dt(),i=Ck(),o=Bh(),l=w.useState(!1),u=l[0],h=l[1];w.useEffect(function(){a.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),h(!0)))},[a.initialFocus,u,i.focus,i.focusTarget,i]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var p=Ze(Ze({},a.styles.root),a.style),g=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,y){var x;return Ze(Ze({},b),(x={},x[y]=n[y],x))},{}),v=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:rbe;return s.jsx("div",Ze({className:f.join(" "),style:p,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(v,{children:o.displayMonths.map(function(b,y){return s.jsx(tbe,{displayIndex:y,displayMonth:b},y)})})}))}function sbe(e){var t=e.children,r=A0e(e,["children"]);return s.jsx(G0e,{initialProps:r,children:s.jsx(nve,{children:s.jsx(Lve,{initialProps:r,children:s.jsx(fve,{initialProps:r,children:s.jsx(gve,{initialProps:r,children:s.jsx(_ve,{children:s.jsx(Mve,{children:t})})})})})})})}function abe(e){return s.jsx(sbe,Ze({},e,{children:s.jsx(nbe,{initialProps:e})}))}function PU({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(abe,{showOutsideDays:r,className:tt("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:tt(Sd({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:tt("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:tt(Sd({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(I_,{className:tt("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(Oa,{className:tt("size-4",a),...i})},...n})}async function ibe(e){if(!e.type.startsWith("image/"))return{file:e,compressed:!1};try{const t=new Image,r=URL.createObjectURL(e);await new Promise((u,h)=>{t.onload=()=>u(),t.onerror=()=>h(new Error("Failed to load image")),t.src=r}),URL.revokeObjectURL(r);const n=document.createElement("canvas"),a=n.getContext("2d");if(!a)return{file:e,compressed:!1};n.width=t.width,n.height=t.height,a.drawImage(t,0,0);const i=await new Promise(u=>n.toBlob(h=>u(h),"image/webp",.82));if(!i)return{file:e,compressed:!1};if(i.size>=e.size*.95)return{file:e,compressed:!1};const o=e.name.replace(/\.[^/.]+$/,"")+".webp";return{file:new File([i],o,{type:"image/webp"}),compressed:!0}}catch{return{file:e,compressed:!1}}}async function obe(e){if(!e.type.startsWith("video/"))return{file:e,compressed:!1};try{const r=["video/webm;codecs=vp9,opus","video/webm;codecs=vp8,opus","video/webm"].find(p=>typeof MediaRecorder<"u"&&MediaRecorder.isTypeSupported(p));if(!r)return{file:e,compressed:!1};const n=document.createElement("video");n.muted=!0,n.playsInline=!0,n.preload="auto";const a=URL.createObjectURL(e);n.src=a,await new Promise((p,g)=>{n.onloadedmetadata=()=>p(),n.onerror=()=>g(new Error("Failed to load video"))});const i=n.captureStream?.();if(!i)return URL.revokeObjectURL(a),{file:e,compressed:!1};const o=[],l=new MediaRecorder(i,{mimeType:r,videoBitsPerSecond:12e5}),u=await new Promise((p,g)=>{l.ondataavailable=v=>{v.data&&v.data.size>0&&o.push(v.data)},l.onerror=()=>g(new Error("Video compression failed")),l.onstop=()=>p(new Blob(o,{type:r})),l.start(250),n.currentTime=0,n.play().catch(()=>{l.stop()}),setTimeout(()=>{try{l.stop()}catch{}},Math.min(15e3,Math.max(3e3,(n.duration||3)*1e3)))});if(URL.revokeObjectURL(a),u.size>=e.size*.95)return{file:e,compressed:!1};const h=e.name.replace(/\.[^/.]+$/,"")+".webm";return{file:new File([u],h,{type:r}),compressed:!0,method:"mediarecorder"}}catch{return{file:e,compressed:!1}}}function Rk({isOpen:e,onClose:t,onSuccess:r,title:n,uploadType:a,uploadFunction:i,folders:o=[],onCreateFolder:l}){const[u,h]=w.useState([]),[f,p]=w.useState(!1),[g,v]=w.useState(0),b=w.useRef(null),[y,x]=w.useState(!1),[_,N]=w.useState(""),E=a==="sparkle",C=a==="sparkle"||a==="wallpaper"?15:50,[S,k]=w.useState({title:"",description:"",tags:"",publishStatus:"draft",folderId:"",scheduleDate:void 0,bannerType:"wallpaper",mediaType:"audio",youtubeUrl:"",artist:"",subtitle:"",content:"",author:"Admin"}),A=D=>{const L=Array.from(D.target.files||[]);if(L.length===0)return;const F=Math.max(0,C-u.length);if(F<=0){ee.error(`You can upload a maximum of ${C} files at a time`);return}const G=[];L.slice(0,F).forEach(K=>{const U=K.type.startsWith("video/"),q=U?200*1024*1024:50*1024*1024;if(K.size>q){ee.error(`${K.name}: File size must be less than ${U?"200MB":"50MB"}`);return}const M={file:K,preview:null,id:Math.random().toString(36).substring(7)};if(K.type.startsWith("image/")){const V=new FileReader;V.onloadend=()=>{M.preview=V.result,h(Q=>[...Q.filter(z=>z.id!==M.id),M])},V.readAsDataURL(K)}else K.type.startsWith("video/")&&(M.preview=URL.createObjectURL(K));G.push(M)}),h(K=>[...K,...G]),b.current&&(b.current.value="")},P=D=>{h(L=>L.filter(F=>F.id!==D))},O=async()=>{if(!_.trim()){ee.error("Please enter a folder name");return}if(!l){ee.error("Folder creation not supported");return}try{await l(_.trim()),ee.success("Folder created successfully"),N(""),x(!1)}catch(D){ee.error(D.message||"Failed to create folder")}},I=async()=>{if(a!=="wallpaper"&&a!=="sparkle"&&u.length===1&&!S.title.trim()){ee.error("Please enter a title");return}if(a==="media"&&S.mediaType==="youtube"){if(!S.youtubeUrl.trim()){ee.error("Please enter a YouTube URL");return}}else{const L=u.length>0;if(a==="sparkle"){if(!L){ee.error("Please upload a sparkle image or video");return}}else if(!L){ee.error("Please select at least one file");return}}if((a==="sparkle"||a==="wallpaper")&&u.length>C){ee.error(`You can upload a maximum of ${C} files at a time`);return}if(S.publishStatus==="scheduled"&&!S.scheduleDate){ee.error("Please select a schedule date");return}p(!0),v(10);try{const L=setInterval(()=>{v(U=>Math.min(U+5,90))},300),F=[],G=[];for(let U=0;U<u.length;U++){const q=u[U],M=q.file.name.replace(/\.[^/.]+$/,""),V=q.file.size;let Q=q.file,z=V,J=!1,le;if(Q.type.startsWith("image/")){const xe=await ibe(Q);Q=xe.file,z=xe.file.size,J=xe.compressed,le=xe.compressed?"canvas-webp":void 0}else if(Q.type.startsWith("video/")){const xe=await obe(Q);Q=xe.file,z=xe.file.size,J=xe.compressed,le=xe.method}const se={title:a==="sparkle"?S.title.trim()||M:S.title||M,description:S.description,tags:S.tags,publishStatus:S.publishStatus,folder_id:S.folderId||void 0,scheduled_at:S.scheduleDate?S.scheduleDate.toISOString():void 0,metadata:JSON.stringify({original_bytes:V,compressed_bytes:z,compression_applied:J,compression_method:le,original_mime:q.file.type,final_mime:Q.type,original_name:q.file.name,final_name:Q.name})};if(a==="banner"&&(se.bannerType=S.bannerType),a==="media"&&(se.mediaType=S.mediaType,se.artist=S.artist,S.mediaType==="youtube"&&(se.youtubeUrl=S.youtubeUrl)),a==="sparkle"&&(se.subtitle=S.subtitle?.trim()||void 0,se.content=S.content?.trim()||S.description?.trim()||void 0,se.author=S.author,Q.type.startsWith("video/"))){se.videoFile=Q;try{const xe=await i(null,se);F.push(xe)}catch(xe){G.push({name:q.file.name,error:xe?.message||"Upload failed"})}v(Math.round((U+1)/u.length*100));continue}try{const xe=await i(Q,se);F.push(xe)}catch(xe){G.push({name:q.file.name,error:xe?.message||"Upload failed"})}v(Math.round((U+1)/u.length*100))}clearInterval(L),v(100);const K=u.length-G.length;K>0&&ee.success(`${K} ${n}${K>1?"s":""} uploaded successfully!`),G.length>0&&ee.error(`${G.length} upload(s) failed`,{description:G.slice(0,3).map(U=>`${U.name}: ${U.error}`).join(" | "),duration:8e3}),setTimeout(()=>{h([]),k({title:"",description:"",tags:"",publishStatus:"draft",folderId:"",scheduleDate:void 0,bannerType:"wallpaper",mediaType:"audio",youtubeUrl:"",artist:"",subtitle:"",content:"",author:"Admin"}),v(0),r(),t()},1e3)}catch(L){console.error("Upload error:",L),ee.error(L.message||"Upload failed"),v(0)}finally{p(!1)}};return!e||typeof document>"u"?null:Bc.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:["Upload ",n]}),s.jsx("button",{onClick:t,disabled:f,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[a!=="media"||S.mediaType!=="youtube"?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a==="media"&&S.mediaType==="audio"?"Audio File(s)":"",a==="media"&&S.mediaType==="video"?"Video File(s)":"",a==="sparkle"?"Sparkle Image or Video":"",a==="wallpaper"||a==="banner"?"Image or Video File(s)":"",a!=="media"&&a!=="sparkle"&&a!=="wallpaper"&&a!=="banner"?"Image File(s)":""]}),u.length>0&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-4",children:u.map(D=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border-2 border-gray-200",children:D.preview?D.file.type.startsWith("video/")?s.jsx("video",{src:D.preview,className:"w-full h-full object-cover"}):s.jsx("img",{src:D.preview,alt:D.file.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Wn,{className:"w-8 h-8 text-green-600"})})}),s.jsx("button",{onClick:()=>P(D.id),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-md",children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:D.file.name})]},D.id))}),s.jsx("div",{onClick:()=>b.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-green-500 transition-colors",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ki,{className:"w-12 h-12 text-gray-400 mx-auto"}),s.jsx("p",{className:"text-gray-600",children:E?`Click to select sparkle media (up to ${C})`:`Click to select ${u.length>0?"more ":""}file(s)`}),s.jsx("p",{className:"text-xs text-gray-400",children:a==="media"&&S.mediaType==="audio"?"MP3, WAV (max 50MB each)":a==="media"&&S.mediaType==="video"?"MP4, WebM (max 100MB each)":a==="wallpaper"||a==="banner"?"JPG, PNG, WebP, MP4, WebM (Images: max 50MB, Videos: max 100MB)":E?"JPG, PNG, WebP (max 50MB) or MP4/WebM (max 200MB)":"JPG, PNG, WebP (max 50MB each)"}),u.length>0&&s.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[u.length," file(s) selected"]})]})}),s.jsx("input",{ref:b,type:"file",multiple:!0,accept:a==="media"&&S.mediaType==="audio"?"audio/mp3,audio/mpeg,audio/wav":a==="media"&&S.mediaType==="video"?"video/mp4,video/webm":a==="wallpaper"||a==="banner"||E?"image/jpeg,image/jpg,image/png,image/webp,video/mp4,video/webm":"image/jpeg,image/jpg,image/png,image/webp",onChange:A,className:"hidden"})]}):null,a==="media"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>k({...S,mediaType:"audio"}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-all ${S.mediaType==="audio"?"border-green-600 bg-green-50 text-green-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:" Audio"}),s.jsx("button",{onClick:()=>k({...S,mediaType:"video"}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-all ${S.mediaType==="video"?"border-green-600 bg-green-50 text-green-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:" Video"}),s.jsx("button",{onClick:()=>k({...S,mediaType:"youtube"}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-all ${S.mediaType==="youtube"?"border-green-600 bg-green-50 text-green-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:" YouTube"})]})]}),a==="media"&&S.mediaType==="youtube"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube URL *"}),s.jsx("input",{type:"url",value:S.youtubeUrl,onChange:D=>k({...S,youtubeUrl:D.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",a!=="wallpaper"?"*":"(Optional - uses filename if empty)"]}),s.jsx("input",{type:"text",value:S.title,onChange:D=>k({...S,title:D.target.value}),placeholder:a==="wallpaper"?"Optional - will use filename if empty":"Enter title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),a==="wallpaper"&&u.length>1&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use individual file names for each upload"})]}),a==="sparkle"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),s.jsx("input",{type:"text",value:S.subtitle,onChange:D=>k({...S,subtitle:D.target.value}),placeholder:"Enter subtitle",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),a==="media"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artist"}),s.jsx("input",{type:"text",value:S.artist,onChange:D=>k({...S,artist:D.target.value}),placeholder:"Enter artist name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:S.description,onChange:D=>k({...S,description:D.target.value}),placeholder:"Enter description",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),(a==="wallpaper"||a==="banner"||a==="media"||a==="sparkle")&&o&&o.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Folder (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:S.folderId,onChange:D=>k({...S,folderId:D.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Uncategorized"}),o.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]}),l&&s.jsx("button",{onClick:()=>x(!y),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",title:"Create new folder",children:s.jsx(TH,{className:"w-4 h-4"})})]}),y&&s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("input",{type:"text",value:_,onChange:D=>N(D.target.value),placeholder:"New folder name",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyPress:D=>{D.key==="Enter"&&O()}}),s.jsx("button",{onClick:O,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Create"}),s.jsx("button",{onClick:()=>{x(!1),N("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),a==="sparkle"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),s.jsx("textarea",{value:S.content,onChange:D=>k({...S,content:D.target.value}),placeholder:"Enter article content",rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:S.tags,onChange:D=>k({...S,tags:D.target.value}),placeholder:"murugan, temple, devotional",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>k({...S,publishStatus:"draft"}),className:`flex-1 py-2 px-4 rounded-lg border-2 transition-all ${S.publishStatus==="draft"?"border-yellow-600 bg-yellow-50 text-yellow-700":"border-gray-200 text-gray-600"}`,children:"Draft"}),s.jsx("button",{onClick:()=>k({...S,publishStatus:"published"}),className:`flex-1 py-2 px-4 rounded-lg border-2 transition-all ${S.publishStatus==="published"?"border-green-600 bg-green-50 text-green-700":"border-gray-200 text-gray-600"}`,children:"Publish Now"}),s.jsx("button",{onClick:()=>k({...S,publishStatus:"scheduled"}),className:`flex-1 py-2 px-4 rounded-lg border-2 transition-all ${S.publishStatus==="scheduled"?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600"}`,children:"Schedule"})]})]}),S.publishStatus==="scheduled"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Date & Time *"}),s.jsxs(vk,{children:[s.jsx(bk,{asChild:!0,children:s.jsxs("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 justify-start",children:[s.jsx(Pr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:S.scheduleDate?"text-gray-900":"text-gray-500",children:S.scheduleDate?_n(S.scheduleDate,"PPP 'at' HH:mm"):"Select date and time"})]})}),s.jsxs(wk,{className:"w-auto p-0",align:"start",children:[s.jsx(PU,{mode:"single",selected:S.scheduleDate,onSelect:D=>k({...S,scheduleDate:D}),initialFocus:!0,disabled:D=>D<new Date}),s.jsxs("div",{className:"p-3 border-t",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),s.jsx("input",{type:"time",onChange:D=>{const[L,F]=D.target.value.split(":"),G=S.scheduleDate||new Date;G.setHours(parseInt(L),parseInt(F)),k({...S,scheduleDate:G})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]})]}),f&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Uploading ",u.length," file(s)..."]}),s.jsxs("span",{className:"text-green-600 font-medium",children:[g,"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-600 transition-all duration-300",style:{width:`${g}%`}})})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6 flex items-center justify-end gap-3 z-10",children:[s.jsx("button",{onClick:t,disabled:f,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:f||u.length===0,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ki,{className:"w-4 h-4"}),"Upload ",u.length>0?`${u.length} `:"",S.publishStatus==="published"?"& Publish":S.publishStatus==="scheduled"?"& Schedule":"as Draft"]})})]})]})}),document.body)}function Sx(){const[e,t]=w.useState(null),[r,n]=w.useState(!0),[a,i]=w.useState(!0),o=async()=>{n(!0);try{const p=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/admin/db-status`,{headers:{Authorization:`Bearer ${he}`}})).json();console.log("[DB Setup] Status:",p),t(p.status)}catch(f){console.error("[DB Setup] Error:",f),ee.error("Failed to check database status")}finally{n(!1)}};w.useEffect(()=>{o()},[]);const l=()=>{const f=document.getElementById("migration-sql")?.textContent||"";navigator.clipboard.writeText(f),ee.success("SQL copied to clipboard!")},u=()=>{window.open(`https://supabase.com/dashboard/project/${He}/sql`,"_blank")},h=e&&Object.values(e).every(f=>f.exists);return r?s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-8 text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-3"}),s.jsx("p",{className:"text-blue-800 font-medium",children:"Checking database status..."})]}):h?s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Wn,{className:"w-6 h-6 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-green-900 font-semibold mb-2",children:" Database Ready!"}),s.jsx("p",{className:"text-green-700 text-sm mb-3",children:"All required tables are set up and ready to use. You can now upload content."}),s.jsxs("button",{onClick:o,className:"text-sm text-green-700 font-medium hover:text-green-800 flex items-center gap-2",children:[s.jsx(Bt,{className:"w-4 h-4"}),"Refresh Status"]})]})]})}):s.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx(cn,{className:"w-6 h-6 text-orange-600 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-orange-900 font-bold mb-2",children:" Database Setup Required"}),s.jsx("p",{className:"text-orange-800 text-sm mb-3",children:"The database tables haven't been created yet. Follow these steps to set up your Supabase database:"}),s.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 rounded-lg p-3 mb-3",children:[s.jsx("p",{className:"text-yellow-900 text-sm font-medium mb-1",children:" Quick Access:"}),s.jsxs("p",{className:"text-yellow-800 text-xs",children:["The complete SQL migration is also available in ",s.jsx("code",{className:"bg-yellow-200 px-1 py-0.5 rounded",children:"/QUICK_SETUP.sql"})," file in your project root."]})]})]})]}),s.jsxs("div",{className:"space-y-4 mb-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"1"}),s.jsx("h4",{className:"font-semibold text-gray-800",children:"Open Supabase SQL Editor"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-11 mb-3",children:"Click the button below to open the Supabase SQL Editor in a new tab."}),s.jsxs("button",{onClick:u,className:"ml-11 flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[s.jsx(Ci,{className:"w-4 h-4"}),"Open SQL Editor"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"2"}),s.jsx("h4",{className:"font-semibold text-gray-800",children:"Copy & Run Migration SQL"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-11 mb-3",children:'Copy the SQL below and paste it into the SQL Editor, then click "Run".'}),s.jsxs("div",{className:"ml-11",children:[s.jsx("button",{onClick:()=>i(!a),className:"text-sm text-orange-700 font-medium hover:text-orange-800 mb-2",children:a?"Hide SQL":"Show SQL Migration"}),a&&s.jsxs("div",{className:"relative",children:[s.jsx("pre",{id:"migration-sql",className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto max-h-96 overflow-y-auto font-mono",children:`-- MURUGAN APP DATABASE SCHEMA
-- Run this in your Supabase SQL Editor

-- Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Categories table
CREATE TABLE IF NOT EXISTS categories (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT NOT NULL,
  slug TEXT UNIQUE NOT NULL,
  type TEXT NOT NULL,
  icon TEXT,
  color TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Banners table
CREATE TABLE IF NOT EXISTS banners (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  description TEXT,
  image_url TEXT NOT NULL,
  thumbnail_url TEXT,
  storage_path TEXT NOT NULL,
  category_id UUID REFERENCES categories(id),
  visibility TEXT DEFAULT 'public',
  publish_status TEXT DEFAULT 'draft',
  published_at TIMESTAMPTZ,
  order_index INTEGER DEFAULT 0,
  click_count INTEGER DEFAULT 0,
  view_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Wallpapers table  
CREATE TABLE IF NOT EXISTS wallpapers (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  description TEXT,
  image_url TEXT NOT NULL,
  thumbnail_url TEXT,
  storage_path TEXT NOT NULL,
  is_video BOOLEAN DEFAULT FALSE,
  video_url TEXT,
  category_id UUID REFERENCES categories(id),
  tags TEXT[] DEFAULT ARRAY[]::TEXT[],
  visibility TEXT DEFAULT 'public',
  publish_status TEXT DEFAULT 'draft',
  published_at TIMESTAMPTZ,
  is_featured BOOLEAN DEFAULT FALSE,
  download_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  view_count INTEGER DEFAULT 0,
  share_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Media table
CREATE TABLE IF NOT EXISTS media (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  description TEXT,
  media_type TEXT NOT NULL,
  file_url TEXT,
  thumbnail_url TEXT,
  youtube_id TEXT,
  youtube_url TEXT,
  storage_path TEXT,
  artist TEXT,
  duration INTEGER,
  category_id UUID REFERENCES categories(id),
  tags TEXT[] DEFAULT ARRAY[]::TEXT[],
  visibility TEXT DEFAULT 'public',
  publish_status TEXT DEFAULT 'draft',
  published_at TIMESTAMPTZ,
  is_featured BOOLEAN DEFAULT FALSE,
  play_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  download_count INTEGER DEFAULT 0,
  share_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Photos table
CREATE TABLE IF NOT EXISTS photos (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  description TEXT,
  image_url TEXT NOT NULL,
  thumbnail_url TEXT,
  storage_path TEXT NOT NULL,
  category_id UUID REFERENCES categories(id),
  tags TEXT[] DEFAULT ARRAY[]::TEXT[],
  visibility TEXT DEFAULT 'public',
  publish_status TEXT DEFAULT 'draft',
  published_at TIMESTAMPTZ,
  download_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  view_count INTEGER DEFAULT 0,
  share_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Sparkle table
CREATE TABLE IF NOT EXISTS sparkle (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  subtitle TEXT,
  content TEXT NOT NULL,
  content_json JSONB,
  cover_image_url TEXT,
  thumbnail_url TEXT,
  storage_path TEXT,
  author TEXT,
  category_id UUID REFERENCES categories(id),
  tags TEXT[] DEFAULT ARRAY[]::TEXT[],
  visibility TEXT DEFAULT 'public',
  publish_status TEXT DEFAULT 'draft',
  published_at TIMESTAMPTZ,
  is_featured BOOLEAN DEFAULT FALSE,
  read_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  share_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Insert default categories
INSERT INTO categories (name, slug, type, icon, color) VALUES
  ('Festivals', 'festivals', 'banner', '', '#FF6B6B'),
  ('Temples', 'temples', 'banner', '', '#4ECDC4'),
  ('Lord Murugan', 'lord-murugan', 'wallpaper', '', '#FFD93D'),
  ('Devotional Songs', 'devotional-songs', 'media', '', '#F72585'),
  ('Temple Photos', 'temple-photos', 'photo', '', '#3A0CA3'),
  ('Festival News', 'festival-news', 'sparkle', '', '#4CC9F0')
ON CONFLICT (slug) DO NOTHING;

-- Success message
SELECT 'Database tables created successfully!' as message;`}),s.jsxs("button",{onClick:l,className:"absolute top-2 right-2 flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-white px-3 py-1 rounded text-xs font-medium",children:[s.jsx(ac,{className:"w-3 h-3"}),"Copy"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"3"}),s.jsx("h4",{className:"font-semibold text-gray-800",children:"Verify Setup"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-11 mb-3",children:'After running the SQL, click "Check Status" to verify everything is set up correctly.'}),s.jsx("button",{onClick:o,disabled:r,className:"ml-11 flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium disabled:opacity-50",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Checking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dr,{className:"w-4 h-4"}),"Check Status"]})})]})]}),e&&s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(Dr,{className:"w-4 h-4"}),"Table Status"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(e).map(([f,p])=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.exists?s.jsx(Wn,{className:"w-4 h-4 text-green-600"}):s.jsx(Nn,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:p.exists?"text-gray-700":"text-red-700",children:f}),p.exists&&p.count!==void 0&&s.jsxs("span",{className:"text-gray-400 text-xs",children:["(",p.count," rows)"]})]},f))})]})]})}function lbe(){const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(null),o=async()=>{n(!0),i(null);try{console.log("[DB Checker] Fetching ALL banners from database...");const u=await MM();console.log("[DB Checker] Result:",u);const h=u.data||[];t(h),console.log(`[DB Checker]  Found ${h.length} total banners`),console.log("[DB Checker] Published count:",h.filter(f=>f.publish_status==="published").length),console.log("[DB Checker] Public count:",h.filter(f=>f.visibility==="public").length)}catch(u){console.error("[DB Checker] Error:",u),i(u.message)}finally{n(!1)}},l=e.filter(u=>u.publish_status==="published"&&u.visibility==="public");return s.jsxs("div",{className:"bg-blue-50 border-4 border-blue-500 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dr,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-blue-900 text-lg",children:"Banner Database Checker"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Check what's actually in the banners table"})]})]}),s.jsxs("button",{onClick:o,disabled:r,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),r?"Checking...":"Check Database"]})]}),a&&s.jsxs("div",{className:"bg-red-100 border-2 border-red-500 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-red-900 font-semibold",children:" Error:"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:a})]}),e.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Total Banners"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-500",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Published + Public"}),s.jsx("p",{className:"text-3xl font-bold text-green-700",children:l.length}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"These appear in user app"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-2 border-yellow-500",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Draft / Private"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:e.length-l.length})]})]}),s.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-300 max-h-96 overflow-y-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"#"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Visibility"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Views"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"In User App?"})]})}),s.jsx("tbody",{children:e.map((u,h)=>{const f=u.publish_status==="published"&&u.visibility==="public";return s.jsxs("tr",{className:`border-b ${f?"bg-green-50":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-4 py-3 font-semibold",children:h+1}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"font-medium",children:u.title}),s.jsx("p",{className:"text-xs text-gray-500 truncate max-w-xs",children:u.description})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${u.publish_status==="published"?"bg-green-200 text-green-800":"bg-gray-200 text-gray-700"}`,children:u.publish_status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${u.visibility==="public"?"bg-blue-200 text-blue-800":"bg-yellow-200 text-yellow-800"}`,children:u.visibility})}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:u.view_count||0}),s.jsx("td",{className:"px-4 py-3",children:f?s.jsx("span",{className:"text-green-600 font-bold",children:" YES"}):s.jsx("span",{className:"text-gray-400",children:" NO"})})]},u.id)})})]})}),s.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-500 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-yellow-900 mb-2",children:" What to do next:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700",children:[s.jsxs("li",{children:["The ",s.jsxs("strong",{className:"text-green-700",children:[l.length," green rows"]})," are showing in the user app carousel"]}),s.jsxs("li",{children:["If you only want 2 banners, ",s.jsx("strong",{children:"delete or unpublish"})," the extras in the Banners section"]}),s.jsxs("li",{children:["To hide a banner: Change ",s.jsx("code",{className:"bg-white px-1 rounded",children:"publish_status"}),' to "draft" OR ',s.jsx("code",{className:"bg-white px-1 rounded",children:"visibility"}),' to "private"']}),s.jsx("li",{children:"After making changes, refresh the user app to see updates"})]})]})]}),!r&&e.length===0&&!a&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Dr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:`Click "Check Database" to see what's in the banners table`})]})]})}function kx({folders:e,selectedFolder:t,onSelectFolder:r,onCreateFolder:n,onUpdateFolder:a,onDeleteFolder:i,allWallpapersCount:o,uncategorizedCount:l=0}){const[u,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState(""),[b,y]=w.useState(null),[x,_]=w.useState(""),N=w.useRef(null);w.useEffect(()=>{const A=P=>{N.current&&!N.current.contains(P.target)&&(h(!1),p(!1),y(null))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const E=async()=>{if(!g.trim()){ee.error("Please enter a folder name");return}try{await n(g.trim()),ee.success("Folder created successfully"),v(""),p(!1)}catch(A){ee.error(A.message||"Failed to create folder")}},C=async A=>{if(!x.trim()){ee.error("Please enter a folder name");return}try{await a(A,x.trim()),ee.success("Folder updated successfully"),y(null),_("")}catch(P){ee.error(P.message||"Failed to update folder")}},S=async A=>{const P=e.find(O=>O.id===A);if(P&&confirm(`Delete "${P.name}"? All media will be moved to uncategorized.`))try{await i(A),ee.success("Folder deleted successfully"),t===A&&r(null)}catch(O){ee.error(O.message||"Failed to delete folder")}},k=()=>t&&e.find(P=>P.id===t)?.name||"All Media";return s.jsxs("div",{ref:N,className:"relative w-full",children:[s.jsxs("button",{onClick:()=>h(!u),className:"w-full px-5 py-4 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-all flex items-center justify-between text-inter-medium-16",children:[s.jsx("span",{className:"text-gray-900",children:k()}),s.jsx(Ho,{className:`w-5 h-5 text-gray-600 transition-transform ${u?"rotate-180":""}`})]}),u&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-lg z-50 max-h-96 overflow-y-auto",children:[s.jsxs("button",{onClick:()=>{r(null),h(!1)},className:`w-full px-5 py-3 text-left hover:bg-gray-50 transition-colors flex items-center justify-between border-b border-gray-200 ${t?"":"bg-green-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(M0,{className:`w-4 h-4 ${t?"text-gray-400":"text-green-600"}`}),s.jsx("span",{className:`text-inter-medium-16 ${t?"text-gray-900":"text-green-700"}`,children:"All Media"})]}),s.jsx("span",{className:`text-sm ${t?"text-gray-500":"text-green-600"}`,children:o})]}),s.jsx("div",{className:"border-b border-gray-200",children:f?s.jsxs("div",{className:"px-5 py-3 space-y-2",children:[s.jsx("input",{type:"text",value:g,onChange:A=>v(A.target.value),placeholder:"Folder name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-inter-regular-14",autoFocus:!0,onKeyPress:A=>{A.key==="Enter"?E():A.key==="Escape"&&(p(!1),v(""))}}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:E,className:"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16 flex items-center justify-center gap-2",children:[s.jsx(kd,{className:"w-4 h-4"}),"Create"]}),s.jsx("button",{onClick:()=>{p(!1),v("")},className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Wr,{className:"w-4 h-4"})})]})]}):s.jsxs("button",{onClick:()=>p(!0),className:"w-full px-5 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3 text-green-600",children:[s.jsx(_r,{className:"w-4 h-4"}),s.jsx("span",{className:"text-inter-medium-16",children:"Create New Folder"})]})}),s.jsx("div",{className:"py-1",children:e.length===0?s.jsxs("div",{className:"px-5 py-8 text-center",children:[s.jsx(M0,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"No folders yet"}),s.jsx("p",{className:"text-gray-400 text-xs text-inter-regular-14 mt-1",children:"Create a folder to organize your wallpapers"})]}):e.map(A=>s.jsx("div",{className:`group ${t===A.id?"bg-green-50":"hover:bg-gray-50"} transition-colors`,children:b===A.id?s.jsxs("div",{className:"px-5 py-3 space-y-2",children:[s.jsx("input",{type:"text",value:x,onChange:P=>_(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-inter-regular-14",autoFocus:!0,onKeyPress:P=>{P.key==="Enter"?C(A.id):P.key==="Escape"&&(y(null),_(""))}}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>C(A.id),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16 flex items-center justify-center gap-2",children:[s.jsx(kd,{className:"w-4 h-4"}),"Save"]}),s.jsx("button",{onClick:()=>{y(null),_("")},className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Wr,{className:"w-4 h-4"})})]})]}):s.jsxs("div",{className:"flex items-center justify-between px-5 py-3",children:[s.jsxs("button",{onClick:()=>{r(A.id),h(!1)},className:"flex-1 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(M0,{className:`w-4 h-4 ${t===A.id?"text-green-600":"text-gray-400"}`}),s.jsx("span",{className:`text-inter-medium-16 ${t===A.id?"text-green-700":"text-gray-900"}`,children:A.name})]}),s.jsx("span",{className:`text-sm mr-2 ${t===A.id?"text-green-600":"text-gray-500"}`,children:A.wallpaper_count||0})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:P=>{P.stopPropagation(),y(A.id),_(A.name)},className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Edit folder",children:s.jsx(oG,{className:"w-3 h-3 text-gray-600"})}),s.jsx("button",{onClick:P=>{P.stopPropagation(),S(A.id)},className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Delete folder",children:s.jsx(zr,{className:"w-3 h-3 text-red-600"})})]})]})},A.id))})]})]})}function Dc({scheduledAt:e,wallpaperId:t,onTimeUp:r}){const[n,a]=w.useState(""),[i,o]=w.useState(!1);return w.useEffect(()=>{const l=()=>{const h=new Date().getTime(),p=new Date(e).getTime()-h;if(p<=0){o(!0),a("Publishing..."),r&&r(t);return}const g=Math.floor(p/(1e3*60*60*24)),v=Math.floor(p%(1e3*60*60*24)/(1e3*60*60)),b=Math.floor(p%(1e3*60*60)/(1e3*60)),y=Math.floor(p%(1e3*60)/1e3);g>0?a(`${g}d : ${v}h`):v>0?a(`${v.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`):a(`${b.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`)};l();const u=setInterval(l,1e3);return()=>clearInterval(u)},[e,r]),s.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium ${i?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:[s.jsx(wr,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:i?"Publishing...":`${n} left`})]})}function Mc({onReschedule:e,onPublishNow:t,onCancelSchedule:r}){return s.jsxs(cm,{children:[s.jsx(um,{asChild:!0,children:s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:n=>n.stopPropagation(),children:s.jsx(tm,{className:"w-5 h-5 text-gray-600"})})}),s.jsxs(dm,{align:"end",className:"w-48",children:[s.jsxs(In,{onClick:n=>{n.stopPropagation(),e()},className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Pr,{className:"w-4 h-4"}),s.jsx("span",{children:"Reschedule"})]}),s.jsxs(In,{onClick:n=>{n.stopPropagation(),t()},className:"flex items-center gap-2 cursor-pointer text-green-600",children:[s.jsx(EN,{className:"w-4 h-4"}),s.jsx("span",{children:"Publish Now"})]}),s.jsxs(In,{onClick:n=>{n.stopPropagation(),r()},className:"flex items-center gap-2 cursor-pointer text-red-600",children:[s.jsx(Nn,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel Schedule"})]})]})]})}function Ik({isOpen:e,onClose:t,currentScheduledAt:r,onReschedule:n,wallpaperTitle:a}){const i=()=>{if(r){const g=new Date(r);if(!isNaN(g.getTime()))return g}const p=new Date;return p.setDate(p.getDate()+1),p.setHours(12,0,0,0),p},[o,l]=w.useState(i()),[u,h]=w.useState(!1),f=async()=>{if(!o){ee.error("Please select a date and time");return}if(o<=new Date){ee.error("Please select a future date and time");return}h(!0);try{await n(o),ee.success("Wallpaper rescheduled successfully"),t()}catch(p){ee.error(p.message||"Failed to reschedule")}finally{h(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 text-inter-semibold-18",children:"Reschedule Wallpaper"}),s.jsx("button",{onClick:t,disabled:u,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 text-inter-regular-14 mb-1",children:"Wallpaper:"}),s.jsx("p",{className:"font-medium text-gray-900 text-inter-medium-16",children:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-inter-medium-16",children:"New Schedule Date & Time"}),s.jsxs(vk,{children:[s.jsx(bk,{asChild:!0,children:s.jsxs("button",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 justify-start",children:[s.jsx(Pr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-900 text-inter-regular-14",children:o?_n(o,"PPP 'at' HH:mm"):"Select date and time"})]})}),s.jsxs(wk,{className:"w-auto p-0",align:"start",children:[s.jsx(PU,{mode:"single",selected:o,onSelect:p=>p&&l(p),initialFocus:!0,disabled:p=>p<new Date}),s.jsxs("div",{className:"p-3 border-t",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-inter-medium-16",children:"Time"}),s.jsx("input",{type:"time",value:o?_n(o,"HH:mm"):"12:00",onChange:p=>{const[g,v]=p.target.value.split(":"),b=new Date(o||new Date);b.setHours(parseInt(g),parseInt(v)),l(b)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-6 flex items-center justify-end gap-3",children:[s.jsx("button",{onClick:t,disabled:u,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 text-inter-medium-16",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:u,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 text-inter-medium-16",children:u?"Rescheduling...":"Reschedule"})]})]})}):null}function Ex(){const[e,t]=w.useState(!1),r=`-- Quick Setup: Run this SQL in Supabase
-- Copy ALL of this and paste in Supabase SQL Editor  Click RUN

-- 1. Create wallpaper_folders table
CREATE TABLE IF NOT EXISTS wallpaper_folders (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  description TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 2. Create wallpaper_analytics table
CREATE TABLE IF NOT EXISTS wallpaper_analytics (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  wallpaper_id UUID NOT NULL REFERENCES wallpapers(id) ON DELETE CASCADE,
  event_type TEXT NOT NULL CHECK (event_type IN ('view', 'download', 'like', 'share')),
  user_id UUID,
  session_id TEXT,
  metadata JSONB DEFAULT '{}',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 3. Add folder_id to wallpapers table
DO $$ 
BEGIN
  IF NOT EXISTS (
    SELECT 1 FROM information_schema.columns 
    WHERE table_name = 'wallpapers' AND column_name = 'folder_id'
  ) THEN
    ALTER TABLE wallpapers ADD COLUMN folder_id UUID REFERENCES wallpaper_folders(id) ON DELETE SET NULL;
  END IF;
END $$;

-- 4. Add counter columns to wallpapers if missing
DO $$ 
BEGIN
  IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'wallpapers' AND column_name = 'view_count') THEN
    ALTER TABLE wallpapers ADD COLUMN view_count INTEGER DEFAULT 0 NOT NULL;
  END IF;
  
  IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'wallpapers' AND column_name = 'download_count') THEN
    ALTER TABLE wallpapers ADD COLUMN download_count INTEGER DEFAULT 0 NOT NULL;
  END IF;
  
  IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'wallpapers' AND column_name = 'like_count') THEN
    ALTER TABLE wallpapers ADD COLUMN like_count INTEGER DEFAULT 0 NOT NULL;
  END IF;
  
  IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'wallpapers' AND column_name = 'share_count') THEN
    ALTER TABLE wallpapers ADD COLUMN share_count INTEGER DEFAULT 0 NOT NULL;
  END IF;
END $$;

-- 5. Create increment functions
CREATE OR REPLACE FUNCTION increment_wallpaper_views(wallpaper_id UUID)
RETURNS VOID AS $$
BEGIN
  UPDATE wallpapers SET view_count = view_count + 1 WHERE id = wallpaper_id;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE OR REPLACE FUNCTION increment_wallpaper_downloads(wallpaper_id UUID)
RETURNS VOID AS $$
BEGIN
  UPDATE wallpapers SET download_count = download_count + 1 WHERE id = wallpaper_id;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE OR REPLACE FUNCTION increment_wallpaper_likes(wallpaper_id UUID)
RETURNS VOID AS $$
BEGIN
  UPDATE wallpapers SET like_count = like_count + 1 WHERE id = wallpaper_id;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE OR REPLACE FUNCTION increment_wallpaper_shares(wallpaper_id UUID)
RETURNS VOID AS $$
BEGIN
  UPDATE wallpapers SET share_count = share_count + 1 WHERE id = wallpaper_id;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 6. Create indexes
CREATE INDEX IF NOT EXISTS idx_wallpaper_folders_created_at ON wallpaper_folders(created_at DESC);
CREATE INDEX IF NOT EXISTS idx_wallpapers_folder_id ON wallpapers(folder_id);
CREATE INDEX IF NOT EXISTS idx_wallpaper_analytics_wallpaper_id ON wallpaper_analytics(wallpaper_id);
CREATE INDEX IF NOT EXISTS idx_wallpaper_analytics_event_type ON wallpaper_analytics(event_type);
CREATE INDEX IF NOT EXISTS idx_wallpaper_analytics_created_at ON wallpaper_analytics(created_at DESC);

-- 7. Create trigger
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS update_wallpaper_folders_updated_at ON wallpaper_folders;
CREATE TRIGGER update_wallpaper_folders_updated_at
  BEFORE UPDATE ON wallpaper_folders
  FOR EACH ROW
  EXECUTE FUNCTION update_updated_at_column();

-- 8. Grant permissions
GRANT ALL ON wallpaper_folders TO service_role;
GRANT ALL ON wallpaper_analytics TO service_role;
GRANT EXECUTE ON FUNCTION increment_wallpaper_views TO service_role;
GRANT EXECUTE ON FUNCTION increment_wallpaper_downloads TO service_role;
GRANT EXECUTE ON FUNCTION increment_wallpaper_likes TO service_role;
GRANT EXECUTE ON FUNCTION increment_wallpaper_shares TO service_role;`,n=async()=>{try{await navigator.clipboard.writeText(r),t(!0),ee.success("SQL copied to clipboard!"),setTimeout(()=>t(!1),3e3)}catch{ee.error("Failed to copy. Please select and copy manually.")}};return s.jsx("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-2xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:s.jsx(Dr,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(cn,{className:"w-5 h-5 text-orange-600"}),s.jsx("h3",{className:"text-inter-bold-18 text-orange-900",children:"Database Tables Required"})]}),s.jsx("p",{className:"text-orange-800 mb-2 text-inter-regular-14",children:"The folder management and analytics features require additional database tables."}),s.jsxs("p",{className:"text-orange-700 mb-4 text-sm font-medium",children:[" ",s.jsx("strong",{children:"Setup time:"})," 2 minutes | ",s.jsx("strong",{children:"Difficulty:"})," Easy | ",s.jsx("strong",{children:"One-time only"})]}),s.jsxs("div",{className:"space-y-4 mb-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-semibold-16",children:"Copy the SQL Script"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-8",children:'Click the "Copy SQL" button below to copy the setup script'})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-semibold-16",children:"Open Supabase SQL Editor"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-8 mb-2",children:"Go to your Supabase Dashboard  SQL Editor"}),s.jsxs("a",{href:"https://supabase.com/dashboard/project/_/sql",target:"_blank",rel:"noopener noreferrer",className:"ml-8 inline-flex items-center gap-2 text-sm text-orange-600 hover:text-orange-700 underline",children:["Open Supabase Dashboard",s.jsx(Ci,{className:"w-3 h-3"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-semibold-16",children:"Paste and Run"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-8",children:'Paste the SQL script in the editor and click "RUN" button'})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:""}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-semibold-16",children:"Refresh This Page"})]}),s.jsx("p",{className:"text-sm text-gray-600 ml-8",children:"After running the SQL, refresh this page to see the folder system"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium text-inter-medium-16",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Wn,{className:"w-5 h-5"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{className:"w-5 h-5"}),"Copy SQL Script"]})}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-white border-2 border-orange-300 text-orange-700 rounded-lg hover:bg-orange-50 transition-colors font-medium text-inter-medium-16",children:"Refresh Page After Setup"})]}),s.jsx("div",{className:"mt-4 p-3 bg-orange-100 rounded-lg",children:s.jsxs("p",{className:"text-xs text-orange-700",children:[" ",s.jsx("strong",{children:"Tip:"})," The SQL script is safe to run multiple times. It will only create tables if they don't exist."]})})]})]})})}function cbe({bannerId:e,isOpen:t,onClose:r}){const[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(()=>{const x=new Date;return x.setDate(x.getDate()-30),x}),[p,g]=w.useState(()=>new Date),[v,b]=w.useState("month");w.useEffect(()=>{t&&e&&y()},[t,e,h,p]);const y=async()=>{if(!(!h||!p))try{o(!0),u(null);const x=new URLSearchParams({start_date:h.toISOString(),end_date:p.toISOString()}),_=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/banner/${e}?${x}`,{headers:{Authorization:`Bearer ${he}`}}),N=await _.json();if(!_.ok)throw new Error(N.error||"Failed to load analytics");if(N.success)a(N.data);else throw new Error(N.error||"Failed to load analytics")}catch(x){console.error("[BannerAnalytics] Load error:",x),u(x.message),ee.error("Failed to load analytics: "+x.message)}finally{o(!1)}};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:r}),s.jsxs("div",{className:"fixed right-0 top-0 h-full w-[500px] bg-white shadow-2xl z-50 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(en,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"text-inter-bold-20 text-gray-800",children:"Banner Analytics"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]}),s.jsx(ma,{onDateRangeChange:(x,_,N)=>{f(x),g(_),b(N)}})]}),s.jsx("div",{className:"p-6 space-y-6",children:i&&!n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading analytics..."})]})}):l?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 text-inter-regular-14",children:l}),s.jsx("button",{onClick:y,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-inter-medium-16",children:"Retry"})]}):n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("img",{src:n.thumbnail_url||n.image_url,alt:n.title,className:"w-full h-32 object-cover rounded-lg"})}),n.date_range&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pr,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900 text-inter-medium-16",children:"Date Range"})]}),s.jsxs("p",{className:"text-sm text-blue-800 text-inter-regular-14",children:[new Date(n.date_range.start).toLocaleDateString()," -"," ",new Date(n.date_range.end).toLocaleDateString()," ","(",n.date_range.days," days)"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Total Views"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_views.toLocaleString()}),n.range_views!==void 0&&s.jsxs("p",{className:"text-sm text-blue-600 mt-1 text-inter-regular-14",children:[n.range_views.toLocaleString()," in range"]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(D_,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Total Clicks"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_clicks.toLocaleString()}),n.range_clicks!==void 0&&s.jsxs("p",{className:"text-sm text-purple-600 mt-1 text-inter-regular-14",children:[n.range_clicks.toLocaleString()," in range"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ko,{className:"w-5 h-5 text-green-700"}),s.jsx("span",{className:"text-green-800 font-medium text-inter-medium-16",children:"Click-Through Rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-green-900 text-inter-bold-20",children:[n.ctr.toFixed(2),"%"]}),s.jsxs("p",{className:"text-sm text-green-700 mt-1 text-inter-regular-14",children:[n.total_clicks," clicks / ",n.total_views," views"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-5 h-5 text-purple-700"}),s.jsx("span",{className:"text-purple-800 font-medium text-inter-medium-16",children:"Engagement Rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-900 text-inter-bold-20",children:[n.engagement_rate.toFixed(2),"%"]}),s.jsx("p",{className:"text-sm text-purple-700 mt-1 text-inter-regular-14",children:"Overall user engagement"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2 text-inter-semibold-18",children:[s.jsx(wr,{className:"w-5 h-5 text-gray-600"}),"Time-Based Performance"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"Today"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.views_today," views"]}),s.jsxs("p",{className:"text-sm text-gray-600 text-inter-regular-14",children:[n.clicks_today," clicks"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"This Week"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.views_week," views"]}),s.jsxs("p",{className:"text-sm text-gray-600 text-inter-regular-14",children:[n.clicks_week," clicks"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"This Month"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.views_month," views"]}),s.jsxs("p",{className:"text-sm text-gray-600 text-inter-regular-14",children:[n.clicks_month," clicks"]})]})]})]}),n.daily_stats&&n.daily_stats.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-4 text-inter-semibold-18",children:"Daily Performance"}),s.jsx(Zr,{width:"100%",height:300,children:s.jsxs(Fa,{data:n.daily_stats,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx(Ir,{}),s.jsx(Ut,{labelFormatter:x=>new Date(x).toLocaleDateString()}),s.jsx(ra,{}),s.jsx(cr,{type:"monotone",dataKey:"views",stroke:"#3b82f6",strokeWidth:2,name:"Views"}),s.jsx(cr,{type:"monotone",dataKey:"clicks",stroke:"#a855f7",strokeWidth:2,name:"Clicks"})]})})]}),n.peak_hours&&n.peak_hours.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-4 text-inter-semibold-18",children:"Peak Activity Hours"}),s.jsx(Zr,{width:"100%",height:250,children:s.jsxs(gk,{data:n.peak_hours,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"hour",tickFormatter:x=>`${x%12||12}${x<12?"am":"pm"}`}),s.jsx(Ir,{}),s.jsx(Ut,{labelFormatter:x=>`${x%12||12}:00 ${x<12?"AM":"PM"}`}),s.jsx(Ts,{dataKey:"activity_count",fill:"#10b981",name:"Activity"})]})})]}),n.top_locations&&n.top_locations.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-4 text-inter-semibold-18",children:"Top Locations"}),s.jsx("div",{className:"space-y-3",children:n.top_locations.slice(0,5).map((x,_)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-800 text-inter-regular-14",children:x.location}),s.jsx("span",{className:"font-semibold text-gray-800 text-inter-medium-16",children:x.count.toLocaleString()})]},_))})]}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Created"}),s.jsx("p",{className:"text-gray-800 font-medium text-inter-medium-16",children:new Date(n.created_at).toLocaleString()})]}),n.last_interaction&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Last Interaction"}),s.jsx("p",{className:"text-gray-800 font-medium text-inter-medium-16",children:new Date(n.last_interaction).toLocaleString()})]})]})})]}):null}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end gap-3",children:[s.jsxs("button",{onClick:y,disabled:i,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white transition-colors disabled:opacity-50 text-inter-medium-16",children:[s.jsx(mt,{className:`w-4 h-4 inline mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),s.jsx("button",{onClick:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Close"})]})]})]}):null}function ube(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState("published"),[u,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState("card"),[b,y]=w.useState(!1),[x,_]=w.useState(()=>{const Y=new Date;return Y.setDate(Y.getDate()-30),Y}),[N,E]=w.useState(()=>new Date),[C,S]=w.useState("month"),[k,A]=w.useState(null),[P,O]=w.useState([]),[I,D]=w.useState(null),[L,F]=w.useState(null),[G,K]=w.useState(!1),[U,q]=w.useState(new Set),[M,V]=w.useState(!1),[Q,z]=w.useState(""),[J,le]=w.useState(null),se=async()=>{try{n(!0),console.log("[AdminBannerManager] Starting to load banners...");const Y=await MM();console.log("[AdminBannerManager] Loaded banners:",Y),t(Y.data||[]),(Y.data||[]).length===0&&!I&&ee.info("No banners found. Upload your first banner!"),h(!1)}catch(Y){console.error("[AdminBannerManager] Load error:",Y),(Y.message.includes("Failed to fetch")||Y.message.includes("500")||Y.message.includes("relation")||Y.message.includes("schema cache")||Y.message.includes("Could not find the table"))&&h(!0),ee.error("Database tables not found",{duration:8e3,description:"Please follow the setup guide above to create the database tables."}),t([])}finally{n(!1)}},xe=async()=>{if(!x||!N){console.log("[AdminBannerManager] Skipping analytics load - missing dates");return}if(!(x instanceof Date)||isNaN(x.getTime())||!(N instanceof Date)||isNaN(N.getTime())){console.error("[AdminBannerManager] Invalid date objects:",{startDate:x,endDate:N}),A(null);return}try{console.log("[AdminBannerManager] Loading aggregate analytics for date range:",{start:x.toISOString(),end:N.toISOString()});const Y=new URLSearchParams({start_date:x.toISOString(),end_date:N.toISOString(),content_type:"banner"}),W=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/aggregate?${Y}`,{headers:{Authorization:`Bearer ${he}`}});if(!W.ok)throw new Error(`HTTP ${W.status}: ${W.statusText}`);const ie=await W.json();ie.success&&ie.data?(console.log("[AdminBannerManager] Aggregate analytics loaded:",ie.data),A(ie.data)):(console.warn("[AdminBannerManager] Analytics response not successful:",ie),A(null))}catch(Y){console.error("[AdminBannerManager] Failed to load aggregate analytics:",Y),A(null)}},X=async()=>{try{const Y=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/banner-folders`,{headers:{Authorization:`Bearer ${he}`}}),W=await Y.json();if(!Y.ok||W.code==="PGRST205"||W.message?.includes("schema cache")){console.log("[Banner Folders] Tables not set up yet - folder features will be hidden"),p(!0),O([]);return}if(W.success){const ie=(W.data||[]).map(Ee=>({...Ee,banner_count:e.filter(ue=>ue.folder_id===Ee.id).length}));O(ie),p(!1)}else(W.error?.includes("banner_folders")||W.error?.includes("PGRST205")||W.code==="PGRST205")&&(console.log("[Banner Folders] Tables not found - showing setup guide"),p(!0),O([]))}catch{console.log("[Banner Folders] Error loading folders - likely tables not created yet"),p(!0),O([])}},re=async(Y,W)=>{try{const ie=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/banner-folders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:Y,description:W})}),Ee=await ie.json();if(!ie.ok||Ee.code==="PGRST205"||Ee.message?.includes("schema cache"))throw p(!0),new Error("Please set up the database tables first. See the orange banner above for instructions.");if(!Ee.success)throw new Error(Ee.error||"Failed to create folder");await X()}catch(ie){throw(ie.message?.includes("PGRST205")||ie.message?.includes("schema cache")||ie.message?.includes("database tables"))&&p(!0),ie}},me=async(Y,W,ie)=>{const ue=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/banner-folders/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:W,description:ie})})).json();if(!ue.success)throw new Error(ue.error||"Failed to update folder");await X()},fe=async Y=>{const ie=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/banner-folders/${Y}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json();if(!ie.success)throw new Error(ie.error||"Failed to delete folder");I===Y&&D(null),await X()},ye=Y=>{F(Y),K(!0)},ve=Y=>{const W=new Set(U);W.has(Y)?W.delete(Y):W.add(Y),q(W)},ce=()=>{const Y=at();q(new Set(Y.map(W=>W.id)))},Oe=()=>{q(new Set)},Ie=async()=>{if(U.size===0){ee.error("No banners selected");return}try{const Y=Array.from(U).map(W=>Fu(W,{folder_id:Q||null}));await Promise.all(Y),ee.success(`Moved ${U.size} banner(s) to folder`),V(!1),q(new Set),z(""),se(),X()}catch(Y){ee.error("Failed to move banners: "+Y.message)}},it=async()=>{if(U.size===0){ee.error("No banners selected");return}if(confirm(`Delete ${U.size} selected banner(s)? This action cannot be undone.`))try{const Y=Array.from(U).map(W=>tT(W));await Promise.all(Y),ee.success(`Deleted ${U.size} banner(s)`),q(new Set),se(),X()}catch(Y){ee.error("Failed to delete banners: "+Y.message)}},at=()=>{let Y=e;return o==="published"?Y=Y.filter(W=>W.publish_status==="published"):o==="scheduled"?Y=Y.filter(W=>W.publish_status==="scheduled"&&W.scheduled_at):o==="draft"&&(Y=Y.filter(W=>W.publish_status==="draft"||W.publish_status==="scheduled"&&!W.scheduled_at)),I&&(Y=Y.filter(W=>W.folder_id===I)),Y};w.useEffect(()=>{se()},[]),w.useEffect(()=>{e.length>0&&X()},[e]),w.useEffect(()=>{xe()},[x,N]);const lt=async Y=>{try{const W=Y.publish_status==="published"?"draft":"published";await Fu(Y.id,{publish_status:W}),ee.success(`Banner ${W==="published"?"published":"unpublished"}`),se()}catch(W){ee.error("Failed to update banner: "+W.message)}},Mt=async Y=>{if(confirm(`Delete "${Y.title}"?`))try{await tT(Y.id),ee.success("Banner deleted"),se()}catch(W){ee.error("Failed to delete banner: "+W.message)}},zt=async Y=>{if(confirm(`Cancel schedule for "${Y.title}"? It will be moved to drafts.`))try{await Fu(Y.id,{publish_status:"draft",scheduled_at:null}),ee.success("Schedule cancelled - banner moved to drafts"),se()}catch(W){ee.error("Failed to cancel schedule: "+W.message)}},Vt=async(Y,W)=>{try{console.log("[AdminBannerManager] Rescheduling banner:",{bannerId:Y,newDate:W.toISOString()});const ie=await Fu(Y,{scheduled_at:W.toISOString()});console.log("[AdminBannerManager] Reschedule response:",ie),ee.success("Banner rescheduled successfully"),await se()}catch(ie){throw console.error("[AdminBannerManager] Reschedule error:",ie),ee.error("Failed to reschedule: "+ie.message),ie}},xt=async Y=>{if(confirm(`Publish "${Y.title}" immediately?`))try{await Fu(Y.id,{publish_status:"published",published_at:new Date().toISOString(),scheduled_at:null}),console.log(`[AdminBannerManager] Published banner ${Y.id} immediately`),ee.success("Banner published!"),se()}catch(W){console.error(`[AdminBannerManager] Failed to publish banner ${Y.id}:`,W),ee.error("Failed to publish banner: "+W.message)}},ht=at(),kt=e.filter(Y=>Y.publish_status==="published").length,$r=e.filter(Y=>Y.publish_status==="scheduled"&&Y.scheduled_at).length,qr=e.filter(Y=>Y.publish_status==="draft"||Y.publish_status==="scheduled"&&!Y.scheduled_at).length,pe=e.filter(Y=>!Y.folder_id).length;return s.jsxs("div",{className:"space-y-6 text-inter-regular-14",children:[u&&s.jsx(Sx,{}),f&&s.jsx(Ex,{contentType:"banner"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-inter-bold-20 text-gray-800",children:"Banner Management"}),s.jsx("p",{className:"text-gray-500 mt-1 text-inter-regular-14",children:"Manage carousel banners for the user app"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ma,{onDateRangeChange:(Y,W,ie)=>{_(Y),E(W),S(ie)}}),s.jsx("button",{onClick:()=>y(!b),className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"System Diagnostics",children:s.jsx(Go,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{se(),X()},disabled:r,className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:s.jsx(mt,{className:`w-5 h-5 ${r?"animate-spin":""}`})}),s.jsxs("button",{onClick:()=>i(!0),disabled:u,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all font-medium text-inter-medium-16 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_r,{className:"w-5 h-5"}),"Upload Banner"]})]})]}),b&&s.jsx("div",{className:"space-y-4",children:s.jsx(lbe,{})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Banners"}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2 text-inter-bold-20",children:e.length}),s.jsxs("p",{className:"text-sm text-green-600 mt-1 text-inter-regular-14",children:[kt," published"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Views"}),k&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:k?(k.total_views||0).toLocaleString():e.reduce((Y,W)=>Y+(W.view_count||0),0).toLocaleString()}),k&&x&&N&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Clicks"}),k&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:k?(k.total_clicks||0).toLocaleString():e.reduce((Y,W)=>Y+(W.click_count||0),0).toLocaleString()}),k&&x&&N&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})}),U.size>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("p",{className:"text-inter-medium-16 text-green-800",children:[U.size," banner(s) selected"]}),s.jsx("button",{onClick:Oe,className:"text-sm text-green-600 hover:text-green-700 underline",children:"Deselect All"})]}),!f&&s.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(jg,{className:"w-4 h-4"}),"Move to Folder"]}),s.jsxs("button",{onClick:it,className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(zr,{className:"w-4 h-4"}),"Delete"]})]}),!u&&!f&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[!f&&s.jsx("div",{className:"w-64",children:s.jsx(kx,{folders:P,selectedFolder:I,onSelectFolder:D,onCreateFolder:re,onUpdateFolder:me,onDeleteFolder:fe,allWallpapersCount:e.length,uncategorizedCount:pe})}),s.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>l("published"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="published"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(At,{className:"w-4 h-4 inline mr-1.5"}),"Published (",kt,")"]}),s.jsxs("button",{onClick:()=>l("scheduled"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="scheduled"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(wr,{className:"w-4 h-4 inline mr-1.5"}),"Scheduled (",$r,")"]}),s.jsxs("button",{onClick:()=>l("draft"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="draft"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(Fn,{className:"w-4 h-4 inline mr-1.5"}),"Drafts (",qr,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ht.length>0&&s.jsxs("button",{onClick:ce,className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"Select All",children:[s.jsx(Ma,{className:"w-4 h-4"}),"Select All"]}),s.jsxs("div",{className:"flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsx("button",{onClick:()=>v("card"),className:`p-1.5 rounded transition-colors ${g==="card"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"Card View",children:s.jsx(Ng,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>v("list"),className:`p-1.5 rounded transition-colors ${g==="list"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"List View",children:s.jsx(bh,{className:"w-4 h-4"})})]})]})]}),o==="scheduled"&&ht.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 text-sm text-blue-800",children:[s.jsxs("span",{className:"font-medium",children:["Showing ",ht.length," scheduled banner",ht.length>1?"s":"","."]})," ","These will automatically publish at their scheduled time. Use the countdown timer to see when each banner will go live."]})]})}),o==="draft"&&(()=>{const Y=ht.filter(W=>W.publish_status==="scheduled"&&!W.scheduled_at);return Y.length>0?s.jsx("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-inter-semibold-16 text-orange-800",children:[" ",Y.length," Banner",Y.length>1?"s":""," Marked as Scheduled but Missing Schedule Date"]}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:'These banners have publish_status = "scheduled" but no schedule date. They are shown here in Drafts until you set a schedule date or convert them to proper drafts.'})]})]})}):null})(),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading banners..."})]})}):ht.length===0?s.jsxs("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(_r,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-gray-800 mb-2 text-inter-semibold-18",children:"No banners yet"}),s.jsx("p",{className:"text-gray-500 mb-4 text-inter-regular-14",children:I?"No banners in this folder. Try selecting a different folder or upload a new banner.":"Upload your first banner to get started"}),s.jsx("button",{onClick:()=>i(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Upload Banner"})]}):g==="card"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ht.map(Y=>s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 overflow-hidden hover:shadow-md transition-all ${U.has(Y.id)?"border-green-500 ring-2 ring-green-200":"border-gray-200"}`,children:[s.jsxs("div",{className:"relative aspect-[16/9] bg-gray-100",children:[s.jsx("img",{src:Y.thumbnail_url||Y.medium_url||Y.image_url,alt:Y.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("button",{onClick:()=>ve(Y.id),className:"w-6 h-6 rounded bg-white border-2 border-gray-300 flex items-center justify-center hover:border-green-500 transition-colors",children:U.has(Y.id)&&s.jsx(Ma,{className:"w-5 h-5 text-green-600"})})}),s.jsx("div",{className:"absolute top-3 right-3",children:Y.publish_status==="scheduled"&&Y.scheduled_at?s.jsx(Dc,{scheduledAt:Y.scheduled_at}):s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 ${Y.publish_status==="published"?"bg-green-100 text-green-700":Y.publish_status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:Y.publish_status})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 text-inter-semibold-18",children:Y.title}),Y.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 text-inter-regular-14",children:Y.description}),Y.target_url&&s.jsxs("p",{className:"text-xs text-blue-600 mb-2 truncate text-inter-regular-14",children:[" ",Y.target_url]}),s.jsxs("div",{className:"flex items-center gap-4 mb-3 pb-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Views"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-medium-16",children:Y.view_count||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Clicks"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-medium-16",children:Y.click_count||0})]}),s.jsx("button",{onClick:()=>ye(Y.id),className:"ml-auto text-blue-600 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})})]}),Y.publish_status==="scheduled"&&Y.scheduled_at&&s.jsx("div",{className:"mb-3 p-2 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-800 text-inter-regular-14",children:[s.jsx(wr,{className:"w-3 h-3 inline mr-1"}),"Scheduled: ",new Date(Y.scheduled_at).toLocaleString()]})}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3 text-inter-regular-14",children:["Created ",new Date(Y.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Y.publish_status==="scheduled"?s.jsx(Mc,{onReschedule:()=>le(Y),onPublishNow:()=>xt(Y),onCancelSchedule:()=>zt(Y)}):s.jsx("button",{onClick:()=>lt(Y),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg border transition-colors text-inter-medium-16 ${Y.publish_status==="published"?"border-yellow-300 text-yellow-700 hover:bg-yellow-50":"border-green-300 text-green-700 hover:bg-green-50"}`,children:Y.publish_status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(Fn,{className:"w-4 h-4"}),"Unpublish"]}):s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-4 h-4"}),"Publish"]})}),s.jsx("button",{onClick:()=>Mt(Y),className:"p-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:s.jsx(zr,{className:"w-4 h-4"})})]})]})]},Y.id))}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:U.size===ht.length&&ht.length>0,onChange:()=>{U.size===ht.length&&ht.length>0?Oe():ce()},className:"rounded border-gray-300"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BANNER"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STATUS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"VIEWS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CLICKS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CREATED"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACTIONS"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ht.map(Y=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${U.has(Y.id)?"bg-green-50":""}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:U.has(Y.id),onChange:()=>ve(Y.id),className:"rounded border-gray-300"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:Y.thumbnail_url||Y.medium_url||Y.image_url,alt:Y.title,className:"w-16 h-10 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-inter-medium-16",children:Y.title}),Y.description&&s.jsx("div",{className:"text-sm text-gray-500 line-clamp-1 text-inter-regular-14",children:Y.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y.publish_status==="scheduled"&&Y.scheduled_at?s.jsx(Dc,{scheduledAt:Y.scheduled_at,compact:!0}):s.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium inline-block ${Y.publish_status==="published"?"bg-green-100 text-green-700":Y.publish_status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:Y.publish_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-inter-regular-14",children:Y.view_count||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-inter-regular-14",children:Y.click_count||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-inter-regular-14",children:new Date(Y.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>ye(Y.id),className:"text-blue-600 hover:text-blue-700 p-1.5 hover:bg-blue-50 rounded transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})}),Y.publish_status==="scheduled"?s.jsx(Mc,{onReschedule:()=>le(Y),onPublishNow:()=>xt(Y),onCancelSchedule:()=>zt(Y)}):s.jsx("button",{onClick:()=>lt(Y),className:"text-green-600 hover:text-green-700 p-1.5 hover:bg-green-50 rounded transition-colors",title:Y.publish_status==="published"?"Unpublish":"Publish",children:Y.publish_status==="published"?s.jsx(Fn,{className:"w-4 h-4"}):s.jsx(At,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Mt(Y),className:"text-red-600 hover:text-red-700 p-1.5 hover:bg-red-50 rounded transition-colors",title:"Delete",children:s.jsx(zr,{className:"w-4 h-4"})})]})})]},Y.id))})]})})]}),s.jsx(Rk,{isOpen:a,onClose:()=>i(!1),onSuccess:se,title:"Banner",uploadType:"banner",uploadFunction:bq}),J&&s.jsx(Ik,{isOpen:!!J,onClose:()=>le(null),onReschedule:Y=>{Vt(J.id,Y),le(null)},currentDate:J.scheduled_at?new Date(J.scheduled_at):new Date,title:J.title}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-inter-semibold-18 text-gray-800 mb-4",children:["Move ",U.size," banner(s) to folder"]}),s.jsxs("select",{value:Q,onChange:Y=>z(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 text-inter-regular-14",children:[s.jsx("option",{value:"",children:"Select a folder..."}),P.map(Y=>s.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:Ie,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Move"}),s.jsx("button",{onClick:()=>{V(!1),z("")},className:"flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-inter-medium-16",children:"Cancel"})]})]})}),s.jsx(cbe,{isOpen:G,onClose:()=>{K(!1),F(null)},bannerId:L})]})}function dbe(){const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(null),o=async()=>{n(!0),i(null);try{console.log("[DB Checker] Fetching ALL wallpapers from database...");const u=await k_();console.log("[DB Checker] Result:",u);const h=u.data||[];t(h),console.log(`[DB Checker]  Found ${h.length} total wallpapers`),console.log("[DB Checker] Published count:",h.filter(f=>f.publish_status==="published").length)}catch(u){console.error("[DB Checker] Error:",u),i(u.message)}finally{n(!1)}},l=e.filter(u=>u.publish_status==="published"&&u.visibility==="public");return s.jsxs("div",{className:"bg-purple-50 border-4 border-purple-500 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dr,{className:"w-6 h-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-purple-900 text-lg",children:"Wallpaper Database Checker"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Why are you seeing 12 photos instead of 2?"})]})]}),s.jsxs("button",{onClick:o,disabled:r,className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${r?"animate-spin":""}`}),r?"Checking...":"Check Database"]})]}),a&&s.jsxs("div",{className:"bg-red-100 border-2 border-red-500 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-red-900 font-semibold",children:" Error:"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:a})]}),e.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Total in Admin"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"(What admin panel shows)"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-500",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Published + Public"}),s.jsx("p",{className:"text-3xl font-bold text-green-700",children:l.length}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Visible in user app"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-2 border-yellow-500",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"Draft / Private"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:e.length-l.length}),s.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Hidden from users"})]})]}),e.length===2&&l.length===12&&s.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-red-900 mb-2",children:" FOUND THE ISSUE!"}),s.jsxs("p",{className:"text-sm text-red-800",children:["You have 2 wallpapers in admin, but ",s.jsx("strong",{children:"12 in user app"}),". This usually means:"]}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm text-red-700",children:[s.jsxs("li",{children:["The user app is showing ",s.jsx("strong",{children:"demo/fallback data"})]}),s.jsxs("li",{children:["OR there's old data in the ",s.jsx("code",{className:"bg-white px-1 rounded",children:"wallpapers"})," table"]}),s.jsxs("li",{children:["OR the user app is querying a different table (e.g., ",s.jsx("code",{className:"bg-white px-1 rounded",children:"photos"}),")"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-300 max-h-96 overflow-y-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"#"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Visibility"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Views"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"In User App?"})]})}),s.jsx("tbody",{children:e.map((u,h)=>{const f=u.publish_status==="published"&&u.visibility==="public";return s.jsxs("tr",{className:`border-b ${f?"bg-green-50":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-4 py-3 font-semibold",children:h+1}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"font-medium",children:u.title}),u.thumbnail_url&&s.jsx("img",{src:u.thumbnail_url,alt:"",className:"w-12 h-12 object-cover rounded mt-1"})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${u.publish_status==="published"?"bg-green-200 text-green-800":"bg-gray-200 text-gray-700"}`,children:u.publish_status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${u.visibility==="public"?"bg-blue-200 text-blue-800":"bg-yellow-200 text-yellow-800"}`,children:u.visibility})}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:u.view_count||0}),s.jsx("td",{className:"px-4 py-3",children:f?s.jsx("span",{className:"text-green-600 font-bold",children:" YES"}):s.jsx("span",{className:"text-gray-400",children:" NO"})})]},u.id)})})]})}),s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-500 rounded-lg p-4",children:[s.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:" What to check next:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700",children:[s.jsxs("li",{children:["If you see ",s.jsx("strong",{children:"2 wallpapers here"})," but ",s.jsx("strong",{children:"12 in user app"}),", the issue is in the ",s.jsx("strong",{children:"frontend code"})," (falling back to demo data)"]}),s.jsxs("li",{children:["If you see ",s.jsx("strong",{children:"12 wallpapers here"}),", then delete the extras you don't want"]}),s.jsx("li",{children:'Check browser console in user app for messages like "Using demo data" or "Backend timeout"'}),s.jsxs("li",{children:["Verify the ",s.jsx("code",{className:"bg-white px-1 rounded",children:"wallpapers"})," table actually exists in your Supabase database"]})]})]})]}),!r&&e.length===0&&!a&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Dr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:`Click "Check Database" to see what's in the wallpapers table`})]})]})}function hbe(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),a=async()=>{t(!0);const l={timestamp:new Date().toISOString(),checks:[]};try{console.log("[Diagnostics] Testing backend reachability...");const u=Date.now(),h=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/wallpapers/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({page:1,limit:5}),signal:AbortSignal.timeout(3e4)}),f=Date.now()-u,p=await h.json();l.checks.push({name:"Backend Reachable",status:h.ok?"pass":"fail",details:`Response time: ${f}ms, Status: ${h.status}`,data:p}),p.error?l.checks.push({name:"Wallpapers Table",status:"fail",details:`Database error: ${p.error}`,solution:"The wallpapers table does not exist. Create it in Supabase dashboard."}):p.success&&Array.isArray(p.data)&&l.checks.push({name:"Wallpapers Table",status:"pass",details:`Found ${p.data.length} wallpapers (Total: ${p.pagination?.total||0})`,data:p.data}),f>1e4?l.checks.push({name:"Response Time",status:"warning",details:`Slow response: ${f}ms (Cold start issue)`,solution:"Edge function is cold starting. Retry or increase timeout."}):f>3e3?l.checks.push({name:"Response Time",status:"warning",details:`Moderate response: ${f}ms`,solution:"Consider optimizing queries or database indexes."}):l.checks.push({name:"Response Time",status:"pass",details:`Fast response: ${f}ms`})}catch(u){console.error("[Diagnostics] Backend error:",u),u.name==="TimeoutError"||u.message?.includes("timeout")?l.checks.push({name:"Backend Reachable",status:"fail",details:"Request timeout after 30 seconds",solution:"Edge function is not responding. Check Supabase logs or redeploy."}):u.message?.includes("Failed to fetch")?l.checks.push({name:"Backend Reachable",status:"fail",details:"Network error - cannot reach backend",solution:"Check if Supabase project is active and edge function is deployed."}):l.checks.push({name:"Backend Reachable",status:"fail",details:u.message,solution:"Unknown error. Check browser console for details."})}n(l),t(!1)},i=l=>{switch(l){case"pass":return s.jsx(Wn,{className:"w-5 h-5 text-green-600"});case"warning":return s.jsx(cn,{className:"w-5 h-5 text-yellow-600"});case"fail":return s.jsx(Nn,{className:"w-5 h-5 text-red-600"});default:return s.jsx(or,{className:"w-5 h-5 text-gray-400"})}},o=l=>{switch(l){case"pass":return"bg-green-50 border-green-500";case"warning":return"bg-yellow-50 border-yellow-500";case"fail":return"bg-red-50 border-red-500";default:return"bg-gray-50 border-gray-300"}};return s.jsxs("div",{className:"bg-blue-50 border-4 border-blue-500 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(or,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-blue-900 text-lg",children:"Backend Diagnostics"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Check why backend is timing out"})]})]}),s.jsx("button",{onClick:a,disabled:e,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Checking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(or,{className:"w-4 h-4"}),"Run Diagnostics"]})})]}),e&&s.jsxs("div",{className:"bg-white rounded-lg p-8 text-center border-2 border-blue-200",children:[s.jsx(Bt,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-700 font-medium",children:"Testing backend connection..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This may take up to 30 seconds"})]}),r&&!e&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:"Test Run:"})," ",new Date(r.timestamp).toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[r.checks.filter(l=>l.status==="pass").length," Passed"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[r.checks.filter(l=>l.status==="warning").length," Warnings"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[r.checks.filter(l=>l.status==="fail").length," Failed"]})]})]})]}),r.checks.map((l,u)=>s.jsx("div",{className:`rounded-lg p-4 border-2 ${o(l.status)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[i(l.status),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:l.details}),l.solution&&s.jsxs("div",{className:"mt-2 bg-white rounded p-2 border border-gray-200",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:" Solution:"}),s.jsx("p",{className:"text-xs text-gray-700",children:l.solution})]}),l.data&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"View raw data"}),s.jsx("pre",{className:"mt-2 bg-gray-900 text-green-400 p-2 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(l.data,null,2)})]})]})]})},u)),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Common Solutions:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold text-blue-600",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Timeout errors:"})," Edge function is cold starting. Wait 30s and retry, or redeploy the function."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold text-blue-600",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Table not found:"})," Create the ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"wallpapers"})," table in Supabase dashboard."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold text-blue-600",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Network error:"})," Check if Supabase project is active and accessible."]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-bold text-blue-600",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Slow response:"})," First request after deploy is slow. Subsequent requests will be faster."]})]})]})]})]}),!r&&!e&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(or,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:'Click "Run Diagnostics" to check backend health'})]})]})}function fbe({wallpaperId:e,isOpen:t,onClose:r}){const[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(()=>{const x=new Date;return x.setDate(x.getDate()-30),x}),[p,g]=w.useState(()=>new Date),[v,b]=w.useState("month");w.useEffect(()=>{t&&e&&y()},[t,e,h,p]);const y=async()=>{try{o(!0),u(null);let x=`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/wallpapers/${e}/analytics`;const _=new URLSearchParams;h&&_.append("start_date",h.toISOString()),p&&_.append("end_date",p.toISOString()),_.toString()&&(x+=`?${_.toString()}`);const E=await(await fetch(x,{headers:{Authorization:`Bearer ${he}`}})).json();if(!E.success)throw new Error(E.error||"Failed to load analytics");a(E.data)}catch(x){console.error("Failed to load analytics:",x),u(x.message),ee.error("Failed to load analytics")}finally{o(!1)}};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:r}),s.jsxs("div",{className:"fixed right-0 top-0 h-full w-[500px] bg-white shadow-2xl z-50 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(en,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"text-inter-bold-20 text-gray-800",children:"Wallpaper Analytics"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]}),s.jsx(ma,{onDateRangeChange:(x,_,N)=>{f(x),g(_),b(N)}})]}),s.jsx("div",{className:"p-6 space-y-6",children:i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading analytics..."})]})}):l?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-red-800 text-inter-medium-16",children:"Error loading analytics"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:l}),s.jsx("button",{onClick:y,className:"mt-3 text-sm text-red-600 underline",children:"Try again"})]}):n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:n.thumbnail_url||n.image_url,alt:n.title,className:"w-24 h-40 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-inter-semibold-16 text-gray-800 mb-1",children:n.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",new Date(n.created_at).toLocaleDateString()]}),n.last_interaction&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last activity ",new Date(n.last_interaction).toLocaleString()]})]})]})}),n.date_range&&s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"w-4 h-4 text-green-600"}),s.jsxs("p",{className:"text-sm text-green-700 font-medium",children:["Showing data from ",new Date(n.date_range.start).toLocaleDateString()," to ",new Date(n.date_range.end).toLocaleDateString()," (",n.date_range.days," days)"]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"w-4 h-4 text-blue-600"}),s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Views"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:(n.range_views??n.total_views).toLocaleString()}),n.range_views!==void 0?s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"In selected range"}):s.jsxs("div",{className:"mt-2 space-y-1 text-xs text-blue-700",children:[s.jsxs("p",{children:["Today: ",n.views_today]}),s.jsxs("p",{children:["This Week: ",n.views_week]}),s.jsxs("p",{children:["This Month: ",n.views_month]})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ua,{className:"w-4 h-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Downloads"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:(n.range_downloads??n.total_downloads).toLocaleString()}),n.range_downloads!==void 0?s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"In selected range"}):s.jsxs("div",{className:"mt-2 space-y-1 text-xs text-green-700",children:[s.jsxs("p",{children:["Today: ",n.downloads_today]}),s.jsxs("p",{children:["This Week: ",n.downloads_week]}),s.jsxs("p",{children:["This Month: ",n.downloads_month]})]})]}),s.jsxs("div",{className:"bg-pink-50 border border-pink-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jr,{className:"w-4 h-4 text-pink-600"}),s.jsx("p",{className:"text-sm text-pink-600 font-medium",children:"Likes"})]}),s.jsx("p",{className:"text-2xl font-bold text-pink-900",children:(n.range_likes??n.total_likes).toLocaleString()}),n.range_likes!==void 0&&s.jsx("p",{className:"text-xs text-pink-600 mt-1",children:"In selected range"})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ba,{className:"w-4 h-4 text-purple-600"}),s.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Shares"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:(n.range_shares??n.total_shares).toLocaleString()}),n.range_shares!==void 0&&s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"In selected range"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ko,{className:"w-4 h-4 text-green-600"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Conversion Rate"})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[n.conversion_rate,"%"]}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Downloads  Views"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-4 h-4 text-blue-600"}),s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Engagement Rate"})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[n.engagement_rate,"%"]}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"(Likes + Shares)  Views"})]})]}),n.daily_stats&&n.daily_stats.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Pr,{className:"w-4 h-4 text-gray-600"}),s.jsx("h4",{className:"text-inter-semibold-16 text-gray-800",children:"Last 7 Days"})]}),s.jsx(Zr,{width:"100%",height:200,children:s.jsxs(Fa,{data:n.daily_stats,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",tick:{fontSize:10},tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx(Ir,{tick:{fontSize:10}}),s.jsx(Ut,{}),s.jsx(ra,{}),s.jsx(cr,{type:"monotone",dataKey:"views",stroke:"#0d5e38",strokeWidth:2}),s.jsx(cr,{type:"monotone",dataKey:"downloads",stroke:"#3b82f6",strokeWidth:2}),s.jsx(cr,{type:"monotone",dataKey:"likes",stroke:"#ec4899",strokeWidth:2})]})})]}),n.peak_hours&&n.peak_hours.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-600"}),s.jsx("h4",{className:"text-inter-semibold-16 text-gray-800",children:"Peak Activity Hours"})]}),s.jsx("div",{className:"space-y-2",children:n.peak_hours.map((x,_)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:x.hour===0?"12 AM":x.hour<12?`${x.hour} AM`:x.hour===12?"12 PM":`${x.hour-12} PM`}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 mx-4",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${x.activity_count/(n.peak_hours?.[0]?.activity_count||1)*100}%`}})}),s.jsx("span",{className:"text-sm font-medium text-gray-800 w-12 text-right",children:x.activity_count})]})]},_))})]}),n.top_locations&&n.top_locations.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(un,{className:"w-4 h-4 text-gray-600"}),s.jsx("h4",{className:"text-inter-semibold-16 text-gray-800",children:"Top Locations"})]}),s.jsx("div",{className:"space-y-2",children:n.top_locations.map((x,_)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:x.location}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:x.count})]},_))})]}),(!n.daily_stats||n.daily_stats.length===0)&&(!n.peak_hours||n.peak_hours.length===0)&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 text-center",children:[s.jsx(en,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-medium-16",children:"No detailed analytics yet"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Analytics data will appear as users interact with this wallpaper"})]})]}):null})]})]}):null}function rD(){const[e,t]=w.useState(!1),[r,n]=w.useState([]),[a,i]=w.useState(null),o=async()=>{t(!0);try{console.log("[Debugger] Fetching wallpapers from API...");const p=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/wallpapers`,{headers:{Authorization:`Bearer ${he}`}})).json();if(!p.success)throw new Error(p.error||"Failed to fetch wallpapers");const g=p.data||[];console.log("[Debugger] Total wallpapers:",g.length);const v=[];let b=0,y=0,x=0,_=0,N=0;for(const E of g){const C=[],S=E.publish_status==="scheduled",k=!!E.scheduled_at,A=E.scheduled_at?!isNaN(new Date(E.scheduled_at).getTime()):!1;S&&b++,S&&!k&&(C.push(" Has publish_status=scheduled but NO scheduled_at date"),N++),S&&k&&!A&&(C.push(" Has scheduled_at but date is INVALID"),N++),k&&!S&&C.push(' Has scheduled_at but publish_status is not "scheduled"'),k&&y++;const P=S&&k&&A;P&&_++;const O=S&&k;v.push({id:E.id,title:E.title,publish_status:E.publish_status,scheduled_at:E.scheduled_at,created_at:E.created_at,hasKvData:k,isValidScheduled:P,shouldShowInScheduledTab:O,issues:C})}n(v),i({total:g.length,scheduledStatus:b,withKvData:y,withoutKvData:b-y,validScheduled:_,brokenScheduled:N}),console.log("[Debugger] Analysis complete:",{total:g.length,scheduledStatus:b,withKvData:y,withoutKvData:b-y,validScheduled:_,brokenScheduled:N})}catch(f){console.error("[Debugger] Error:",f),alert("Error: "+f.message)}finally{t(!1)}},l=r.filter(f=>f.publish_status==="scheduled"),u=l.filter(f=>f.isValidScheduled),h=l.filter(f=>!f.isValidScheduled);return s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx($_,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-inter-semibold-18 text-blue-800",children:"Scheduled Wallpapers Debugger"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This tool checks all wallpapers in your database and identifies why scheduled wallpapers might not be appearing in the Scheduled tab."})]}),s.jsxs("button",{onClick:o,disabled:e,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(Dr,{className:`w-4 h-4 ${e?"animate-spin":""}`}),e?"Checking...":"Run Diagnostic"]})]}),a&&s.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Wallpapers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Marked as Scheduled"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:a.scheduledStatus}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:'publish_status = "scheduled"'})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Valid Scheduled"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:a.validScheduled}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Will show in Scheduled tab"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-orange-600",children:" Broken Scheduled"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:a.brokenScheduled}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Scheduled status but no date"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-purple-600",children:"With Schedule Data"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:a.withKvData}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Has scheduled_at field"})]})]}),l.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-inter-semibold-16 text-gray-800 mb-3",children:' Wallpapers with publish_status = "scheduled"'}),u.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-2",children:[s.jsxs("h5",{className:"text-inter-semibold-14 text-green-800 flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"})," Valid Scheduled Wallpapers (",u.length,")"]}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"These should appear in the Scheduled tab"})]}),s.jsx("div",{className:"space-y-2",children:u.map(f=>s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:f.title}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ID: ",s.jsx("code",{className:"bg-white px-1 rounded",children:f.id})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[s.jsxs("span",{className:"text-green-700",children:[" Status: ",f.publish_status]}),s.jsxs("span",{className:"text-green-700",children:[" Scheduled: ",f.scheduled_at?new Date(f.scheduled_at).toLocaleString():"N/A"]})]})]})})},f.id))})]}),h.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-2",children:[s.jsxs("h5",{className:"text-inter-semibold-14 text-orange-800 flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4"})," Broken Scheduled Wallpapers (",h.length,")"]}),s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"These have issues and won't appear in Scheduled tab"})]}),s.jsx("div",{className:"space-y-2",children:h.map(f=>s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:f.title}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ID: ",s.jsx("code",{className:"bg-white px-1 rounded",children:f.id})]}),s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.scheduled_at?s.jsx(Wn,{className:"w-4 h-4 text-green-600"}):s.jsx(Nn,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:f.scheduled_at?"text-green-700":"text-red-700",children:["scheduled_at: ",f.scheduled_at||"MISSING "]})]}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("span",{className:"text-orange-700",children:["publish_status: ",f.publish_status]})})]}),f.issues.length>0&&s.jsx("div",{className:"mt-2 bg-white rounded p-2",children:f.issues.map((p,g)=>s.jsx("p",{className:"text-xs text-orange-800",children:p},g))})]})})},f.id))})]})]}),l.length===0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-semibold-16",children:'No wallpapers with publish_status = "scheduled" found'}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'When you upload a wallpaper and select "Scheduled" status with a date, it will appear here.'})]})]})]})}function nD(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState("published"),[u,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState(!1),[b,y]=w.useState("card"),[x,_]=w.useState(()=>{const W=new Date;return W.setDate(W.getDate()-30),W}),[N,E]=w.useState(()=>new Date),[C,S]=w.useState("month"),[k,A]=w.useState(null),[P,O]=w.useState([]),[I,D]=w.useState(null),[L,F]=w.useState(null),[G,K]=w.useState(!1),[U,q]=w.useState(new Set),[M,V]=w.useState(!1),[Q,z]=w.useState(""),[J,le]=w.useState(null),se=W=>{if(!W||W<=0)return"";const ie=["B","KB","MB","GB"],Ee=Math.min(ie.length-1,Math.floor(Math.log(W)/Math.log(1024))),ue=W/Math.pow(1024,Ee);return`${ue.toFixed(ue>=10||Ee===0?0:1)} ${ie[Ee]}`},xe=W=>{const ie=W.metadata||{},Ee=typeof ie.original_bytes=="number"?ie.original_bytes:void 0,ue=typeof ie.compressed_bytes=="number"?ie.compressed_bytes:void 0,Ve=ie.compression_applied===!0,Yt=typeof ie.compression_method=="string"?ie.compression_method:void 0;return!Ee&&!ue?null:{originalBytes:Ee,compressedBytes:ue,applied:Ve,method:Yt}},X=async()=>{try{n(!0),console.log("[AdminWallpaperManager] Starting to load wallpapers...");const W=await k_();console.log("[AdminWallpaperManager] Loaded wallpapers:",W);const ie=(W.data||[]).filter(Ee=>Ee.publish_status==="scheduled");ie.length>0?(console.log("[AdminWallpaperManager]  DEBUG - Scheduled wallpapers:",ie),ie.forEach(Ee=>{console.log(`[AdminWallpaperManager]  Wallpaper ${Ee.id}:`,{id:Ee.id,title:Ee.title,publish_status:Ee.publish_status,scheduled_at:Ee.scheduled_at,scheduled_at_type:typeof Ee.scheduled_at,scheduled_at_valid:Ee.scheduled_at?!isNaN(new Date(Ee.scheduled_at).getTime()):!1,will_show_timer:!!(Ee.publish_status==="scheduled"&&Ee.scheduled_at)})})):console.log("[AdminWallpaperManager]  No scheduled wallpapers found"),t(W.data||[]),(W.data||[]).length===0&&!I&&ee.info("No wallpapers found. Upload your first wallpaper!"),h(!1)}catch(W){console.error("[AdminWallpaperManager] Load error:",W),(W.message.includes("Failed to fetch")||W.message.includes("500")||W.message.includes("relation")||W.message.includes("schema cache")||W.message.includes("Could not find the table"))&&h(!0),ee.error("Database tables not found",{duration:8e3,description:"Please follow the setup guide above to create the database tables."}),t([])}finally{n(!1)}},re=async()=>{if(!(!x||!N))try{const W=new URLSearchParams({start_date:x.toISOString(),end_date:N.toISOString()}),Ee=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/aggregate?${W}`,{headers:{Authorization:`Bearer ${he}`}})).json();Ee.success&&A(Ee.data)}catch(W){console.error("[AdminWallpaperManager] Failed to load aggregate analytics:",W)}},me=async()=>{try{const W=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/wallpaper-folders`,{headers:{Authorization:`Bearer ${he}`}}),ie=await W.json();if(!W.ok||ie.code==="PGRST205"||ie.message?.includes("schema cache")){console.log("[Folders] Tables not set up yet - folder features will be hidden"),v(!0),O([]);return}if(ie.success){const Ee=(ie.data||[]).map(ue=>({...ue,wallpaper_count:e.filter(Ve=>Ve.folder_id===ue.id).length}));O(Ee),v(!1)}else(ie.error?.includes("wallpaper_folders")||ie.error?.includes("PGRST205")||ie.code==="PGRST205")&&(console.log("[Folders] Tables not found - showing setup guide"),v(!0),O([]))}catch{console.log("[Folders] Error loading folders - likely tables not created yet"),v(!0),O([])}},fe=async(W,ie)=>{try{const Ee=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/wallpaper-folders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:W,description:ie})}),ue=await Ee.json();if(!Ee.ok||ue.code==="PGRST205"||ue.message?.includes("schema cache"))throw v(!0),new Error("Please set up the database tables first. See the orange banner above for instructions.");if(!ue.success)throw new Error(ue.error||"Failed to create folder");await me()}catch(Ee){throw(Ee.message?.includes("PGRST205")||Ee.message?.includes("schema cache")||Ee.message?.includes("database tables"))&&v(!0),Ee}},ye=async(W,ie,Ee)=>{const Ve=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/wallpaper-folders/${W}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:ie,description:Ee})})).json();if(!Ve.success)throw new Error(Ve.error||"Failed to update folder")},ve=async W=>{const Ee=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/wallpaper-folders/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json();if(!Ee.success)throw new Error(Ee.error||"Failed to delete folder")},ce=W=>{F(W),K(!0)},Oe=W=>{const ie=new Set(U);ie.has(W)?ie.delete(W):ie.add(W),q(ie)},Ie=()=>{const W=lt();q(new Set(W.map(ie=>ie.id)))},it=()=>{q(new Set)},at=async()=>{if(U.size===0){ee.error("No wallpapers selected");return}try{const W=Array.from(U).map(ie=>_a(ie,{folder_id:Q||null}));await Promise.all(W),ee.success(`Moved ${U.size} wallpaper(s) to folder`),V(!1),q(new Set),z(""),X(),me()}catch(W){ee.error("Failed to move wallpapers: "+W.message)}},lt=()=>{let W=e;return o==="published"?W=W.filter(ie=>ie.publish_status==="published"):o==="scheduled"?W=W.filter(ie=>ie.publish_status==="scheduled"&&ie.scheduled_at):o==="draft"&&(W=W.filter(ie=>ie.publish_status==="draft"||ie.publish_status==="scheduled"&&!ie.scheduled_at)),I&&(W=W.filter(ie=>ie.folder_id===I)),x&&N&&(W=W.filter(ie=>{const Ee=new Date(ie.created_at);return Ee>=x&&Ee<=N})),W};w.useEffect(()=>{X()},[]),w.useEffect(()=>{e.length>0&&me()},[e]),w.useEffect(()=>{re()},[x,N]);const Mt=async W=>{try{const ie=W.publish_status==="published"?"draft":"published";await _a(W.id,{publish_status:ie}),ee.success(`Wallpaper ${ie==="published"?"published":"unpublished"}`),X()}catch(ie){ee.error("Failed to update wallpaper: "+ie.message)}},zt=async W=>{if(confirm(`Delete "${W.title}"?`))try{await xq(W.id),ee.success("Wallpaper deleted"),X()}catch(ie){ee.error("Failed to delete wallpaper: "+ie.message)}},Vt=async W=>{if(confirm(`Cancel schedule for "${W.title}"? It will be moved to drafts.`))try{await _a(W.id,{publish_status:"draft",scheduled_at:null}),ee.success("Schedule cancelled - wallpaper moved to drafts"),X()}catch(ie){ee.error("Failed to cancel schedule: "+ie.message)}},xt=async(W,ie)=>{try{console.log("[AdminWallpaperManager] Rescheduling wallpaper:",{wallpaperId:W,newDate:ie.toISOString(),timestamp:new Date().toISOString()});const Ee=await _a(W,{scheduled_at:ie.toISOString()});console.log("[AdminWallpaperManager] Reschedule response:",Ee),ee.success("Wallpaper rescheduled successfully"),await X(),console.log("[AdminWallpaperManager] Wallpapers reloaded after reschedule")}catch(Ee){throw console.error("[AdminWallpaperManager] Reschedule error:",Ee),ee.error("Failed to reschedule: "+Ee.message),Ee}},ht=async W=>{try{await _a(W,{publish_status:"published",published_at:new Date().toISOString(),scheduled_at:null}),console.log(`[AdminWallpaperManager] Auto-published wallpaper ${W}`),ee.success("Wallpaper auto-published!"),X()}catch(ie){console.error(`[AdminWallpaperManager] Failed to auto-publish wallpaper ${W}:`,ie),ee.error("Failed to auto-publish wallpaper: "+ie.message)}},kt=lt(),$r=e.filter(W=>W.publish_status==="published").length,qr=e.filter(W=>W.publish_status==="scheduled"&&W.scheduled_at).length,pe=e.filter(W=>W.publish_status==="draft"||W.publish_status==="scheduled"&&!W.scheduled_at).length,Y=e.filter(W=>!W.folder_id).length;return w.useEffect(()=>{o==="scheduled"&&kt.length>0&&console.log("[AdminWallpaperManager]  RENDERING Scheduled tab with wallpapers:",kt.map(W=>({id:W.id,title:W.title,scheduled_at:W.scheduled_at,hasScheduledAt:!!W.scheduled_at,willShowTimer:!!(W.publish_status==="scheduled"&&W.scheduled_at)})))},[o,kt]),s.jsxs("div",{className:"space-y-6 text-inter-regular-14",children:[u&&s.jsx(Sx,{}),g&&s.jsx(Ex,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-inter-bold-20 text-gray-800",children:"Wallpaper Management"}),s.jsx("p",{className:"text-gray-500 mt-1 text-inter-regular-14",children:"Manage wallpapers for the user app"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ma,{onDateRangeChange:(W,ie,Ee)=>{_(W),E(ie),S(Ee)}}),s.jsx("button",{onClick:()=>p(!f),className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"System Diagnostics",children:s.jsx(Go,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{X(),me()},disabled:r,className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:s.jsx(mt,{className:`w-5 h-5 ${r?"animate-spin":""}`})}),s.jsxs("button",{onClick:()=>i(!0),disabled:u,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all font-medium text-inter-medium-16 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_r,{className:"w-5 h-5"}),"Upload Wallpaper"]})]})]}),f&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(hbe,{}),s.jsx(dbe,{}),s.jsx(rD,{})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Wallpapers"}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2 text-inter-bold-20",children:e.length}),s.jsxs("p",{className:"text-sm text-green-600 mt-1 text-inter-regular-14",children:[$r," published"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Views"}),k&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:k?k.total_views.toLocaleString():e.reduce((W,ie)=>W+(ie.view_count||0),0).toLocaleString()}),k&&x&&N&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Downloads"}),k&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:k?k.total_downloads.toLocaleString():e.reduce((W,ie)=>W+(ie.download_count||0),0).toLocaleString()}),k&&x&&N&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Likes"}),k&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:k?k.total_likes.toLocaleString():e.reduce((W,ie)=>W+(ie.like_count||0),0).toLocaleString()}),k&&x&&N&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})}),U.size>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("p",{className:"text-inter-medium-16 text-green-800",children:[U.size," wallpaper(s) selected"]}),s.jsx("button",{onClick:it,className:"text-sm text-green-600 hover:text-green-700 underline",children:"Deselect All"})]}),!g&&s.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(jg,{className:"w-4 h-4"}),"Move to Folder"]})]}),!u&&!g&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[!g&&s.jsx("div",{className:"w-64",children:s.jsx(kx,{folders:P,selectedFolder:I,onSelectFolder:D,onCreateFolder:fe,onUpdateFolder:ye,onDeleteFolder:ve,allWallpapersCount:e.length,uncategorizedCount:Y})}),s.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>l("published"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="published"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:["Published (",$r,")"]}),s.jsxs("button",{onClick:()=>l("scheduled"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="scheduled"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:["Scheduled (",qr,")"]}),s.jsxs("button",{onClick:()=>l("draft"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="draft"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:["Drafts (",pe,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[kt.length>0&&s.jsxs("button",{onClick:Ie,className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"Select All",children:[s.jsx(Ma,{className:"w-4 h-4"}),"Select All"]}),s.jsxs("div",{className:"flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsx("button",{onClick:()=>y("card"),className:`p-1.5 rounded transition-colors ${b==="card"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"Card View",children:s.jsx(Ng,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y("list"),className:`p-1.5 rounded transition-colors ${b==="list"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"List View",children:s.jsx(bh,{className:"w-4 h-4"})})]})]})]}),o==="scheduled"&&kt.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 text-sm text-blue-800",children:[s.jsxs("span",{className:"font-medium",children:["Showing ",kt.length," scheduled wallpaper",kt.length>1?"s":"","."]})," ","These will automatically publish at their scheduled time. Use the countdown timer to see when each wallpaper will go live."]})]})}),o==="draft"&&(()=>{const W=kt.filter(ie=>ie.publish_status==="scheduled"&&!ie.scheduled_at);return W.length>0?s.jsx("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(wr,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-inter-semibold-16 text-orange-800",children:[" ",W.length," Wallpaper",W.length>1?"s":""," Marked as Scheduled but Missing Schedule Date"]}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:'These wallpapers have publish_status = "scheduled" but no schedule date. They are shown here in Drafts until you set a schedule date or convert them to proper drafts.'}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs("button",{onClick:async()=>{const ie=new Date;ie.setDate(ie.getDate()+1),ie.setHours(12,0,0,0);for(const Ee of W)await _a(Ee.id,{scheduled_at:ie.toISOString()});ee.success(`Scheduled ${W.length} wallpaper(s) for tomorrow at noon!`),X()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Schedule All for Tomorrow"]}),s.jsx("button",{onClick:async()=>{for(const ie of W)await _a(ie.id,{publish_status:"draft",scheduled_at:null});ee.success(`Converted ${W.length} wallpaper(s) to proper drafts`),X()},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium",children:"Convert All to Drafts"})]})]})]})}):null})(),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading wallpapers..."})]})}):kt.length===0?s.jsxs("div",{className:"space-y-4",children:[o==="scheduled"&&!I&&s.jsx(rD,{}),s.jsxs("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(_r,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-gray-800 mb-2 text-inter-semibold-18",children:o==="scheduled"?"No scheduled wallpapers":I?"No wallpapers in this folder":"No wallpapers yet"}),s.jsx("p",{className:"text-gray-500 mb-4 text-inter-regular-14",children:o==="scheduled"?"Schedule wallpapers by uploading with 'Scheduled' status and setting a future date. Use the debugger above to check if you have scheduled wallpapers that aren't showing.":I?"Upload wallpapers and assign them to this folder":"Upload your first wallpaper to get started"}),s.jsx("button",{onClick:()=>i(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Upload Wallpaper"})]})]}):b==="card"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:kt.map(W=>s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 overflow-hidden hover:shadow-md transition-all ${U.has(W.id)?"border-green-500":"border-gray-200"}`,children:[s.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[s.jsx("img",{src:W.thumbnail_url||W.image_url,alt:W.title,className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>Oe(W.id),className:"absolute top-3 left-3 p-2 bg-white rounded-lg shadow-md hover:bg-gray-50 transition-colors",children:U.has(W.id)?s.jsx(Ma,{className:"w-5 h-5 text-green-600"}):s.jsx(yT,{className:"w-5 h-5 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:W.publish_status==="scheduled"&&W.scheduled_at?s.jsxs(s.Fragment,{children:[s.jsx(Dc,{scheduledAt:W.scheduled_at,wallpaperId:W.id,onTimeUp:ie=>ie&&ht(ie)}),s.jsx(Mc,{onReschedule:()=>le(W),onPublishNow:async()=>{await _a(W.id,{publish_status:"published",published_at:new Date().toISOString()}),ee.success("Wallpaper published immediately"),X()},onCancelSchedule:()=>Vt(W)})]}):W.publish_status==="scheduled"&&!W.scheduled_at?s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 bg-red-100 text-red-700",children:" No schedule"}):s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 ${W.publish_status==="published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:W.publish_status})})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-800 text-inter-semibold-16 line-clamp-2",children:W.title}),(()=>{const ie=xe(W);return ie?s.jsxs("div",{className:"text-xs text-gray-500",children:[`Size: ${se(ie.originalBytes)}  ${se(ie.compressedBytes)}`,ie.applied?" (compressed)":"",ie.method?`  ${ie.method}`:""]}):null})(),W.tags&&W.tags.length>0&&s.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:W.tags.slice(0,3).map((ie,Ee)=>s.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded text-inter-regular-14",children:["#",ie]},Ee))}),W.publish_status==="scheduled"&&!W.scheduled_at&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-red-700 font-medium",children:" This wallpaper is marked as scheduled but has no schedule date."}),s.jsx("button",{onClick:()=>le(W),className:"mt-2 w-full px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-xs font-medium",children:"Set Schedule Date"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center py-2 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(At,{className:"w-3 h-3 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 text-inter-medium-16",children:W.view_count||0})]}),s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Views"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Ua,{className:"w-3 h-3 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 text-inter-medium-16",children:W.download_count||0})]}),s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Downloads"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 text-inter-medium-16",children:W.like_count||0})]}),s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Likes"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>ce(W.id),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})}),W.publish_status!=="scheduled"&&s.jsx("button",{onClick:()=>Mt(W),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg transition-colors text-inter-medium-16 ${W.publish_status==="published"?"bg-yellow-50 text-yellow-700 hover:bg-yellow-100":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:W.publish_status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(Fn,{className:"w-4 h-4"}),"Unpublish"]}):s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-4 h-4"}),"Publish"]})}),s.jsx("button",{onClick:()=>zt(W),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-inter-medium-16",children:s.jsx(zr,{className:"w-4 h-4"})})]})]})]},W.id))}):s.jsx("div",{className:"space-y-3",children:kt.map(W=>s.jsx("div",{className:`bg-white rounded-lg shadow-sm border-2 p-4 hover:shadow-md transition-all ${U.has(W.id)?"border-green-500":"border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>Oe(W.id),className:"p-2 hover:bg-gray-50 rounded-lg transition-colors",children:U.has(W.id)?s.jsx(Ma,{className:"w-5 h-5 text-green-600"}):s.jsx(yT,{className:"w-5 h-5 text-gray-400"})}),s.jsx("img",{src:W.thumbnail_url||W.image_url,alt:W.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-800 text-inter-semibold-16",children:W.title}),(()=>{const ie=xe(W);return ie?s.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[`Size: ${se(ie.originalBytes)}  ${se(ie.compressedBytes)}`,ie.applied?" (compressed)":"",ie.method?`  ${ie.method}`:""]}):null})(),s.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),W.view_count||0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ua,{className:"w-3 h-3"}),W.download_count||0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"}),W.like_count||0]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:W.publish_status==="scheduled"&&W.scheduled_at?s.jsxs(s.Fragment,{children:[s.jsx(Dc,{scheduledAt:W.scheduled_at,wallpaperId:W.id,onTimeUp:ie=>ie&&ht(ie)}),s.jsx(Mc,{onReschedule:()=>le(W),onPublishNow:async()=>{await _a(W.id,{publish_status:"published",published_at:new Date().toISOString()}),ee.success("Wallpaper published immediately"),X()},onCancelSchedule:()=>Vt(W)})]}):W.publish_status==="scheduled"&&!W.scheduled_at?s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 bg-red-100 text-red-700",children:" No schedule"}):s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 ${W.publish_status==="published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:W.publish_status})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ce(W.id),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})}),W.publish_status!=="scheduled"&&s.jsx("button",{onClick:()=>Mt(W),className:`p-2 rounded-lg transition-colors ${W.publish_status==="published"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:W.publish_status==="published"?s.jsx(Fn,{className:"w-4 h-4"}):s.jsx(At,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>zt(W),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:s.jsx(zr,{className:"w-4 h-4"})})]})]})},W.id))})]}),s.jsx(Rk,{isOpen:a,onClose:()=>i(!1),onSuccess:()=>{X(),me()},title:"Wallpaper",uploadType:"wallpaper",uploadFunction:vq,folders:g?[]:P,onCreateFolder:fe}),s.jsx(fbe,{wallpaperId:L||"",isOpen:G,onClose:()=>K(!1)}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-inter-bold-20 text-gray-800 mb-4",children:"Move to Folder"}),s.jsxs("p",{className:"text-gray-600 mb-4 text-inter-regular-14",children:["Select a folder to move ",U.size," wallpaper(s)"]}),s.jsxs("div",{className:"space-y-2 mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Folder"}),s.jsxs("select",{value:Q,onChange:W=>z(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Uncategorized"}),P.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{V(!1),z("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:at,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Move"})]})]})}),J&&s.jsx(Ik,{isOpen:!0,onClose:()=>le(null),currentScheduledAt:J.scheduled_at||null,onReschedule:W=>xt(J.id,W),wallpaperTitle:J.title})]})}function pbe({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=w.useState("song"),[i,o]=w.useState("youtube"),[l,u]=w.useState(""),[h,f]=w.useState(""),[p,g]=w.useState(""),[v,b]=w.useState(""),[y,x]=w.useState(!1),[_,N]=w.useState(!1),[E,C]=w.useState(""),[S,k]=w.useState(""),[A,P]=w.useState(null),[O,I]=w.useState(null),[D,L]=w.useState(null),[F,G]=w.useState(!1),[K,U]=w.useState(null),[q,M]=w.useState(!1),V=["Devotional","Bhakti","Arupadai Veedu","Festival","Tamil","Sanskrit","Temple"],Q=v||p;if(!e)return null;const z=async()=>{if(!h.trim()){ee.error("Please enter a YouTube URL");return}G(!0);try{console.log("[AddMedia] Fetching YouTube metadata for:",h);const se=h.replace(/^blob:/,"").trim(),xe=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/youtube/fetch`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({youtubeUrl:se})});if(!xe.ok){const re=await xe.json().catch(()=>({}));throw new Error(re.error||"Failed to fetch YouTube data")}const X=await xe.json();if(X.success)console.log("[AddMedia] YouTube metadata fetched:",X.data),U({title:X.data.title,thumbnail_url:X.data.thumbnail_url,video_url:se,duration:X.data.duration}),u(X.data.title),f(se),ee.success("YouTube data fetched successfully!");else throw new Error(X.error||"Failed to fetch")}catch(se){console.error("[AddMedia] Fetch error:",se),ee.error(se.message||"Failed to fetch YouTube data")}finally{G(!1)}},J=async()=>{if(!l.trim()){ee.error("Please enter a title");return}if(!Q){ee.error("Please select a category");return}if(i==="youtube"&&!h.trim()){ee.error("Please enter a YouTube URL");return}if(i==="file"){if(n==="song"&&!A){ee.error("Please upload an audio file");return}if(n==="video"&&!O){ee.error("Please upload a video file");return}}M(!0);try{const se=y?"draft":_?"scheduled":"published",xe=_&&E&&S?`${E}T${S}`:"",X=n==="song"?"audio":"video",re=new FormData;if(re.append("title",l),re.append("category",Q),re.append("publishStatus",se),se==="scheduled"&&xe&&re.append("scheduled_at",xe),i==="youtube")re.append("mediaType","youtube"),re.append("contentType",X),re.append("youtubeUrl",h.trim()),K?.thumbnail_url&&re.append("thumbnailUrl",K.thumbnail_url);else{re.append("mediaType",X);const ye=n==="song"?A:O;ye&&re.append("file",ye)}const me=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/upload/media`,{method:"POST",headers:{Authorization:`Bearer ${he}`},body:re});if(!me.ok){const ye=await me.json().catch(()=>({}));throw console.error("[AddMedia] Upload failed:",ye),new Error(ye.error||"Upload failed")}const fe=await me.json();if(fe.success)ee.success(y?"Media saved as draft!":_?"Media scheduled successfully!":"Media uploaded successfully!"),r(),le();else throw new Error(fe.error||"Upload failed")}catch(se){console.error("[AddMedia] Upload error:",se),ee.error(se.message||"Failed to upload media")}finally{M(!1)}},le=()=>{u(""),f(""),g(""),b(""),x(!1),N(!1),C(""),k(""),P(null),I(null),L(null),U(null),a("song"),o("youtube"),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-purple-600 to-purple-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add Media"}),s.jsx("button",{onClick:le,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"flex gap-2 px-6 pt-6 bg-gray-50",children:[s.jsxs("button",{onClick:()=>a("song"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-t-xl font-semibold transition-all ${n==="song"?"bg-white text-purple-700 shadow-sm":"bg-transparent text-gray-600 hover:bg-white/50"}`,children:[s.jsx(Os,{className:"w-5 h-5"}),"Songs"]}),s.jsxs("button",{onClick:()=>a("video"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-t-xl font-semibold transition-all ${n==="video"?"bg-white text-purple-700 shadow-sm":"bg-transparent text-gray-600 hover:bg-white/50"}`,children:[s.jsx(u3,{className:"w-5 h-5"}),"Videos"]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Upload Method"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>o("youtube"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl border-2 font-medium transition-all ${i==="youtube"?"border-purple-600 bg-purple-50 text-purple-700":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:[s.jsx(QG,{className:"w-5 h-5"}),"YouTube Link"]}),s.jsxs("button",{onClick:()=>o("file"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl border-2 font-medium transition-all ${i==="file"?"border-purple-600 bg-purple-50 text-purple-700":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:[s.jsx(ki,{className:"w-5 h-5"}),"Upload File"]})]})]}),i==="youtube"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"YouTube Link"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",value:h,onChange:se=>f(se.target.value),placeholder:"https://youtube.com/watch?v=...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-600 focus:border-transparent"}),s.jsx("button",{onClick:z,disabled:F,className:"px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:F?s.jsx(ia,{variant:"button"}):"Fetch"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n==="song"?"We'll fetch metadata and convert to MP3 automatically":"We'll fetch the title, thumbnail, and embed URL"})]}),K&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-4 border-2 border-purple-200",children:[s.jsx("p",{className:"text-xs font-semibold text-purple-700 mb-2",children:"PREVIEW"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("img",{src:K.thumbnail_url,alt:"Thumbnail",className:"w-32 h-20 object-cover rounded-lg shadow-sm"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:K.title}),s.jsx("p",{className:"text-sm text-gray-600",children:K.video_url})]})]})]})]}),i==="file"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:n==="song"?"Audio File (MP3)":"Video File (MP4)"}),s.jsxs("label",{className:"block border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-purple-500 transition-colors cursor-pointer",children:[s.jsx("input",{type:"file",accept:n==="song"?"audio/mp3,audio/mpeg":"video/mp4,video/mpeg",onChange:se=>{const xe=se.target.files?.[0];xe&&(n==="song"?P(xe):I(xe))},className:"hidden"}),s.jsx(ki,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:(n==="song"?A:O)?.name||"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n==="song"?"MP3 up to 50MB":"MP4 up to 500MB"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Thumbnail Image"}),s.jsxs("label",{className:"block border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-purple-500 transition-colors cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg",onChange:se=>{const xe=se.target.files?.[0];xe&&L(xe)},className:"hidden"}),s.jsx(ki,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:D?.name||"Upload thumbnail"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:l,onChange:se=>u(se.target.value),placeholder:"Enter title...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:p,onChange:se=>{g(se.target.value),b("")},className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-600 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select category..."}),V.map(se=>s.jsx("option",{value:se,children:se},se))]}),s.jsx("button",{onClick:()=>{const se=prompt("Enter new category name:");se&&(b(se),g(""))},className:"px-4 py-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",title:"Create new category",children:s.jsx(_r,{className:"w-5 h-5 text-gray-600"})})]}),v&&s.jsxs("p",{className:"text-sm text-purple-600 mt-2",children:["New category: ",s.jsx("strong",{children:v})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:se=>{x(se.target.checked),se.target.checked&&N(!1)},className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Save as Draft"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_,onChange:se=>{N(se.target.checked),se.target.checked&&x(!1)},className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Schedule Post"})]}),_&&s.jsxs("div",{className:"ml-6 flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:E,onChange:se=>C(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Time"}),s.jsx("input",{type:"time",value:S,onChange:se=>k(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]})]})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end gap-3 bg-gray-50",children:[s.jsx("button",{onClick:le,disabled:q,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:J,disabled:q,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:q?s.jsxs(s.Fragment,{children:[s.jsx(ia,{variant:"button"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ki,{className:"w-5 h-5"}),"Upload"]})})]})]})})}function mbe({mediaId:e,isOpen:t,onClose:r}){const[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(()=>{const x=new Date;return x.setDate(x.getDate()-30),x}),[p,g]=w.useState(()=>new Date),[v,b]=w.useState("month");w.useEffect(()=>{t&&e&&y()},[t,e,h,p]);const y=async()=>{if(!(!h||!p))try{o(!0),u(null);const x=new URLSearchParams({start_date:h.toISOString(),end_date:p.toISOString()}),_=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/media/${e}?${x}`,{headers:{Authorization:`Bearer ${he}`}}),N=await _.json();if(!_.ok)throw new Error(N.error||"Failed to load analytics");if(N.success)a(N.data);else throw new Error(N.error||"Failed to load analytics")}catch(x){console.error("[MediaAnalytics] Load error:",x),u(x.message),ee.error("Failed to load analytics: "+x.message)}finally{o(!1)}};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:r}),s.jsxs("div",{className:"fixed right-0 top-0 h-full w-[500px] bg-white shadow-2xl z-50 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(en,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"text-inter-bold-20 text-gray-800",children:"Media Analytics"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]}),s.jsx(ma,{onDateRangeChange:(x,_,N)=>{f(x),g(_),b(N)}})]}),s.jsx("div",{className:"p-6 space-y-6",children:i&&!n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading analytics..."})]})}):l?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 text-inter-regular-14",children:l}),s.jsx("button",{onClick:y,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-inter-medium-16",children:"Retry"})]}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(wn,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Total Plays"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_plays.toLocaleString()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ua,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Downloads"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_downloads.toLocaleString()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jr,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Likes"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_likes.toLocaleString()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ba,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Shares"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_shares.toLocaleString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ko,{className:"w-5 h-5 text-green-700"}),s.jsx("span",{className:"text-green-800 font-medium text-inter-medium-16",children:"Completion Rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-green-900 text-inter-bold-20",children:[n.completion_rate.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-5 h-5 text-purple-700"}),s.jsx("span",{className:"text-purple-800 font-medium text-inter-medium-16",children:"Engagement Rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-900 text-inter-bold-20",children:[n.engagement_rate.toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2 text-inter-semibold-18",children:[s.jsx(wr,{className:"w-5 h-5 text-gray-600"}),"Time-Based Performance"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"Today"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.plays_today," plays"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"This Week"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.plays_week," plays"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"This Month"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.plays_month," plays"]})]})]})]}),n.daily_stats&&n.daily_stats.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-4 text-inter-semibold-18",children:"Daily Performance"}),s.jsx(Zr,{width:"100%",height:300,children:s.jsxs(Fa,{data:n.daily_stats,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx(Ir,{}),s.jsx(Ut,{labelFormatter:x=>new Date(x).toLocaleDateString()}),s.jsx(ra,{}),s.jsx(cr,{type:"monotone",dataKey:"plays",stroke:"#10b981",strokeWidth:2,name:"Plays"}),s.jsx(cr,{type:"monotone",dataKey:"downloads",stroke:"#3b82f6",strokeWidth:2,name:"Downloads"}),s.jsx(cr,{type:"monotone",dataKey:"likes",stroke:"#ef4444",strokeWidth:2,name:"Likes"})]})})]})]}):null}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end gap-3",children:s.jsx("button",{onClick:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Close"})})]})]}):null}function gbe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState("published"),[u,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState("card"),[b,y]=w.useState(!1),[x,_]=w.useState("audio"),[N,E]=w.useState(()=>{const pe=new Date;return pe.setDate(pe.getDate()-30),pe}),[C,S]=w.useState(()=>new Date),[k,A]=w.useState("month"),[P,O]=w.useState(null),[I,D]=w.useState([]),[L,F]=w.useState(null),[G,K]=w.useState(null),[U,q]=w.useState(!1),[M,V]=w.useState(new Set),[Q,z]=w.useState(!1),[J,le]=w.useState(""),[se,xe]=w.useState(null),X=async()=>{try{n(!0),console.log("[AdminMediaManager] Starting to load media...");const Y=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media?mediaType=${x}`,{headers:{Authorization:`Bearer ${he}`}})).json();if(console.log("[AdminMediaManager] Loaded media:",Y),Y.success&&Array.isArray(Y.data))t(Y.data),Y.data.length===0&&!L&&ee.info("No media found. Upload your first media!"),h(!1);else throw new Error(Y.error||"Failed to load media")}catch(pe){console.error("[AdminMediaManager] Load error:",pe),(pe.message.includes("Failed to fetch")||pe.message.includes("500")||pe.message.includes("relation")||pe.message.includes("schema cache")||pe.message.includes("Could not find the table"))&&h(!0),ee.error("Database tables not found",{duration:8e3,description:"Please follow the setup guide above to create the database tables."}),t([])}finally{n(!1)}},re=async()=>{if(!N||!C){console.log("[AdminMediaManager] Skipping analytics load - missing dates");return}if(!(N instanceof Date)||isNaN(N.getTime())||!(C instanceof Date)||isNaN(C.getTime())){console.error("[AdminMediaManager] Invalid date objects:",{startDate:N,endDate:C}),O(null);return}try{console.log("[AdminMediaManager] Loading aggregate analytics for date range:",{start:N.toISOString(),end:C.toISOString()});const pe=new URLSearchParams({start_date:N.toISOString(),end_date:C.toISOString(),content_type:"media"}),Y=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/aggregate?${pe}`,{headers:{Authorization:`Bearer ${he}`}});if(!Y.ok)throw new Error(`HTTP ${Y.status}: ${Y.statusText}`);const W=await Y.json();W.success&&W.data?(console.log("[AdminMediaManager] Aggregate analytics loaded:",W.data),O(W.data)):(console.warn("[AdminMediaManager] Analytics response not successful:",W),O(null))}catch(pe){console.error("[AdminMediaManager] Failed to load aggregate analytics:",pe),O(null)}},me=async()=>{try{const pe=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media-folders`,{headers:{Authorization:`Bearer ${he}`}}),Y=await pe.json();if(!pe.ok||Y.code==="PGRST205"||Y.message?.includes("schema cache")){console.log("[Media Folders] Tables not set up yet - folder features will be hidden"),p(!0),D([]);return}if(Y.success){const W=(Y.data||[]).map(ie=>({...ie,media_count:e.filter(Ee=>Ee.folder_id===ie.id).length}));D(W),p(!1)}else(Y.error?.includes("media_folders")||Y.error?.includes("PGRST205")||Y.code==="PGRST205")&&(console.log("[Media Folders] Tables not found - showing setup guide"),p(!0),D([]))}catch{console.log("[Media Folders] Error loading folders - likely tables not created yet"),p(!0),D([])}},fe=async(pe,Y)=>{try{const W=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media-folders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:pe,description:Y})}),ie=await W.json();if(!W.ok||ie.code==="PGRST205"||ie.message?.includes("schema cache"))throw p(!0),new Error("Please set up the database tables first. See the orange banner above for instructions.");if(!ie.success)throw new Error(ie.error||"Failed to create folder");await me()}catch(W){throw(W.message?.includes("PGRST205")||W.message?.includes("schema cache")||W.message?.includes("database tables"))&&p(!0),W}},ye=async(pe,Y,W)=>{const Ee=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media-folders/${pe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:Y,description:W})})).json();if(!Ee.success)throw new Error(Ee.error||"Failed to update folder");await me()},ve=async pe=>{const W=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media-folders/${pe}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json();if(!W.success)throw new Error(W.error||"Failed to delete folder");L===pe&&F(null),await me()},ce=pe=>{K(pe),q(!0)},Oe=pe=>{const Y=new Set(M);Y.has(pe)?Y.delete(pe):Y.add(pe),V(Y)},Ie=()=>{const pe=Mt();V(new Set(pe.map(Y=>Y.id)))},it=()=>{V(new Set)},at=async()=>{if(M.size===0){ee.error("No media selected");return}try{const pe=Array.from(M).map(Y=>fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({folder_id:J||null})}));await Promise.all(pe),ee.success(`Moved ${M.size} media item(s) to folder`),z(!1),V(new Set),le(""),X(),me()}catch(pe){ee.error("Failed to move media: "+pe.message)}},lt=async()=>{if(M.size===0){ee.error("No media selected");return}if(confirm(`Delete ${M.size} selected media item(s)? This action cannot be undone.`))try{const pe=Array.from(M).map(Y=>fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media/${Y}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}}));await Promise.all(pe),ee.success(`Deleted ${M.size} media item(s)`),V(new Set),X(),me()}catch(pe){ee.error("Failed to delete media: "+pe.message)}},Mt=()=>{let pe=e;return o==="published"?pe=pe.filter(Y=>Y.publish_status==="published"):o==="scheduled"?pe=pe.filter(Y=>Y.publish_status==="scheduled"&&Y.scheduled_at):o==="draft"&&(pe=pe.filter(Y=>Y.publish_status==="draft"||Y.publish_status==="scheduled"&&!Y.scheduled_at)),L&&(pe=pe.filter(Y=>Y.folder_id===L)),pe};w.useEffect(()=>{X()},[x]),w.useEffect(()=>{e.length>0&&me()},[e]),w.useEffect(()=>{re()},[N,C]);const zt=async pe=>{try{const Y=pe.publish_status==="published"?"draft":"published",ie=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media/${pe.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({publish_status:Y})})).json();if(!ie.success)throw new Error(ie.error);ee.success(`Media ${Y==="published"?"published":"unpublished"}`),X()}catch(Y){ee.error("Failed to update media: "+Y.message)}},Vt=async pe=>{if(confirm(`Delete "${pe.title}"?`))try{const W=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/media/${pe.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json();if(!W.success)throw new Error(W.error);ee.success("Media deleted"),X()}catch(Y){ee.error("Failed to delete media: "+Y.message)}},xt=Mt(),ht=e.filter(pe=>pe.publish_status==="published").length,kt=e.filter(pe=>pe.publish_status==="scheduled"&&pe.scheduled_at).length,$r=e.filter(pe=>pe.publish_status==="draft"||pe.publish_status==="scheduled"&&!pe.scheduled_at).length,qr=e.filter(pe=>!pe.folder_id).length;return s.jsxs("div",{className:"space-y-6 text-inter-regular-14",children:[u&&s.jsx(Sx,{}),f&&s.jsx(Ex,{contentType:"media"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-inter-bold-20 text-gray-800",children:"Media Management"}),s.jsx("p",{className:"text-gray-500 mt-1 text-inter-regular-14",children:"Manage audio and video content for the user app"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsx("button",{onClick:()=>_("audio"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${x==="audio"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:"Audio"}),s.jsx("button",{onClick:()=>_("video"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${x==="video"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:"Video"})]}),s.jsx(ma,{onDateRangeChange:(pe,Y,W)=>{E(pe),S(Y),A(W)}}),s.jsx("button",{onClick:()=>y(!b),className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"System Diagnostics",children:s.jsx(Go,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{X(),me()},disabled:r,className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:s.jsx(mt,{className:`w-5 h-5 ${r?"animate-spin":""}`})}),s.jsxs("button",{onClick:()=>i(!0),disabled:u,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all font-medium text-inter-medium-16 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_r,{className:"w-5 h-5"}),"Upload Media"]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Media"}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2 text-inter-bold-20",children:e.length}),s.jsxs("p",{className:"text-sm text-green-600 mt-1 text-inter-regular-14",children:[ht," published"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Plays"}),P&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:P?(P.total_plays||0).toLocaleString():e.reduce((pe,Y)=>pe+(Y.play_count||0),0).toLocaleString()}),P&&N&&C&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Downloads"}),P&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:P?(P.total_downloads||0).toLocaleString():e.reduce((pe,Y)=>pe+(Y.download_count||0),0).toLocaleString()}),P&&N&&C&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})}),M.size>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("p",{className:"text-inter-medium-16 text-green-800",children:[M.size," media item(s) selected"]}),s.jsx("button",{onClick:it,className:"text-sm text-green-600 hover:text-green-700 underline",children:"Deselect All"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!f&&s.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(jg,{className:"w-4 h-4"}),"Move to Folder"]}),s.jsxs("button",{onClick:lt,className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(zr,{className:"w-4 h-4"}),"Delete"]})]})]}),!u&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[!f&&s.jsx("div",{className:"w-64",children:s.jsx(kx,{folders:I,selectedFolder:L,onSelectFolder:F,onCreateFolder:fe,onUpdateFolder:ye,onDeleteFolder:ve,allWallpapersCount:e.length,uncategorizedCount:qr})}),s.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>l("published"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="published"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(At,{className:"w-4 h-4 inline mr-1.5"}),"Published (",ht,")"]}),s.jsxs("button",{onClick:()=>l("scheduled"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="scheduled"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(wr,{className:"w-4 h-4 inline mr-1.5"}),"Scheduled (",kt,")"]}),s.jsxs("button",{onClick:()=>l("draft"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${o==="draft"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(Fn,{className:"w-4 h-4 inline mr-1.5"}),"Drafts (",$r,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[xt.length>0&&s.jsxs("button",{onClick:Ie,className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"Select All",children:[s.jsx(Ma,{className:"w-4 h-4"}),"Select All"]}),s.jsxs("div",{className:"flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsx("button",{onClick:()=>v("card"),className:`p-1.5 rounded transition-colors ${g==="card"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"Card View",children:s.jsx(Ng,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>v("list"),className:`p-1.5 rounded transition-colors ${g==="list"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"List View",children:s.jsx(bh,{className:"w-4 h-4"})})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading media..."})]})}):xt.length===0?s.jsxs("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(_r,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-gray-800 mb-2 text-inter-semibold-18",children:"No media yet"}),s.jsx("p",{className:"text-gray-500 mb-4 text-inter-regular-14",children:L?"No media in this folder. Try selecting a different folder or upload new media.":"Upload your first media to get started"}),s.jsx("button",{onClick:()=>i(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Upload Media"})]}):g==="card"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:xt.map(pe=>s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 overflow-hidden hover:shadow-md transition-all ${M.has(pe.id)?"border-green-500 ring-2 ring-green-200":"border-gray-200"}`,children:[s.jsxs("div",{className:"relative aspect-video bg-gray-100",children:[s.jsx("img",{src:pe.thumbnail_url||"/placeholder-media.png",alt:pe.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("button",{onClick:()=>Oe(pe.id),className:"w-6 h-6 rounded bg-white border-2 border-gray-300 flex items-center justify-center hover:border-green-500 transition-colors",children:M.has(pe.id)&&s.jsx(Ma,{className:"w-5 h-5 text-green-600"})})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 ${pe.publish_status==="published"?"bg-green-100 text-green-700":pe.publish_status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:pe.publish_status})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 text-inter-semibold-18",children:pe.title}),pe.artist&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 text-inter-regular-14",children:pe.artist}),s.jsxs("div",{className:"flex items-center gap-4 mb-3 pb-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Plays"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-medium-16",children:pe.play_count||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Downloads"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-medium-16",children:pe.download_count||0})]}),s.jsx("button",{onClick:()=>ce(pe.id),className:"ml-auto text-blue-600 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3 text-inter-regular-14",children:["Created ",new Date(pe.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>zt(pe),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg border transition-colors text-inter-medium-16 ${pe.publish_status==="published"?"border-yellow-300 text-yellow-700 hover:bg-yellow-50":"border-green-300 text-green-700 hover:bg-green-50"}`,children:pe.publish_status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(Fn,{className:"w-4 h-4"}),"Unpublish"]}):s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-4 h-4"}),"Publish"]})}),s.jsx("button",{onClick:()=>Vt(pe),className:"p-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:s.jsx(zr,{className:"w-4 h-4"})})]})]})]},pe.id))}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:M.size===xt.length&&xt.length>0,onChange:()=>{M.size===xt.length&&xt.length>0?it():Ie()},className:"rounded border-gray-300"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MEDIA"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STATUS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PLAYS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"DOWNLOADS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CREATED"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACTIONS"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:xt.map(pe=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${M.has(pe.id)?"bg-green-50":""}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:M.has(pe.id),onChange:()=>Oe(pe.id),className:"rounded border-gray-300"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:pe.thumbnail_url||"/placeholder-media.png",alt:pe.title,className:"w-16 h-10 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-inter-medium-16",children:pe.title}),pe.artist&&s.jsx("div",{className:"text-sm text-gray-500 line-clamp-1 text-inter-regular-14",children:pe.artist})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium inline-block ${pe.publish_status==="published"?"bg-green-100 text-green-700":pe.publish_status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:pe.publish_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-inter-regular-14",children:pe.play_count||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-inter-regular-14",children:pe.download_count||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-inter-regular-14",children:new Date(pe.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>ce(pe.id),className:"text-blue-600 hover:text-blue-700 p-1.5 hover:bg-blue-50 rounded transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>zt(pe),className:"text-green-600 hover:text-green-700 p-1.5 hover:bg-green-50 rounded transition-colors",title:pe.publish_status==="published"?"Unpublish":"Publish",children:pe.publish_status==="published"?s.jsx(Fn,{className:"w-4 h-4"}):s.jsx(At,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Vt(pe),className:"text-red-600 hover:text-red-700 p-1.5 hover:bg-red-50 rounded transition-colors",title:"Delete",children:s.jsx(zr,{className:"w-4 h-4"})})]})})]},pe.id))})]})})]}),s.jsx(pbe,{isOpen:a,onClose:()=>i(!1),onSuccess:X,mediaType:x}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-inter-semibold-18 text-gray-800 mb-4",children:["Move ",M.size," media item(s) to folder"]}),s.jsxs("select",{value:J,onChange:pe=>le(pe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 text-inter-regular-14",children:[s.jsx("option",{value:"",children:"Select a folder..."}),I.map(pe=>s.jsx("option",{value:pe.id,children:pe.name},pe.id))]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:at,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Move"}),s.jsx("button",{onClick:()=>{z(!1),le("")},className:"flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-inter-medium-16",children:"Cancel"})]})]})}),s.jsx(mbe,{isOpen:U,onClose:()=>{q(!1),K(null)},mediaId:G||""})]})}function Bl({title:e,onBack:t,rightSlot:r,backgroundColor:n="#0d5e38",titleFontFamily:a="var(--font-tamil-bold)",layout:i,paddingBottom:o,backTitleGap:l}){const u=i??(t?"left":"center"),h=o??20,f=l??6;return s.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 px-4",style:{backgroundColor:n,paddingTop:"calc(env(safe-area-inset-top, 0px) + 14px)",paddingBottom:h},children:u==="left"?s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex min-w-0 flex-1 items-center",style:{gap:f},children:[t?s.jsx("button",{type:"button",onClick:t,className:"-ml-2 flex items-center justify-center p-2","aria-label":"Back",children:s.jsx(kN,{className:"w-6 h-6",style:{color:"#FFFFFF"}})}):null,s.jsx("div",{className:"min-w-0 text-left",style:{fontFamily:a,fontSize:26,lineHeight:1.25,color:"#FFFFFF",paddingBottom:2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e})]}),r?s.jsx("div",{className:"ml-2 flex-shrink-0",children:r}):null]}):s.jsxs("div",{className:"relative flex items-center justify-center",children:[t?s.jsx("button",{type:"button",onClick:t,className:"absolute left-0 flex items-center justify-center p-2","aria-label":"Back",children:s.jsx(kN,{className:"w-6 h-6",style:{color:"#FFFFFF"}})}):null,s.jsx("div",{className:"w-full px-12 text-center",style:{fontFamily:a,fontSize:26,lineHeight:1.25,color:"#FFFFFF",paddingBottom:2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),r?s.jsx("div",{className:"absolute right-0",children:r}):null]})})}const sD="synced_lyrics_font_size";function aD(e){if(!Number.isFinite(e)||e<0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${String(r).padStart(2,"0")}`}function xbe(e){return e==="sm"?"md":e==="md"?"lg":"sm"}function ybe(e){return e==="sm"?20:e==="md"?24:28}function vbe(e,t){if(e.length===0)return 0;let r=0,n=e.length;for(;r<n;){const h=Math.floor((r+n)/2);t>=e[h].start?r=h+1:n=h}let a=Math.max(0,r-1);const i=e[a]?.start??0;for(;a>0&&e[a-1].start===i;)a-=1;const o=Math.max(0,a-40),l=Math.min(e.length-1,a+40);let u=a;for(let h=a;h>=o;h-=1)t>=e[h].start&&t<e[h].end&&(u=h);if(t>=e[u].start&&t<e[u].end)return u;for(let h=a+1;h<=l;h+=1)if(t>=e[h].start&&t<e[h].end)return h;return a}function bbe(e){return Number.isFinite(e)?Math.max(0,Math.min(1,e)):0}function wbe(e){return e.split(/(\s+)/g).filter(t=>t.length>0)}function jbe(e){const t=[],r=e.map(i=>({...i,start:Number(i.start)||0,end:Number(i.end)||0,text:String(i.text||"")})).sort((i,o)=>i.start-o.start);let n=-1/0,a=-1/0;for(let i=0;i<r.length;i+=1){const o=r[i],l=Number(o.start)||0,u=Number(o.end)||0;if(!(l>0)){t.push(`Line ${i+1}: startTime must be > 0`);continue}if(!(u>l)){t.push(`Line ${i+1}: endTime must be > startTime`);continue}if(!(l>n)){t.push(`Line ${i+1}: startTime must be strictly increasing`);continue}if(i>0&&l<a){t.push(`Line ${i+1}: overlaps previous line`);continue}n=l,a=u}return{isValid:t.length===0,message:t[0]||"",sorted:r}}function Nbe(e,t){const r=[],n=Math.max(1,Math.floor(t));let a="";const i=()=>{a&&(r.push({text:a,isWordLike:a.trim().length>0}),a="")};for(const o of Array.from(e)){if(/\s/.test(o)){i(),r.push({text:o,isWordLike:!1});continue}a+=o,Array.from(a).length>=n&&i()}return i(),r}function iD(e){if(!e)return[];try{const n=Intl?.Segmenter;if(typeof n=="function"){const a=new n(void 0,{granularity:"word"}),i=[];for(const l of a.segment(e))i.push({text:String(l.segment??""),isWordLike:!!l.isWordLike&&String(l.segment??"").trim().length>0});if(i.reduce((l,u)=>u.isWordLike?l+1:l,0)>1)return i}}catch{}const t=wbe(e).map(n=>({text:n,isWordLike:n.trim().length>0}));return t.reduce((n,a)=>a.isWordLike?n+1:n,0)>1?t:Nbe(e,6)}function _be({title:e,audioUrl:t,lyrics:r,onBack:n,analyticsItemId:a,analyticsModuleName:i="song"}){const o=B.useRef(null),l=B.useRef(null),u=B.useRef([]),h=B.useRef(null),[f,p]=B.useState(!1),[g,v]=B.useState(0),[b,y]=B.useState(0),[x,_]=B.useState("md"),N=B.useCallback(async(U,q)=>{if(a)try{await er.trackAnalyticsEvent({module_name:i,item_id:a,event_type:U,metadata:{title:e,...q}})}catch{}},[a,i,e]),E=B.useMemo(()=>{if(!r||r.length===0)return{lines:[],mode:"empty",message:""};const U=jbe(r);return U.isValid?{lines:U.sorted,mode:"valid",message:""}:{lines:U.sorted,mode:"invalid",message:U.message||""}},[r]),C=E.mode==="valid";B.useEffect(()=>{const U=localStorage.getItem(sD);(U==="sm"||U==="md"||U==="lg")&&_(U)},[]),B.useEffect(()=>()=>{h.current&&(cancelAnimationFrame(h.current),h.current=null)},[]);const S=B.useCallback(()=>{const U=o.current;U&&(y(U.currentTime||0),U.paused?h.current=null:h.current=requestAnimationFrame(S))},[]),k=()=>{h.current||(h.current=requestAnimationFrame(S))},A=async()=>{const U=o.current;if(U&&C)if(U.paused)try{await U.play(),p(!0),k()}catch{p(!1)}else U.pause(),p(!1)},P=(U,q)=>{const M=o.current;if(!M)return;const V=Math.max(0,Math.min(g||M.duration||0,U));if(M.currentTime=V,y(V),k(),q?.play&&C)try{M.play().then(()=>{p(!0),k()}).catch(()=>{})}catch{}},O=U=>{P(Number(U.target.value))},I=B.useMemo(()=>vbe(E.lines,b),[E.lines,b]),D=B.useMemo(()=>{const U=E.lines[I];if(!U)return 0;const M=iD(U.text).reduce((z,J)=>J.isWordLike?z+1:z,0);if(M<=0)return 0;const V=Math.max(.001,(U.end||0)-(U.start||0)),Q=bbe(((b||0)-(U.start||0))/V);return Math.min(M-1,Math.floor(Q*M))},[I,b,E.lines]);B.useEffect(()=>{const U=l.current,q=u.current[I];if(!(!U||!q))try{q.scrollIntoView({behavior:"smooth",block:"center"})}catch{const M=q.offsetTop-U.clientHeight*.38;U.scrollTo({top:Math.max(0,M),behavior:"smooth"})}},[I]);const L=g>0?Math.min(100,b/g*100):0,F=ybe(x),G="#084C28",K="#FFBF00";return s.jsxs("div",{"data-synced-lyrics-player":"1","data-synced-lyrics-player-build":"word-highlight-v2","data-active-index":String(I),"data-active-word-index":String(D),"data-current-time":String(b),"data-duration":String(g),className:"min-h-screen",style:{backgroundColor:"#0b6b3a"},children:[s.jsx(Bl,{title:e,onBack:n,backgroundColor:G,rightSlot:s.jsx("button",{type:"button",onClick:()=>{const U=xbe(x);_(U),localStorage.setItem(sD,U)},className:"rounded-full",style:{backgroundColor:"#FFFFFF",color:G,paddingLeft:12,paddingRight:12,paddingTop:6,paddingBottom:6,fontFamily:"var(--font-tamil-bold)",fontSize:14,lineHeight:1.15},"aria-label":"Toggle font size",children:"Aa"})}),s.jsxs("div",{ref:l,className:"px-6 overflow-y-auto",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 96px)",paddingBottom:"calc(240px + env(safe-area-inset-bottom))",backgroundColor:"#0b6b3a"},children:[!C&&s.jsxs("div",{className:"mb-4 px-4 py-3 rounded-lg",style:{backgroundColor:"rgba(0,0,0,0.35)",border:"1px solid rgba(255,255,255,0.18)",color:"#FFFFFF",fontFamily:"var(--font-english)"},children:["Lyrics not synced. Please assign timings in editor.",E.message?` (${E.message})`:""]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:E.lines.map((U,q)=>{const M=q===I,V=iD(U.text);let Q=-1;return s.jsx("div",{"data-lyric-line-active":M?"1":"0",ref:z=>{u.current[q]=z},onClick:()=>{N("click",{kind:"lyric_line",index:q,start:U.start}),P(U.start,{play:!0})},style:{fontFamily:"var(--font-tamil-bold)",fontSize:M?F+2:F,lineHeight:1.25,color:"#FFFFFF",opacity:M?1:.62,cursor:"pointer",whiteSpace:"pre-wrap",backgroundColor:M?"rgba(255,191,0,0.32)":void 0,borderRadius:M?12:void 0,paddingLeft:M?10:void 0,paddingRight:M?10:void 0,paddingTop:M?8:void 0,paddingBottom:M?8:void 0,borderLeft:M?`6px solid ${K}`:void 0,boxShadow:M?"0 0 0 2px rgba(255,191,0,0.9), 0 10px 24px rgba(0,0,0,0.18)":void 0,transition:"color 120ms linear, font-size 120ms linear, opacity 120ms linear, background-color 120ms linear, box-shadow 120ms linear"},children:V.map((z,J)=>{z.isWordLike&&(Q+=1);const le=M&&z.isWordLike&&Q===D;return s.jsx("span",{"data-lyric-seg":z.isWordLike?"word":"sep","data-active-word":le?"1":"0",style:le?{fontFamily:"var(--font-tamil-bold)",backgroundColor:K,color:G,borderRadius:8,paddingLeft:6,paddingRight:6,paddingTop:2,paddingBottom:2,display:"inline-block",lineHeight:1.25,boxShadow:"0 0 0 2px rgba(255,255,255,0.65)"}:{fontFamily:"var(--font-tamil-bold)"},children:z.text},J)})},`${U.start}-${q}`)})})]}),s.jsxs("div",{className:"fixed left-0 right-0 z-40",style:{bottom:0,backgroundColor:"transparent",padding:0},children:[s.jsxs("div",{style:{backgroundImage:"linear-gradient(180deg, rgba(13,94,56,0.92) 0%, rgba(8,76,40,0.98) 60%, rgba(6,45,24,1) 100%)",borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"0 -12px 30px rgba(0,0,0,0.18)",padding:"14px 16px calc(16px + env(safe-area-inset-bottom))"},children:[s.jsxs("div",{className:"flex items-center justify-between",style:{color:"#FFFFFF"},children:[s.jsx("div",{style:{fontFamily:"var(--font-english)",fontSize:14,lineHeight:1.15,opacity:.95},children:aD(b)}),s.jsx("div",{style:{fontFamily:"var(--font-english)",fontSize:14,lineHeight:1.15,opacity:.95},children:aD(g)})]}),s.jsxs("div",{className:"mt-2",style:{position:"relative"},children:[s.jsx("div",{style:{height:6,borderRadius:999,backgroundColor:"rgba(255,255,255,0.28)",overflow:"hidden"},children:s.jsx("div",{style:{height:"100%",width:`${L}%`,backgroundColor:K}})}),s.jsx("input",{type:"range",min:0,max:g||0,value:b,onChange:O,disabled:g===0,className:"absolute inset-0 w-full h-full opacity-0","aria-label":"Seek"})]}),s.jsx("div",{className:"mt-6 flex items-center justify-center",children:s.jsx("button",{type:"button",onClick:A,className:"rounded-full",style:{width:68,height:68,backgroundColor:K,color:G,display:"flex",alignItems:"center",justifyContent:"center",opacity:g===0||!C?.55:1,boxShadow:"0 10px 22px rgba(0,0,0,0.28)"},"aria-disabled":!C,"aria-label":f?"Pause":"Play",children:f?s.jsx(AN,{className:"w-7 h-7"}):s.jsx(wn,{className:"w-7 h-7"})})})]}),s.jsx("audio",{ref:o,src:t,preload:"metadata",onLoadedMetadata:U=>v(U.target.duration||0),onTimeUpdate:U=>{const q=U.target.currentTime||0;y(q)},onSeeked:U=>{const q=U.target.currentTime||0;y(q)},onPlay:()=>{p(!0),k(),N("play",{kind:"audio"})},onPause:()=>p(!1),onEnded:()=>{p(!1),N("watch_complete",{kind:"audio"})}})]})]})}function $p(e,t,r){return Math.max(t,Math.min(r,e))}function oD(e){const r=e.map((l,u)=>({b:l,i:u})).slice().sort((l,u)=>(Number(l.b.start)||0)-(Number(u.b.start)||0)),n=new Set,a=[];let i=-1/0,o=-1/0;for(let l=0;l<r.length;l+=1){const{b:u,i:h}=r[l],f=Number(u.start)||0,p=Number(u.end)||0;if(!(f>0)){n.add(h),a.push(`Line ${l+1}: startTime must be > 0`);continue}if(!(p>f)){n.add(h),a.push(`Line ${l+1}: endTime must be > startTime`);continue}if(!(f>i)){n.add(h),a.push(`Line ${l+1}: startTime must be strictly increasing`);continue}if(l>0&&f<o){n.add(h),a.push(`Line ${l+1}: overlaps previous line`);continue}i=f,o=p}return{isValid:n.size===0,invalidIndices:n,message:a[0]||"",sortedBlocks:r.map(({b:l})=>l)}}function Sbe({audioId:e,audioUrl:t,editedBy:r}){const n=B.useRef(null),[a,i]=B.useState([]),[o,l]=B.useState(0),[u,h]=B.useState(!1),f=B.useCallback(async()=>{const x=await er.getLyrics(e);i(x.data||[])},[e]);B.useEffect(()=>{f()},[f]);const p=(x,_,N)=>{i(E=>{const C=E.slice(),S={...C[x]},k=(_==="start"?S.start:S.end)+N;return _==="start"?(S.start=$p(k,0,o||Number.MAX_SAFE_INTEGER),S.end<S.start&&(S.end=S.start)):(S.end=$p(k,0,o||Number.MAX_SAFE_INTEGER),S.end<S.start&&(S.start=S.end)),C[x]=S,C})},g=(x,_)=>{const N=n.current;if(!N)return;const E=Math.max(0,Math.min(o||N.duration||0,N.currentTime||0));i(C=>{const S=C.slice(),k={...S[x]};return _==="start"?(k.start=E,k.end>k.start||(k.end=$p(k.start+.5,0,o||N.duration||Number.MAX_SAFE_INTEGER))):(k.end=E,k.end>k.start||(k.end=$p(k.start+.5,0,o||N.duration||Number.MAX_SAFE_INTEGER))),S[x]=k,S})},v=async x=>{const _=n.current;if(_){_.currentTime=Math.max(0,Math.min(o||_.duration||0,x));try{await _.play()}catch{}}},b=async()=>{const x=oD(a);if(x.isValid){h(!0);try{const _=x.sortedBlocks;await er.saveLyricsBlocks(e,{edited_by:r,blocks:_.map((N,E)=>({index:E,start:Number(N.start)||0,end:Number(N.end)||0,text:N.text}))}),await f()}finally{h(!1)}}},y=B.useMemo(()=>oD(a),[a]);return s.jsxs("div",{className:"bg-white rounded-xl border border-black/10 overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-gray-900",style:{fontFamily:"var(--font-english)",fontWeight:700},children:"Lyrics Editor"}),s.jsxs("button",{type:"button",onClick:b,disabled:u||!y.isValid,className:"px-3 py-2 rounded-lg bg-[#0d5e38] text-white flex items-center gap-2",style:{fontFamily:"var(--font-english)",opacity:u||!y.isValid?.6:1},children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save"]})]}),!y.isValid&&s.jsx("div",{className:"px-4 pb-4",style:{fontFamily:"var(--font-english)",color:"#7f1d1d"},children:s.jsxs("div",{className:"px-4 py-3 rounded-lg bg-red-50 border border-red-200",children:["Lyrics timings are invalid. Fix in editor to enable Save and Player Sync.",y.message?` (${y.message})`:""]})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsx("audio",{ref:n,src:t,preload:"metadata",onLoadedMetadata:x=>l(x.target.duration||0),controls:!0,className:"w-full"})}),s.jsx("div",{className:"max-h-[60vh] overflow-y-auto border-t border-black/10",children:a.map((x,_)=>s.jsxs("div",{className:"p-4 border-b border-black/5",style:y.invalidIndices.has(_)?{backgroundColor:"rgba(254, 226, 226, 0.55)",borderLeft:"4px solid rgba(239, 68, 68, 0.9)"}:void 0,children:[s.jsx("div",{className:"text-gray-900",style:{fontFamily:"var(--font-tamil-bold)",fontSize:16,lineHeight:1.25},children:x.text}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",style:{fontFamily:"var(--font-english)"},children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gray-100",onClick:()=>v(x.start),children:"Play"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Start"}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gray-100",onClick:()=>g(_,"start"),children:"Set Start"}),s.jsx("button",{type:"button",className:"p-2 rounded-lg bg-gray-100",onClick:()=>p(_,"start",-.25),children:s.jsx(rm,{className:"w-4 h-4"})}),s.jsx("div",{className:"text-sm w-[64px] text-center",children:x.start.toFixed(2)}),s.jsx("button",{type:"button",className:"p-2 rounded-lg bg-gray-100",onClick:()=>p(_,"start",.25),children:s.jsx(_r,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"End"}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-gray-100",onClick:()=>g(_,"end"),children:"Set End"}),s.jsx("button",{type:"button",className:"p-2 rounded-lg bg-gray-100",onClick:()=>p(_,"end",-.25),children:s.jsx(rm,{className:"w-4 h-4"})}),s.jsx("div",{className:"text-sm w-[64px] text-center",children:x.end.toFixed(2)}),s.jsx("button",{type:"button",className:"p-2 rounded-lg bg-gray-100",onClick:()=>p(_,"end",.25),children:s.jsx(_r,{className:"w-4 h-4"})})]})]})]},x.id))})]})}const kbe="https://koneswaram.com/upload/music/mp3s/2/Kantha_Sasdi_Kavasam.mp3";function lD(e){const t=e.map(a=>({...a,start:Number(a.start)||0,end:Number(a.end)||0,text:String(a.text||"")})).sort((a,i)=>a.start-i.start);let r=-1/0,n=-1/0;for(let a=0;a<t.length;a+=1){const i=t[a],o=Number(i.start)||0,l=Number(i.end)||0;if(!(o>0))return{isValid:!1,message:`Line ${a+1}: startTime must be > 0`,sorted:t};if(!(l>o))return{isValid:!1,message:`Line ${a+1}: endTime must be > startTime`,sorted:t};if(!(o>r))return{isValid:!1,message:`Line ${a+1}: startTime must be strictly increasing`,sorted:t};if(a>0&&o<n)return{isValid:!1,message:`Line ${a+1}: overlaps previous line`,sorted:t};r=o,n=l}return{isValid:!0,message:"",sorted:t}}function Ebe(){const[e,t]=B.useState("  "),[r,n]=B.useState(kbe),[a,i]=B.useState(null),[o,l]=B.useState(null),[u,h]=B.useState(""),[f,p]=B.useState(null),[g,v]=B.useState([]),[b,y]=B.useState(null),[x,_]=B.useState("setup"),[N,E]=B.useState(!1),[C,S]=B.useState(!1),[k,A]=B.useState(!1),[P,O]=B.useState(!1),[I,D]=B.useState(null);B.useEffect(()=>{try{const Q=localStorage.getItem("syncedLyrics.audioId"),z=localStorage.getItem("syncedLyrics.audioUrl");Q&&i(Q),z&&l(z)}catch{}},[]),B.useEffect(()=>{try{a?localStorage.setItem("syncedLyrics.audioId",a):localStorage.removeItem("syncedLyrics.audioId"),o?localStorage.setItem("syncedLyrics.audioUrl",o):localStorage.removeItem("syncedLyrics.audioUrl")}catch{}},[a,o]);const L=B.useCallback(async()=>{if(a){S(!0),D(null);try{const Q=await er.getAudioStatus(a);p(Q.status);const J=((await er.getLyrics(a)).data||[]).map(se=>({start:se.start,end:se.end,text:se.text}));v(lD(J).sorted);const le=await er.getAudio(a);l(le.data.url);try{const se=await er.getAnalyticsItemStats("song",a);y(se?.stats||null)}catch{y(null)}}catch(Q){D(Q?.message?String(Q.message):"Failed to refresh")}finally{S(!1)}}},[a]);B.useEffect(()=>{L()},[L]);const F=async()=>{E(!0),D(null);try{const Q=await er.importAudioFromUrl({url:r,title:e});i(Q.data.id),l(Q.data.url),_("setup"),p(null),v([]),await new Promise(z=>setTimeout(z,100)),await L()}catch(Q){D(Q?.message?String(Q.message):"Import failed")}finally{E(!1)}},G=async()=>{if(a){A(!0),D(null);try{await er.ingestLyricsFromText(a,{text:u,edited_by:"admin"}),await L()}catch(Q){D(Q?.message?String(Q.message):"Ingest failed")}finally{A(!1)}}},K=async()=>{if(a){O(!0),D(null);try{await er.processAudio(a),await L()}catch(Q){D(Q?.message?String(Q.message):"Process failed")}finally{O(!1)}}},U=B.useMemo(()=>lD(g),[g]),q=!!o&&g.length>0&&U.isValid,M=!!a&&u.trim().length>0&&!k,V=!!a&&!P;return s.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[s.jsx("div",{className:"text-2xl",style:{fontFamily:"var(--font-english)",fontWeight:800},children:"Synced Lyrics Audio"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>_("setup"),className:"px-3 py-2 rounded-lg bg-gray-100",style:{fontFamily:"var(--font-english)"},children:"Setup"}),s.jsx("button",{type:"button",onClick:()=>_("editor"),disabled:!a||!o,className:"px-3 py-2 rounded-lg bg-gray-100",style:{fontFamily:"var(--font-english)",opacity:a?1:.5},children:"Editor"}),s.jsx("button",{type:"button",onClick:()=>_("player"),disabled:!q,className:"px-3 py-2 rounded-lg bg-gray-100",style:{fontFamily:"var(--font-english)",opacity:q?1:.5},children:"Player"})]})]}),x==="setup"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-black/10 p-4",children:[I&&s.jsx("div",{className:"mb-4 px-4 py-3 rounded-lg bg-red-50 border border-red-200 text-red-700",style:{fontFamily:"var(--font-english)"},children:I}),!!o&&g.length>0&&!U.isValid&&s.jsxs("div",{className:"mb-4 px-4 py-3 rounded-lg bg-amber-50 border border-amber-200 text-amber-900",style:{fontFamily:"var(--font-english)"},children:["Lyrics not synced. Please assign timings in Editor. (",U.message,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Title"}),s.jsx("input",{value:e,onChange:Q=>t(Q.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg",style:{fontFamily:"var(--font-english)"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Import URL"}),s.jsx("input",{value:r,onChange:Q=>n(Q.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg",style:{fontFamily:"var(--font-english)"}})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:F,disabled:N,className:"px-4 py-2 rounded-lg bg-[#0d5e38] text-white",style:{fontFamily:"var(--font-english)",opacity:N?.6:1},children:N?"Importing...":"Import MP3 into DB"}),s.jsx("button",{type:"button",onClick:L,disabled:!a||C,className:"px-4 py-2 rounded-lg bg-gray-100",style:{fontFamily:"var(--font-english)",opacity:!a||C?.5:1},children:C?"Refreshing...":"Refresh"})]}),a&&s.jsxs("div",{className:"mt-4 text-sm",style:{fontFamily:"var(--font-english)"},children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"audio_id:"})," ",s.jsx("span",{className:"font-semibold",children:a})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-gray-600",children:"status:"})," ",s.jsx("span",{className:"font-semibold",children:f?.state||"unknown"})]}),b&&s.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2",children:[s.jsxs("div",{className:"px-3 py-2 rounded-lg bg-gray-50 border border-black/5",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Unique Plays"}),s.jsx("div",{className:"text-lg font-semibold",children:Number(b.play||0)})]}),s.jsxs("div",{className:"px-3 py-2 rounded-lg bg-gray-50 border border-black/5",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Unique Clicks"}),s.jsx("div",{className:"text-lg font-semibold",children:Number(b.click||0)})]}),s.jsxs("div",{className:"px-3 py-2 rounded-lg bg-gray-50 border border-black/5",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Unique Completed"}),s.jsx("div",{className:"text-lg font-semibold",children:Number(b.watch_complete||0)})]})]})]}),!a&&s.jsxs("div",{className:"mt-4 text-sm text-gray-600",style:{fontFamily:"var(--font-english)"},children:["Import the MP3 first to generate an ",s.jsx("span",{className:"font-semibold",children:"audio_id"}),". Then you can ingest lyrics and process."]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-black/10 p-4",children:[s.jsx("div",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Lyrics (Tamil)"}),s.jsx("textarea",{value:u,onChange:Q=>h(Q.target.value),className:"w-full mt-2 p-3 border rounded-lg min-h-[240px]",style:{fontFamily:"var(--font-tamil-bold)"}}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:G,disabled:!M,className:"px-4 py-2 rounded-lg bg-gray-900 text-white",style:{fontFamily:"var(--font-english)",opacity:M?1:.5},children:k?"Ingesting...":"Ingest Lyrics"}),s.jsx("button",{type:"button",onClick:K,disabled:!V,className:"px-4 py-2 rounded-lg bg-[#FFC107] text-black",style:{fontFamily:"var(--font-english)",opacity:V?1:.5},children:P?"Processing...":"Process (Whisper + Align)"})]}),!a&&s.jsx("div",{className:"mt-2 text-xs text-gray-500",style:{fontFamily:"var(--font-english)"},children:"Ingest/Process are disabled until you import an audio and get an audio_id."}),!!a&&u.trim().length===0&&s.jsx("div",{className:"mt-2 text-xs text-gray-500",style:{fontFamily:"var(--font-english)"},children:"Paste lyrics above to enable Ingest Lyrics."}),s.jsx("div",{className:"mt-3 text-xs text-gray-500",style:{fontFamily:"var(--font-english)"},children:"Processing requires OPENAI_API_KEY set in Supabase Edge Function secrets. Otherwise timings will be rough and you must edit."})]})]}),x==="editor"&&a&&o&&s.jsx(Sbe,{audioId:a,audioUrl:o,editedBy:"admin"}),x==="player"&&q&&o&&s.jsx("div",{className:"rounded-xl overflow-hidden border border-black/10",children:s.jsx(_be,{title:e,audioUrl:o,lyrics:g})})]})}function Abe({sparkleId:e,isOpen:t,onClose:r}){const[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(()=>{const x=new Date;return x.setDate(x.getDate()-30),x}),[p,g]=w.useState(()=>new Date),[v,b]=w.useState("month");w.useEffect(()=>{t&&e&&y()},[t,e,h,p]);const y=async()=>{if(!(!h||!p))try{o(!0),u(null);const x=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/stats/sparkle/${e}`,{headers:{Authorization:`Bearer ${he}`}}),_=await x.json();if(!x.ok||!_.success)throw new Error(_.error||"Failed to load analytics");const N=_.stats||{},E=N.view??N.read??0,C=N.like??0,S=N.share??0,k=N.comment??0,A=C+S,P=E>0?A/E*100:0,O=E>0?S/E*100:0,I={sparkle_id:e,title:"",image_url:"",thumbnail_url:"",date_range:{start:h.toISOString(),end:p.toISOString(),days:Math.max(1,Math.ceil((p.getTime()-h.getTime())/(1e3*60*60*24)))},total_views:E,total_likes:C,total_shares:S,total_comments:k,range_views:void 0,range_likes:void 0,range_shares:void 0,views_today:0,views_week:0,views_month:0,likes_today:0,likes_week:0,likes_month:0,engagement_rate:Number(P.toFixed(2)),virality_score:Number(O.toFixed(2)),daily_stats:[],created_at:new Date().toISOString(),last_interaction:void 0};a(I)}catch(x){console.error("[SparkleAnalytics] Load error:",x),u(x.message),ee.error("Failed to load analytics: "+x.message)}finally{o(!1)}};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:r}),s.jsxs("div",{className:"fixed right-0 top-0 h-full w-[500px] bg-white shadow-2xl z-50 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(en,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"text-inter-bold-20 text-gray-800",children:"Sparkle Analytics"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]}),s.jsx(ma,{onDateRangeChange:(x,_,N)=>{f(x),g(_),b(N)}})]}),s.jsx("div",{className:"p-6 space-y-6",children:i&&!n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading analytics..."})]})}):l?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 text-inter-regular-14",children:l}),s.jsx("button",{onClick:y,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-inter-medium-16",children:"Retry"})]}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Views"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_views.toLocaleString()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(jr,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Likes"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_likes.toLocaleString()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ba,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Shares"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_shares.toLocaleString()})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Co,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-gray-600 text-inter-regular-14",children:"Comments"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 text-inter-bold-20",children:n.total_comments.toLocaleString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ko,{className:"w-5 h-5 text-green-700"}),s.jsx("span",{className:"text-green-800 font-medium text-inter-medium-16",children:"Engagement Rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-green-900 text-inter-bold-20",children:[n.engagement_rate.toFixed(2),"%"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(un,{className:"w-5 h-5 text-purple-700"}),s.jsx("span",{className:"text-purple-800 font-medium text-inter-medium-16",children:"Virality Score"})]}),s.jsx("p",{className:"text-3xl font-bold text-purple-900 text-inter-bold-20",children:n.virality_score.toFixed(1)})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2 text-inter-semibold-18",children:[s.jsx(wr,{className:"w-5 h-5 text-gray-600"}),"Time-Based Performance"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"Today"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.views_today," views"]}),s.jsxs("p",{className:"text-sm text-gray-600 text-inter-regular-14",children:[n.likes_today," likes"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"This Week"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.views_week," views"]}),s.jsxs("p",{className:"text-sm text-gray-600 text-inter-regular-14",children:[n.likes_week," likes"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1 text-inter-regular-14",children:"This Month"}),s.jsxs("p",{className:"text-xl font-bold text-gray-800 text-inter-bold-20",children:[n.views_month," views"]}),s.jsxs("p",{className:"text-sm text-gray-600 text-inter-regular-14",children:[n.likes_month," likes"]})]})]})]}),n.daily_stats&&n.daily_stats.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-4 text-inter-semibold-18",children:"Daily Performance"}),s.jsx(Zr,{width:"100%",height:300,children:s.jsxs(Fa,{data:n.daily_stats,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",tickFormatter:x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx(Ir,{}),s.jsx(Ut,{labelFormatter:x=>new Date(x).toLocaleDateString()}),s.jsx(ra,{}),s.jsx(cr,{type:"monotone",dataKey:"views",stroke:"#3b82f6",strokeWidth:2,name:"Views"}),s.jsx(cr,{type:"monotone",dataKey:"likes",stroke:"#ef4444",strokeWidth:2,name:"Likes"}),s.jsx(cr,{type:"monotone",dataKey:"shares",stroke:"#a855f7",strokeWidth:2,name:"Shares"})]})})]})]}):null}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end gap-3",children:s.jsx("button",{onClick:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Close"})})]})]}):null}function Tbe(){const[e,t]=w.useState([]),[r,n]=w.useState({}),[a,i]=w.useState(!0),[o,l]=w.useState(!1),[u,h]=w.useState("published"),[f,p]=w.useState(!1),[g,v]=w.useState(!1),[b,y]=w.useState("card"),[x,_]=w.useState(!1),[N,E]=w.useState(()=>{const ne=new Date;return ne.setDate(ne.getDate()-30),ne}),[C,S]=w.useState(()=>new Date),[k,A]=w.useState("month"),[P,O]=w.useState(null),[I,D]=w.useState([]),[L,F]=w.useState(null),[G,K]=w.useState(null),[U,q]=w.useState(!1),[M,V]=w.useState(new Set),[Q,z]=w.useState(!1),[J,le]=w.useState(""),[se,xe]=w.useState(null),X=ne=>{if(!ne||ne<=0)return"";const be=["B","KB","MB","GB"],qe=Math.min(be.length-1,Math.floor(Math.log(ne)/Math.log(1024))),Nt=ne/Math.pow(1024,qe);return`${Nt.toFixed(Nt>=10||qe===0?0:1)} ${be[qe]}`},re=ne=>{const be=ne.metadata||{},qe=typeof be.original_bytes=="number"?be.original_bytes:void 0,Nt=typeof be.compressed_bytes=="number"?be.compressed_bytes:void 0,dr=be.compression_applied===!0,Us=typeof be.compression_method=="string"?be.compression_method:void 0;return!qe&&!Nt?null:{originalBytes:qe,compressedBytes:Nt,applied:dr,method:Us}},me=ne=>ne.cover_image_url||ne.thumbnail_url||ne.image_url||ne.medium_url||ne.small_url||"",fe=(ne,be="card")=>{const qe=me(ne),Nt={src:ne.video_url?`${ne.video_url}#t=0.1`:void 0,muted:!0,playsInline:!0,loop:!0,autoPlay:!0,preload:"metadata",poster:qe||void 0};if(qe)return s.jsx("img",{src:qe,alt:ne.title,className:be==="card"?"w-full h-full object-cover":"w-10 h-16 object-cover rounded"});if(ne.video_url)return s.jsx("video",{...Nt,className:be==="card"?"w-full h-full object-cover":"w-10 h-16 object-cover rounded"});const dr=be==="card"?"w-full h-full flex flex-col items-center justify-center gap-3 bg-gradient-to-br from-green-100 to-green-200":"w-10 h-16 flex flex-col items-center justify-center gap-1 rounded bg-gradient-to-br from-green-100 to-green-200";return s.jsxs("div",{className:dr,children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white shadow-sm",children:s.jsxs("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),s.jsx("p",{className:"text-xs font-medium text-green-700",children:"Video Content"})]})},ye=async ne=>{try{const be=await Promise.all(ne.map(async Nt=>{try{const dr=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/stats/sparkle/${Nt.id}`,{headers:{Authorization:`Bearer ${he}`}}),Us=await dr.json();if(!dr.ok||!Us.success)return[Nt.id,{views:0,likes:0}];const Bs=Us.stats||{},Hn=Bs.view??Bs.read??0,zs=Bs.like??0;return[Nt.id,{views:Hn,likes:zs}]}catch{return[Nt.id,{views:0,likes:0}]}})),qe={};for(const[Nt,dr]of be)qe[Nt]=dr;n(qe)}catch{n({})}},ve=async()=>{try{i(!0),console.log("[AdminSparkleManager] Starting to load sparkles...");const ne=await $M();console.log("[AdminSparkleManager] Loaded sparkles:",ne),console.log("[AdminSparkleManager] Total sparkles:",(ne.data||[]).length),console.log("[AdminSparkleManager] By status:",{published:(ne.data||[]).filter(qe=>qe.publish_status==="published").length,draft:(ne.data||[]).filter(qe=>qe.publish_status==="draft").length,scheduled:(ne.data||[]).filter(qe=>qe.publish_status==="scheduled").length});const be=ne.data||[];t(be),ye(be),(ne.data||[]).length===0&&!L&&ee.info("No sparkles found. Upload your first sparkle!"),p(!1)}catch(ne){console.error("[AdminSparkleManager] Load error:",ne),(ne.message.includes("Failed to fetch")||ne.message.includes("500")||ne.message.includes("relation")||ne.message.includes("schema cache")||ne.message.includes("Could not find the table"))&&p(!0),ee.error("Database tables not found",{duration:8e3,description:"Please follow the setup guide above to create the database tables."}),t([])}finally{i(!1)}},ce=async()=>{if(!N||!C){console.log("[AdminSparkleManager] Skipping analytics load - missing dates");return}if(!(N instanceof Date)||isNaN(N.getTime())||!(C instanceof Date)||isNaN(C.getTime())){console.error("[AdminSparkleManager] Invalid date objects:",{startDate:N,endDate:C}),O(null);return}try{console.log("[AdminSparkleManager] Loading aggregate analytics for date range:",{start:N.toISOString(),end:C.toISOString()});const ne=new URLSearchParams({start_date:N.toISOString(),end_date:C.toISOString(),content_type:"sparkle"}),be=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/analytics/aggregate?${ne}`,{headers:{Authorization:`Bearer ${he}`}});if(!be.ok)throw new Error(`HTTP ${be.status}: ${be.statusText}`);const qe=await be.json();qe.success&&qe.data?(console.log("[AdminSparkleManager] Aggregate analytics loaded:",qe.data),O(qe.data)):(console.warn("[AdminSparkleManager] Analytics response not successful:",qe),O(null))}catch(ne){console.error("[AdminSparkleManager] Failed to load aggregate analytics:",ne),O(null)}},Oe=async()=>{try{const ne=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/sparkle-folders`,{headers:{Authorization:`Bearer ${he}`}}),be=await ne.json();if(!ne.ok||be.code==="PGRST205"||be.message?.includes("schema cache")){console.log("[Sparkle Folders] Tables not set up yet - folder features will be hidden"),v(!0),D([]);return}if(be.success){const qe=(be.data||[]).map(Nt=>({...Nt,sparkle_count:e.filter(dr=>dr.folder_id===Nt.id).length}));D(qe),v(!1)}else(be.error?.includes("sparkle_folders")||be.error?.includes("PGRST205")||be.code==="PGRST205")&&(console.log("[Sparkle Folders] Tables not found - showing setup guide"),v(!0),D([]))}catch{console.log("[Sparkle Folders] Error loading folders - likely tables not created yet"),v(!0),D([])}},Ie=async(ne,be)=>{try{const qe=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/sparkle-folders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:ne,description:be})}),Nt=await qe.json();if(!qe.ok||Nt.code==="PGRST205"||Nt.message?.includes("schema cache"))throw v(!0),new Error("Please set up the database tables first. See the orange banner above for instructions.");if(!Nt.success)throw new Error(Nt.error||"Failed to create folder");await Oe()}catch(qe){throw(qe.message?.includes("PGRST205")||qe.message?.includes("schema cache")||qe.message?.includes("database tables"))&&v(!0),qe}},it=async(ne,be,qe)=>{const dr=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/sparkle-folders/${ne}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({name:be,description:qe})})).json();if(!dr.success)throw new Error(dr.error||"Failed to update folder");await Oe()},at=async ne=>{const qe=await(await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/api/sparkle-folders/${ne}`,{method:"DELETE",headers:{Authorization:`Bearer ${he}`}})).json();if(!qe.success)throw new Error(qe.error||"Failed to delete folder");L===ne&&F(null),await Oe()},lt=ne=>{K(ne),q(!0)},Mt=ne=>{const be=new Set(M);be.has(ne)?be.delete(ne):be.add(ne),V(be)},zt=()=>{const ne=kt();V(new Set(ne.map(be=>be.id)))},Vt=()=>{V(new Set)},xt=async()=>{if(M.size===0){ee.error("No sparkles selected");return}try{const ne=Array.from(M).map(be=>Uu(be,{folder_id:J||null}));await Promise.all(ne),ee.success(`Moved ${M.size} sparkle(s) to folder`),z(!1),V(new Set),le(""),ve(),Oe()}catch(ne){ee.error("Failed to move sparkles: "+ne.message)}},ht=async()=>{if(M.size===0){ee.error("No sparkles selected");return}if(confirm(`Delete ${M.size} selected sparkle(s)? This action cannot be undone.`))try{const ne=Array.from(M).map(be=>rT(be));await Promise.all(ne),ee.success(`Deleted ${M.size} sparkle(s)`),V(new Set),ve(),Oe()}catch(ne){ee.error("Failed to delete sparkles: "+ne.message)}},kt=()=>{let ne=e;return u==="published"?ne=ne.filter(be=>be.publish_status==="published"):u==="scheduled"?ne=ne.filter(be=>be.publish_status==="scheduled"&&be.scheduled_at):u==="draft"&&(ne=ne.filter(be=>be.publish_status==="draft"||be.publish_status==="scheduled"&&!be.scheduled_at)),L&&(ne=ne.filter(be=>be.folder_id===L)),ne};w.useEffect(()=>{ve()},[]),w.useEffect(()=>{e.length>0&&Oe()},[e]),w.useEffect(()=>{ce()},[N,C]);const $r=async ne=>{try{const be=ne.publish_status==="published"?"draft":"published";await Uu(ne.id,{publish_status:be}),ee.success(`Sparkle ${be==="published"?"published":"unpublished"}`),ve()}catch(be){ee.error("Failed to update sparkle: "+be.message)}},qr=async ne=>{if(confirm(`Delete "${ne.title}"?`))try{await rT(ne.id),ee.success("Sparkle deleted"),ve()}catch(be){ee.error("Failed to delete sparkle: "+be.message)}},pe=async ne=>{if(confirm(`Cancel schedule for "${ne.title}"? It will be moved to drafts.`))try{await Uu(ne.id,{publish_status:"draft",scheduled_at:null}),ee.success("Schedule cancelled - sparkle moved to drafts"),ve()}catch(be){ee.error("Failed to cancel schedule: "+be.message)}},Y=async(ne,be)=>{try{console.log("[AdminSparkleManager] Rescheduling sparkle:",{sparkleId:ne,newDate:be.toISOString()});const qe=await Uu(ne,{scheduled_at:be.toISOString()});console.log("[AdminSparkleManager] Reschedule response:",qe),ee.success("Sparkle rescheduled successfully"),await ve()}catch(qe){throw console.error("[AdminSparkleManager] Reschedule error:",qe),ee.error("Failed to reschedule: "+qe.message),qe}},W=async ne=>{if(confirm(`Publish "${ne.title}" immediately?`))try{await Uu(ne.id,{publish_status:"published",published_at:new Date().toISOString(),scheduled_at:null}),console.log(`[AdminSparkleManager] Published sparkle ${ne.id} immediately`),ee.success("Sparkle published!"),ve()}catch(be){console.error(`[AdminSparkleManager] Failed to publish sparkle ${ne.id}:`,be),ee.error("Failed to publish sparkle: "+be.message)}},ie=kt(),Ee=e.filter(ne=>ne.publish_status==="published").length,ue=e.filter(ne=>ne.publish_status==="scheduled"&&ne.scheduled_at).length,Ve=e.filter(ne=>ne.publish_status==="draft"||ne.publish_status==="scheduled"&&!ne.scheduled_at).length,Yt=e.filter(ne=>!ne.folder_id).length;return s.jsxs("div",{className:"space-y-6 text-inter-regular-14",children:[f&&s.jsx(Sx,{}),g&&s.jsx(Ex,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-inter-bold-20 text-gray-800",children:"Sparkle Management"}),s.jsx("p",{className:"text-gray-500 mt-1 text-inter-regular-14",children:"Manage short-form video content for the user app"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ma,{onDateRangeChange:(ne,be,qe)=>{E(ne),S(be),A(qe)}}),s.jsx("button",{onClick:()=>_(!x),className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"System Diagnostics",children:s.jsx(Go,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{ve(),Oe()},disabled:a,className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:s.jsx(mt,{className:`w-5 h-5 ${a?"animate-spin":""}`})}),s.jsxs("button",{onClick:()=>l(!0),disabled:f,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all font-medium text-inter-medium-16 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_r,{className:"w-5 h-5"}),"Upload Sparkle"]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Sparkles"}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2 text-inter-bold-20",children:e.length}),s.jsxs("p",{className:"text-sm text-green-600 mt-1 text-inter-regular-14",children:[Ee," published"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Views"}),P&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:P?(P.total_views||0).toLocaleString():e.reduce((ne,be)=>ne+(be.view_count||0),0).toLocaleString()}),P&&N&&C&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-gray-500 text-sm text-inter-regular-14",children:"Total Likes"}),P&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1 text-inter-bold-20",children:P?(P.total_likes||0).toLocaleString():e.reduce((ne,be)=>ne+(be.like_count||0),0).toLocaleString()}),P&&N&&C&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1",children:[s.jsx(Pr,{className:"w-3 h-3"}),new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})}),M.size>0&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("p",{className:"text-inter-medium-16 text-green-800",children:[M.size," sparkle(s) selected"]}),s.jsx("button",{onClick:Vt,className:"text-sm text-green-600 hover:text-green-700 underline",children:"Deselect All"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!g&&s.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(jg,{className:"w-4 h-4"}),"Move to Folder"]}),s.jsxs("button",{onClick:ht,className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(zr,{className:"w-4 h-4"}),"Delete"]})]})]}),!f&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[!g&&s.jsx("div",{className:"w-64",children:s.jsx(kx,{folders:I,selectedFolder:L,onSelectFolder:F,onCreateFolder:Ie,onUpdateFolder:it,onDeleteFolder:at,allWallpapersCount:e.length,uncategorizedCount:Yt})}),s.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>h("published"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${u==="published"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(At,{className:"w-4 h-4 inline mr-1.5"}),"Published (",Ee,")"]}),s.jsxs("button",{onClick:()=>h("scheduled"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${u==="scheduled"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(wr,{className:"w-4 h-4 inline mr-1.5"}),"Scheduled (",ue,")"]}),s.jsxs("button",{onClick:()=>h("draft"),className:`py-2 px-4 rounded text-sm font-medium transition-all text-inter-medium-14 ${u==="draft"?"bg-green-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(Fn,{className:"w-4 h-4 inline mr-1.5"}),"Drafts (",Ve,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ie.length>0&&s.jsxs("button",{onClick:zt,className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",title:"Select All",children:[s.jsx(Ma,{className:"w-4 h-4"}),"Select All"]}),s.jsxs("div",{className:"flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg p-0.5",children:[s.jsx("button",{onClick:()=>y("card"),className:`p-1.5 rounded transition-colors ${b==="card"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"Card View",children:s.jsx(Ng,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y("list"),className:`p-1.5 rounded transition-colors ${b==="list"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"List View",children:s.jsx(bh,{className:"w-4 h-4"})})]})]})]}),a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading sparkles..."})]})}):ie.length===0?s.jsxs("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(_r,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-gray-800 mb-2 text-inter-semibold-18",children:"No sparkles yet"}),s.jsx("p",{className:"text-gray-500 mb-4 text-inter-regular-14",children:L?"No sparkles in this folder. Try selecting a different folder or upload a new sparkle.":"Upload your first sparkle to get started"}),s.jsx("button",{onClick:()=>l(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Upload Sparkle"})]}):b==="card"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ie.map(ne=>s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 overflow-hidden hover:shadow-md transition-all ${M.has(ne.id)?"border-green-500 ring-2 ring-green-200":"border-gray-200"}`,children:[s.jsxs("div",{className:"relative aspect-[9/16] bg-gray-100",children:[fe(ne,"card"),ne.video_url&&s.jsx("div",{className:"absolute bottom-3 right-3",children:s.jsxs("div",{className:"bg-black/70 backdrop-blur-sm px-2 py-1 rounded-md flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Video"})]})}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("button",{onClick:()=>Mt(ne.id),className:"w-6 h-6 rounded bg-white border-2 border-gray-300 flex items-center justify-center hover:border-green-500 transition-colors",children:M.has(ne.id)&&s.jsx(Ma,{className:"w-5 h-5 text-green-600"})})}),s.jsx("div",{className:"absolute top-3 right-3",children:ne.publish_status==="scheduled"&&ne.scheduled_at?s.jsx(Dc,{scheduledAt:ne.scheduled_at}):s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-inter-medium-16 ${ne.publish_status==="published"?"bg-green-100 text-green-700":ne.publish_status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:ne.publish_status})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 text-inter-semibold-18",children:ne.title}),(()=>{const be=re(ne);return be?s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[`Size: ${X(be.originalBytes)}  ${X(be.compressedBytes)}`,be.applied?" (compressed)":"",be.method?`  ${be.method}`:""]}):null})(),ne.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 text-inter-regular-14",children:ne.description}),s.jsxs("div",{className:"flex items-center gap-4 mb-3 pb-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Views"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-medium-16",children:r[ne.id]?.views??ne.view_count??0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 text-inter-regular-14",children:"Likes"}),s.jsx("p",{className:"font-semibold text-gray-800 text-inter-medium-16",children:r[ne.id]?.likes??ne.like_count??0})]}),s.jsx("button",{onClick:()=>lt(ne.id),className:"ml-auto text-blue-600 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3 text-inter-regular-14",children:["Created ",new Date(ne.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ne.publish_status==="scheduled"?s.jsx(Mc,{onReschedule:()=>xe(ne),onPublishNow:()=>W(ne),onCancelSchedule:()=>pe(ne)}):s.jsx("button",{onClick:()=>$r(ne),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg border transition-colors text-inter-medium-16 ${ne.publish_status==="published"?"border-yellow-300 text-yellow-700 hover:bg-yellow-50":"border-green-300 text-green-700 hover:bg-green-50"}`,children:ne.publish_status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(Fn,{className:"w-4 h-4"}),"Unpublish"]}):s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-4 h-4"}),"Publish"]})}),s.jsx("button",{onClick:()=>qr(ne),className:"p-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:s.jsx(zr,{className:"w-4 h-4"})})]})]})]},ne.id))}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:M.size===ie.length&&ie.length>0,onChange:()=>{M.size===ie.length&&ie.length>0?Vt():zt()},className:"rounded border-gray-300"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SPARKLE"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STATUS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"VIEWS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"LIKES"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CREATED"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACTIONS"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.map(ne=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${M.has(ne.id)?"bg-green-50":""}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:M.has(ne.id),onChange:()=>Mt(ne.id),className:"rounded border-gray-300"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[fe(ne,"list"),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-inter-medium-16",children:ne.title}),(()=>{const be=re(ne);return be?s.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[`Size: ${X(be.originalBytes)}  ${X(be.compressedBytes)}`,be.applied?" (compressed)":"",be.method?`  ${be.method}`:""]}):null})(),ne.description&&s.jsx("div",{className:"text-sm text-gray-500 line-clamp-1 text-inter-regular-14",children:ne.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne.publish_status==="scheduled"&&ne.scheduled_at?s.jsx(Dc,{scheduledAt:ne.scheduled_at}):s.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium inline-block ${ne.publish_status==="published"?"bg-green-100 text-green-700":ne.publish_status==="scheduled"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:ne.publish_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-inter-regular-14",children:r[ne.id]?.views??ne.view_count??0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-inter-regular-14",children:r[ne.id]?.likes??ne.like_count??0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-inter-regular-14",children:new Date(ne.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>lt(ne.id),className:"text-blue-600 hover:text-blue-700 p-1.5 hover:bg-blue-50 rounded transition-colors",title:"View Analytics",children:s.jsx(en,{className:"w-4 h-4"})}),ne.publish_status==="scheduled"?s.jsx(Mc,{onReschedule:()=>xe(ne),onPublishNow:()=>W(ne),onCancelSchedule:()=>pe(ne)}):s.jsx("button",{onClick:()=>$r(ne),className:"text-green-600 hover:text-green-700 p-1.5 hover:bg-green-50 rounded transition-colors",title:ne.publish_status==="published"?"Unpublish":"Publish",children:ne.publish_status==="published"?s.jsx(Fn,{className:"w-4 h-4"}):s.jsx(At,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>qr(ne),className:"text-red-600 hover:text-red-700 p-1.5 hover:bg-red-50 rounded transition-colors",title:"Delete",children:s.jsx(zr,{className:"w-4 h-4"})})]})})]},ne.id))})]})})]}),s.jsx(Rk,{isOpen:o,onClose:()=>l(!1),onSuccess:ve,title:"Sparkle",uploadType:"sparkle",uploadFunction:Eq}),se&&s.jsx(Ik,{isOpen:!!se,onClose:()=>xe(null),onReschedule:async ne=>{await Y(se.id,ne),xe(null)},currentScheduledAt:se.scheduled_at||null,wallpaperTitle:se.title}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-inter-semibold-18 text-gray-800 mb-4",children:["Move ",M.size," sparkle(s) to folder"]}),s.jsxs("select",{value:J,onChange:ne=>le(ne.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 text-inter-regular-14",children:[s.jsx("option",{value:"",children:"Select a folder..."}),I.map(ne=>s.jsx("option",{value:ne.id,children:ne.name},ne.id))]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:xt,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Move"}),s.jsx("button",{onClick:()=>{z(!1),le("")},className:"flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-inter-medium-16",children:"Cancel"})]})]})}),s.jsx(Abe,{isOpen:U,onClose:()=>{q(!1),K(null)},sparkleId:G||""})]})}function tN(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const r=n=>String(n).padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function Obe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null),[u,h]=w.useState(null),[f,p]=w.useState(!1),[g,v]=w.useState(null),[b,y]=w.useState({title:"",target_url:"",publishStatus:"draft",scheduled_at:"",starts_at:"",ends_at:"",is_enabled:!0,priority:0}),x=w.useMemo(()=>({desktop:"1080  1920 px (portrait)",mobile:"1080  1920 px (portrait)",safe:"Keep key text within 900  1600 px safe area"}),[]),_=async()=>{try{n(!0);const k=await jq();t(k.data||[])}catch(k){ee.error(k?.message||"Failed to load popup banners"),t([])}finally{n(!1)}};w.useEffect(()=>{_()},[]);const N=()=>{l(null),h(null),y({title:"",target_url:"",publishStatus:"draft",scheduled_at:"",starts_at:"",ends_at:"",is_enabled:!0,priority:0}),i(!0)},E=k=>{l(k),h(null),y({title:k.title||"",target_url:k.target_url||"",publishStatus:k.publish_status||"draft",scheduled_at:tN(k.scheduled_at),starts_at:tN(k.starts_at),ends_at:tN(k.ends_at),is_enabled:k.is_enabled!==!1,priority:k.priority||0}),i(!0)},C=async()=>{try{if(p(!0),o){if(u){const P=await kq(o.id,u);if(!P.success)throw new Error(P.error||"Image replace failed")}const k={title:b.title,target_url:b.target_url||null,publish_status:b.publishStatus,scheduled_at:b.scheduled_at?new Date(b.scheduled_at).toISOString():null,starts_at:b.starts_at?new Date(b.starts_at).toISOString():null,ends_at:b.ends_at?new Date(b.ends_at).toISOString():null,is_enabled:b.is_enabled,priority:Number(b.priority)||0},A=await Nq(o.id,k);if(!A.success)throw new Error(A.error||"Update failed");ee.success("Popup banner updated")}else{if(!u){ee.error("Please choose an image");return}const k={title:b.title,target_url:b.target_url||void 0,publishStatus:b.publishStatus,scheduled_at:b.scheduled_at?new Date(b.scheduled_at).toISOString():void 0,starts_at:b.starts_at?new Date(b.starts_at).toISOString():void 0,ends_at:b.ends_at?new Date(b.ends_at).toISOString():void 0,is_enabled:String(b.is_enabled),priority:String(Number(b.priority)||0)},A=await wq(u,k);if(!A.success)throw new Error(A.error||"Upload failed");ee.success("Popup banner created")}i(!1),await _()}catch(k){ee.error(k?.message||"Save failed")}finally{p(!1)}},S=async k=>{if(confirm(`Delete "${k.title}"?`))try{const A=await _q(k.id);if(!A.success)throw new Error(A.error||"Delete failed");ee.success("Deleted"),_()}catch(A){ee.error(A?.message||"Delete failed")}};return s.jsxs("div",{className:"space-y-6 text-inter-regular-14",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-inter-bold-20 text-gray-800",children:"Popup Banners"}),s.jsx("p",{className:"text-gray-500 mt-1 text-inter-regular-14",children:"Full-screen popup promotions/wishes shown on dashboard."})]}),s.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all font-medium text-inter-medium-16",children:[s.jsx(_r,{className:"w-5 h-5"}),"Create Popup"]})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"w-8 h-8 animate-spin text-green-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 text-inter-regular-14",children:"Loading popup banners..."})]})}):e.length===0?s.jsxs("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[s.jsx("h3",{className:"text-gray-800 mb-2 text-inter-semibold-18",children:"No popup banners"}),s.jsx("p",{className:"text-gray-500 mb-4 text-inter-regular-14",children:"Create your first popup banner."}),s.jsx("button",{onClick:N,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-inter-medium-16",children:"Create Popup"})]}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"POPUP"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STATUS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ENABLED"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PRIORITY"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"VIEWS"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CLICKS"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACTIONS"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:k.thumbnail_url||k.image_url,alt:k.title,className:"w-16 h-10 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 text-inter-medium-16",children:k.title}),k.target_url&&s.jsx("div",{className:"text-sm text-blue-600 line-clamp-1 text-inter-regular-14",children:k.target_url})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-inter-regular-14",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:k.publish_status}),s.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs rounded-full ${k.is_active?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:k.is_active?"Live":"Inactive"})]})}),s.jsx("td",{className:"px-6 py-4",children:k.is_enabled?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-700",children:[s.jsx(At,{className:"w-4 h-4"})," Enabled"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-500",children:[s.jsx(Fn,{className:"w-4 h-4"})," Disabled"]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-inter-regular-14",children:k.priority||0}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-inter-regular-14",children:k.view_count||0}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-inter-regular-14",children:k.click_count||0}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>E(k),className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-white transition-colors text-inter-medium-14",children:"Edit"}),s.jsx("button",{onClick:()=>S(k),className:"p-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",title:"Delete",children:s.jsx(zr,{className:"w-4 h-4"})}),s.jsx("button",{disabled:g===k.id||k.is_active||!k.image_url,onClick:async()=>{if(!k.image_url){ee.error("Image must be uploaded before pushing.");return}v(k.id);try{const A=await Sq(k.id);if(!A.success)throw new Error(A.error||"Push failed");ee.success("Banner pushed live"),await _()}catch(A){ee.error(A?.message||"Push failed")}finally{v(null)}},className:"px-3 py-1.5 border border-emerald-500 rounded-lg hover:bg-emerald-50 transition-colors text-inter-medium-14 disabled:opacity-60",title:k.is_active?"Already live":"Push this banner to all users",children:g===k.id?s.jsx(Bt,{className:"w-4 h-4 animate-spin text-emerald-600"}):"Push"})]})})]},k.id))})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-inter-semibold-18 text-gray-800",children:o?"Edit Popup Banner":"Create Popup Banner"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Recommended size: ",x.mobile,". ",x.safe,"."]})]}),s.jsx("button",{onClick:()=>i(!1),disabled:f,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[o?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Replace Image (optional)"}),s.jsx("input",{type:"file",accept:"image/*",onChange:k=>h(k.target.files?.[0]||null),className:"w-full"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uploading a new image will replace the existing banner."})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image *"}),s.jsx("input",{type:"file",accept:"image/*",onChange:k=>h(k.target.files?.[0]||null),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:b.title,onChange:k=>y({...b,title:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target URL"}),s.jsx("input",{type:"text",value:b.target_url,onChange:k=>y({...b,target_url:k.target.value}),placeholder:'Example: "tab:spark" or "https://..."',className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:b.publishStatus,onChange:k=>y({...b,publishStatus:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enabled"}),s.jsxs("select",{value:b.is_enabled?"true":"false",onChange:k=>y({...b,is_enabled:k.target.value==="true"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"true",children:"Enabled"}),s.jsx("option",{value:"false",children:"Disabled"})]})]})]}),b.publishStatus==="scheduled"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled At"}),s.jsx("input",{type:"datetime-local",value:b.scheduled_at,onChange:k=>y({...b,scheduled_at:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starts At (optional)"}),s.jsx("input",{type:"datetime-local",value:b.starts_at,onChange:k=>y({...b,starts_at:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ends At (optional)"}),s.jsx("input",{type:"datetime-local",value:b.ends_at,onChange:k=>y({...b,ends_at:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority (higher shows first)"}),s.jsx("input",{type:"number",value:b.priority,onChange:k=>y({...b,priority:Number(k.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>i(!1),disabled:f,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:C,disabled:f,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[f?s.jsx(Bt,{className:"w-4 h-4 animate-spin"}):s.jsx(Ys,{className:"w-4 h-4"}),"Save"]})]})]})]})})]})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var $c;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})($c||($c={}));class rN extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const Cbe=e=>{var t,r;return e?.androidBridge?"android":!((r=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Pbe=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:Cbe(e),i=()=>a()!=="web",o=p=>{const g=h.get(p);return!!(g?.platforms.has(a())||l(p))},l=p=>{var g;return(g=r.PluginHeaders)===null||g===void 0?void 0:g.find(v=>v.name===p)},u=p=>e.console.error(p),h=new Map,f=(p,g={})=>{const v=h.get(p);if(v)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),v.proxy;const b=a(),y=l(p);let x;const _=async()=>(!x&&b in g?x=typeof g[b]=="function"?x=await g[b]():x=g[b]:t!==null&&!x&&"web"in g&&(x=typeof g.web=="function"?x=await g.web():x=g.web),x),N=(P,O)=>{var I,D;if(y){const L=y?.methods.find(F=>O===F.name);if(L)return L.rtype==="promise"?F=>r.nativePromise(p,O.toString(),F):(F,G)=>r.nativeCallback(p,O.toString(),F,G);if(P)return(I=P[O])===null||I===void 0?void 0:I.bind(P)}else{if(P)return(D=P[O])===null||D===void 0?void 0:D.bind(P);throw new rN(`"${p}" plugin is not implemented on ${b}`,$c.Unimplemented)}},E=P=>{let O;const I=(...D)=>{const L=_().then(F=>{const G=N(F,P);if(G){const K=G(...D);return O=K?.remove,K}else throw new rN(`"${p}.${P}()" is not implemented on ${b}`,$c.Unimplemented)});return P==="addListener"&&(L.remove=async()=>O()),L};return I.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:P,writable:!1,configurable:!1}),I},C=E("addListener"),S=E("removeListener"),k=(P,O)=>{const I=C({eventName:P},O),D=async()=>{const F=await I;S({eventName:P,callbackId:F},O)},L=new Promise(F=>I.then(()=>F({remove:D})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await D()},L},A=new Proxy({},{get(P,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?k:C;case"removeListener":return S;default:return E(O)}}});return n[p]=A,h.set(p,{name:p,proxy:A,platforms:new Set([...Object.keys(g),...y?[b]:[]])}),A};return r.convertFileSrc||(r.convertFileSrc=p=>p),r.getPlatform=a,r.handleError=u,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=f,r.Exception=rN,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Rbe=e=>e.Capacitor=Pbe(e),c_=Rbe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Dk=c_.registerPlugin;class RU{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const a=this.listeners[t];if(!a){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new c_.Exception(t,$c.Unimplemented)}unavailable(t="not available"){return new c_.Exception(t,$c.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const a=n.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const cD=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),uD=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ibe extends RU{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=uD(a).trim(),i=uD(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=cD(t.key),n=cD(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Dk("CapacitorCookies",{web:()=>new Ibe});const Dbe=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(e)}),Mbe=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},$be=(e,t=!0)=>e?Object.entries(e).reduce((n,a)=>{const[i,o]=a;let l,u;return Array.isArray(o)?(u="",o.forEach(h=>{l=t?encodeURIComponent(h):h,u+=`${i}=${l}&`}),u.slice(0,-1)):(l=t?encodeURIComponent(o):o,u=`${i}=${l}`),`${n}&${u}`},"").substr(1):null,Lbe=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=Mbe(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,u)=>{i.append(u,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class Fbe extends RU{async request(t){const r=Lbe(t,t.webFetchExtra),n=$be(t.params,t.shouldEncodeUrlParams),a=n?`${t.url}?${n}`:t.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let u,h;switch(l){case"arraybuffer":case"blob":h=await i.blob(),u=await Dbe(h);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const f={};return i.headers.forEach((p,g)=>{f[g]=p}),{data:u,headers:f,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Dk("CapacitorHttp",{web:()=>new Fbe});var dD;(function(e){e.General="General",e.ParentalGuidance="ParentalGuidance",e.Teen="Teen",e.MatureAudience="MatureAudience"})(dD||(dD={}));var hD;(function(e){e.SizeChanged="bannerAdSizeChanged",e.Loaded="bannerAdLoaded",e.FailedToLoad="bannerAdFailedToLoad",e.Opened="bannerAdOpened",e.Closed="bannerAdClosed",e.AdImpression="bannerAdImpression"})(hD||(hD={}));var fD;(function(e){e.TOP_CENTER="TOP_CENTER",e.CENTER="CENTER",e.BOTTOM_CENTER="BOTTOM_CENTER"})(fD||(fD={}));var pD;(function(e){e.BANNER="BANNER",e.FULL_BANNER="FULL_BANNER",e.LARGE_BANNER="LARGE_BANNER",e.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",e.LEADERBOARD="LEADERBOARD",e.ADAPTIVE_BANNER="ADAPTIVE_BANNER",e.SMART_BANNER="SMART_BANNER"})(pD||(pD={}));var mD;(function(e){e.Loaded="interstitialAdLoaded",e.FailedToLoad="interstitialAdFailedToLoad",e.Showed="interstitialAdShowed",e.FailedToShow="interstitialAdFailedToShow",e.Dismissed="interstitialAdDismissed"})(mD||(mD={}));var gD;(function(e){e.Loaded="onRewardedInterstitialAdLoaded",e.FailedToLoad="onRewardedInterstitialAdFailedToLoad",e.Showed="onRewardedInterstitialAdShowed",e.FailedToShow="onRewardedInterstitialAdFailedToShow",e.Dismissed="onRewardedInterstitialAdDismissed",e.Rewarded="onRewardedInterstitialAdReward"})(gD||(gD={}));var xD;(function(e){e.Loaded="onRewardedVideoAdLoaded",e.FailedToLoad="onRewardedVideoAdFailedToLoad",e.Showed="onRewardedVideoAdShowed",e.FailedToShow="onRewardedVideoAdFailedToShow",e.Dismissed="onRewardedVideoAdDismissed",e.Rewarded="onRewardedVideoAdReward"})(xD||(xD={}));var yD;(function(e){e.NOT_REQUIRED="NOT_REQUIRED",e.OBTAINED="OBTAINED",e.REQUIRED="REQUIRED",e.UNKNOWN="UNKNOWN"})(yD||(yD={}));var vD;(function(e){e[e.DISABLED=0]="DISABLED",e[e.EEA=1]="EEA",e[e.NOT_EEA=2]="NOT_EEA",e[e.US=3]="US",e[e.OTHER=4]="OTHER"})(vD||(vD={}));const vi=Dk("AdMob",{web:()=>td(()=>import("./web-Cgg87A6o.js"),[]).then(e=>new e.AdMobWeb)}),Kl={testIds:{interstitial:"ca-app-pub-3940256099942544/1033173712",rewarded:"ca-app-pub-3940256099942544/5224354917"},rules:{firstLaunchDelaySec:60,maxInterstitialsPerSession:1}};class Yl{static instance;isInitialized=!1;sessionStartTime=Date.now();interstitialsShownThisSession=0;isFirstLaunch=!1;constructor(){this.checkFirstLaunch()}static getInstance(){return Yl.instance||(Yl.instance=new Yl),Yl.instance}checkFirstLaunch(){localStorage.getItem("murugan_app_has_launched")||(this.isFirstLaunch=!0,localStorage.setItem("murugan_app_has_launched","true"))}async initialize(){if(!this.isInitialized)try{await vi.initialize({testingDevices:[],initializeForTesting:!0});try{await vi.requestTrackingAuthorization()}catch{}this.isInitialized=!0,console.log("AdMob Initialized Successfully")}catch(t){console.error("AdMob Initialization Failed:",t)}}isSafeToShowAd(t){if(this.isFirstLaunch&&(Date.now()-this.sessionStartTime)/1e3<Kl.rules.firstLaunchDelaySec)return console.log("Ad suppressed: First launch delay active"),!1;if(t==="interstitial"){if(this.isFirstLaunch)return console.log("Ad suppressed: No interstitials on first session"),!1;if(this.interstitialsShownThisSession>=Kl.rules.maxInterstitialsPerSession)return console.log("Ad suppressed: Session limit reached"),!1}return!0}async showBanner(){this.isSafeToShowAd("banner")}async hideBanner(){await vi.hideBanner()}async removeBanner(){await vi.removeBanner()}async showInterstitial(){if(!this.isSafeToShowAd("interstitial"))return;const t={adId:Kl.testIds.interstitial};try{await vi.prepareInterstitial(t),await vi.showInterstitial(),this.interstitialsShownThisSession++}catch(r){console.error("Failed to show interstitial:",r)}}async showRewarded(t){if(!this.isSafeToShowAd("rewarded"))return;const r={adId:Kl.testIds.rewarded};try{await vi.prepareRewardVideoAd(r),await vi.showRewardVideoAd()&&t()}catch(n){console.error("Failed to show rewarded ad:",n)}}}const id=Yl.getInstance();function Ube(){const[e,t]=w.useState([]),[r,n]=w.useState(!1),a=u=>{t(h=>[`[${new Date().toLocaleTimeString()}] ${u}`,...h.slice(0,9)])},i=async()=>{a("Requesting Interstitial...");try{await id.showInterstitial(),a("Interstitial show command sent.")}catch(u){a(`Interstitial Error: ${u}`)}},o=async()=>{a("Requesting Rewarded Ad...");try{await id.showRewarded(()=>{a("Reward earned! Callback triggered.")}),a("Rewarded show command sent.")}catch(u){a(`Rewarded Error: ${u}`)}},l=async()=>{r?(a("Hiding Banner..."),await id.hideBanner(),n(!1)):(a("Showing Banner..."),await id.showBanner(),n(!0))};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(wn,{className:"w-5 h-5 text-green-600"}),"Ad Controls (Test Mode)"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cn,{className:"w-5 h-5 text-orange-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:"Test Interstitial"})]}),s.jsx("span",{className:"text-xs text-gray-400",children:"ca-app-pub...1033173712"})]}),s.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(BG,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:"Test Rewarded"})]}),s.jsx("span",{className:"text-xs text-gray-400",children:"ca-app-pub...5224354917"})]}),s.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r?s.jsx(Fn,{className:"w-5 h-5 text-red-500"}):s.jsx(At,{className:"w-5 h-5 text-blue-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:r?"Hide Banner":"Show Banner"})]}),s.jsx("span",{className:"text-xs text-gray-400",children:"ca-app-pub...6300978111"})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100 text-xs text-blue-700",children:[s.jsx("strong",{children:"Note:"})," Ads may be suppressed by launch safety rules (e.g. 60s delay on first launch, or session limits). Check console for suppression logs."]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(vr,{className:"w-5 h-5 text-green-600"}),"Active Configuration"]}),s.jsxs("div",{className:"text-sm space-y-2 text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Ads Enabled:"}),s.jsx("span",{className:"font-mono text-green-600",children:"TRUE"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Banners Enabled:"}),s.jsx("span",{className:"font-mono text-gray-400",children:"FALSE"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"First Launch Delay:"}),s.jsxs("span",{className:"font-mono",children:[Kl.rules.firstLaunchDelaySec,"s"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Session Limit:"}),s.jsx("span",{className:"font-mono",children:Kl.rules.maxInterstitialsPerSession})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-gray-700",children:"Test Logs"}),s.jsx("div",{className:"bg-black text-green-400 p-3 rounded-lg font-mono text-[10px] min-h-[100px] overflow-y-auto",children:e.length===0?"> Ready for testing...":e.map((u,h)=>s.jsx("div",{children:u},h))})]})]})]})})}function Bbe(){const e=w.useMemo(()=>[{id:"wallpapers",label:"Wallpapers"},{id:"media",label:"Media"},{id:"synced-lyrics",label:"Synced Lyrics"},{id:"sparkle",label:"Sparkle"},{id:"banners",label:"Banners"},{id:"popup-banners",label:"Popup Banners"},{id:"ads-test",label:"Ad Test"}],[]),[t,r]=w.useState("wallpapers"),n=()=>{switch(t){case"wallpapers":return s.jsx(nD,{});case"media":return s.jsx(gbe,{});case"synced-lyrics":return s.jsx(Ebe,{});case"sparkle":return s.jsx(Tbe,{});case"banners":return s.jsx(ube,{});case"popup-banners":return s.jsx(Obe,{});case"ads-test":return s.jsx(Ube,{});default:return s.jsx(nD,{})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",style:{fontFamily:"var(--font-english)"},children:"Content"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage app content modules"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1 flex-wrap",children:e.map(a=>s.jsx("button",{onClick:()=>r(a.id),className:`px-6 py-2 rounded-lg text-sm font-medium transition-all ${t===a.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:a.label},a.id))}),n()]})}function rs(e){const t=Math.max(0,Math.round(e||0));if(t<60)return`${t}s`;const r=Math.floor(t/60),n=t%60;return`${r}m ${n}s`}function xg(e={}){const t=w.useMemo(()=>[{id:"overview",label:"Overview"},{id:"features",label:"Feature Cards"},{id:"pages",label:"Pages"},{id:"events",label:"Events"},{id:"sessions",label:"Sessions"}],[]),r=w.useMemo(()=>{if(!e.allowedTabs||e.allowedTabs.length===0)return t;const ue=new Set(e.allowedTabs);return t.filter(Ve=>ue.has(Ve.id))},[t,e.allowedTabs]),[n,a]=w.useState(()=>e.defaultTab||r[0]?.id||"overview"),[i,o]=w.useState(()=>{const ue=new Date;return ue.setDate(ue.getDate()-7),ue}),[l,u]=w.useState(()=>new Date),h=i?i.toISOString():void 0,f=l?l.toISOString():void 0,[p,g]=w.useState(!1),[v,b]=w.useState(null),[y,x]=w.useState(null),[_,N]=w.useState([]),[E,C]=w.useState([]),[S,k]=w.useState(null),[A,P]=w.useState(""),[O,I]=w.useState([]),[D,L]=w.useState(null),[F,G]=w.useState([]),[K,U]=w.useState(""),[q,M]=w.useState(""),[V,Q]=w.useState(""),[z,J]=w.useState(!1),[le,se]=w.useState(null),[xe,X]=w.useState([]),[re,me]=w.useState(!1),[fe,ye]=w.useState(null),[ve,ce]=w.useState("root");w.useEffect(()=>{r.length!==0&&(r.some(ue=>ue.id===n)||a(r[0].id))},[r,n]);const Oe=async()=>{g(!0),b(null);try{const ue=await CM({from:h,to:f});x(ue?.data?.summary||null),N(ue?.data?.top_features_last_7_days||[])}catch{b(" ")}finally{g(!1)}},Ie=async()=>{g(!0),b(null);try{const ue=await cq({from:h,to:f});C(ue?.data||[])}catch{b(" ")}finally{g(!1)}},it=async()=>{g(!0),b(null);try{const ue=await PM({from:h,to:f});I(ue?.data||[])}catch{b(" ")}finally{g(!1)}},at=async()=>{g(!0),b(null);try{const ue=await Aq({event_name:K||void 0,feature_key:q||void 0,page:V||void 0,from:h,to:f,limit:200});G(ue?.data||[])}catch{b(" ")}finally{g(!1)}},lt=async()=>{g(!0),b(null);try{const ue=await dq({from:h,to:f,limit:100});X(ue?.data||[])}catch{b(" ")}finally{g(!1)}};w.useEffect(()=>{ve==="root"&&(n==="overview"&&Oe(),n==="features"&&Ie(),n==="pages"&&it(),n==="events"&&at(),n==="sessions"&&lt())},[n,h,f,ve]);const Mt=()=>{const ue=ve==="featureDetail"?S?.feature_name||"Feature":ve==="pageDetail"?D?.page_name||"Page":e.title||"Analytics";return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",style:{fontFamily:"var(--font-english)"},children:ue}),ve==="root"&&s.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:e.subtitle||"Universal analytics overview"})]}),s.jsx("div",{className:"flex items-center gap-3",children:ve!=="root"?s.jsxs("button",{onClick:()=>{ce("root"),k(null),L(null)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:[s.jsx(kN,{className:"w-4 h-4"}),s.jsx("span",{children:"Back"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ma,{onDateRangeChange:(Ve,Yt)=>{o(Ve),u(Yt)}}),s.jsxs("button",{onClick:()=>{n==="overview"&&Oe(),n==="features"&&Ie(),n==="pages"&&it(),n==="events"&&at(),n==="sessions"&&lt()},disabled:p,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${p?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]})})]})},zt=()=>ve!=="root"?null:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1",children:r.map(ue=>s.jsx("button",{onClick:()=>a(ue.id),className:`px-6 py-2 rounded-lg text-sm font-medium transition-all ${n===ue.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:ue.label},ue.id))}),Vt=()=>v?s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:v}):null,xt=()=>{const ue=y;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:ue?`${ue.sessions_today} / ${ue.sessions_7d} / ${ue.sessions_30d}`:""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Sessions (Today / 7d / 30d)"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:ue?ue.total_events.toLocaleString():""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Events"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:ue?rs(ue.avg_active_time_seconds):""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Avg Active Time"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:ue?.most_used_feature_name||""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Most Used Feature"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Features (Last 7 Days)"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Feature Name"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Impressions"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Clicks"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"CTR %"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Time Spent"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[_.map(Ve=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:async()=>{try{g(!0);const Yt=await C0(Ve.feature_key,{from:h,to:f});k(Yt?.data||null),ce("featureDetail")}catch{b(" ")}finally{g(!1)}},children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:Ve.feature_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:Ve.impressions}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:Ve.clicks}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(Ve.ctr*100).toFixed(1),"%"]}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:rs(Ve.avg_time_spent_seconds)})]},Ve.feature_key)),_.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]})]})},ht=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feature"}),s.jsxs("select",{value:A,onChange:async ue=>{const Ve=ue.target.value;if(P(Ve),!!Ve)try{g(!0);const Yt=await C0(Ve,{from:h,to:f});k(Yt?.data||null),ce("featureDetail")}catch{b(" ")}finally{g(!1)}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600",children:[s.jsx("option",{value:"",children:"Select feature"}),E.map(ue=>s.jsx("option",{value:ue.feature_key,children:ue.feature_name},ue.feature_key))]})]})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Feature Name"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Visible"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Impressions"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Clicks"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"CTR"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Time"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Clicked"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[E.map(ue=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:ue.feature_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:ue.visible?"Yes":"No"}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ue.impressions}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ue.clicks}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ue.ctr*100).toFixed(1),"%"]}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:rs(ue.avg_time_seconds)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:ue.last_clicked?new Date(ue.last_clicked).toLocaleString():""}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:s.jsx("button",{onClick:async()=>{try{g(!0);const Ve=await C0(ue.feature_key,{from:h,to:f});k(Ve?.data||null),ce("featureDetail")}catch{b(" ")}finally{g(!1)}},className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:"View Details"})})]},ue.feature_key)),E.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})})]}),kt=()=>{const ue=S;if(!ue)return s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-500",children:" "})});const[Ve,Yt]=w.useState("overview"),ne=[{id:"overview",label:"Overview"},{id:"funnel",label:"Funnel"},{id:"entry",label:"Entry Sources"}],be=ue.overview,qe=be?.total_impressions??ue.summary.total_views,Nt=be?.total_clicks??ue.summary.total_clicks,dr=be?.ctr??ue.summary.ctr,Us=be?.avg_time_spent_seconds??ue.summary.avg_active_time_seconds,Bs=be?.last_active_date,Hn=be?.hourly||[],zs=Math.max(1,...Hn.map(ft=>Number(ft.impressions||0))),zh=()=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1",children:ne.map(ft=>s.jsx("button",{onClick:()=>Yt(ft.id),className:`px-6 py-2 rounded-lg text-sm font-medium transition-all ${Ve===ft.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:ft.label},ft.id))}),Wh=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:qe}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total impressions"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:Nt}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total clicks"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:[(dr*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"CTR"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:rs(Us)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Avg time spent"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:Bs?String(Bs):""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last active date"})]})]}),Hn.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Trend"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Hourly impressions (sparkline)"})]}),s.jsx("div",{className:"flex items-end gap-1 h-16",children:Hn.map(ft=>s.jsx("div",{className:"bg-green-600/80 rounded-sm",style:{height:`${Math.max(2,Math.round(Number(ft.impressions||0)/zs*64))}px`,width:6},title:`${ft.hour}: ${ft.impressions}`},ft.hour))})]})]}),qh=()=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Funnel (Distinct sessions)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Step"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Drop-off %"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[ue.funnel.map(ft=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:ft.step}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ft.users}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ft.drop_off_pct*100).toFixed(1),"%"]})]},ft.step)),ue.funnel.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]}),Vh=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"By metadata.source"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Source"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Count"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"%"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[ue.entry_sources.map(ft=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:ft.source}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ft.count}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ft.pct*100).toFixed(1),"%"]})]},ft.source)),ue.entry_sources.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"By route"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Route"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Count"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"%"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[(ue.entry_routes||[]).map(ft=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:ft.route}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ft.count}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ft.pct*100).toFixed(1),"%"]})]},ft.route)),(!ue.entry_routes||ue.entry_routes.length===0)&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"By page"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Page"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Count"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"%"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[(ue.entry_pages||[]).map(ft=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:ft.page}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ft.count}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ft.pct*100).toFixed(1),"%"]})]},ft.page)),(!ue.entry_pages||ue.entry_pages.length===0)&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]})]});return s.jsxs("div",{className:"space-y-6",children:[zh(),Ve==="overview"&&Wh(),Ve==="funnel"&&qh(),Ve==="entry"&&Vh()]})},$r=()=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Page Name"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Views"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Time"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Scroll 100%"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Bounce %"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[O.map(ue=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:async()=>{try{g(!0);const Ve=await uq(ue.page_name,{from:h,to:f});L(Ve?.data||null),ce("pageDetail")}catch{b(" ")}finally{g(!1)}},children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:ue.page_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ue.views}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:rs(ue.avg_time_seconds)}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ue.scroll_100_pct*100).toFixed(1),"%"]}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[(ue.bounce_pct*100).toFixed(1),"%"]})]},ue.page_name)),O.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})}),qr=()=>{const ue=D;if(!ue)return s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-500",children:" "})});const Ve=ue.summary;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:Ve.views}),s.jsx("p",{className:"text-sm text-gray-500",children:"Views"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:rs(Ve.avg_time_seconds)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Avg Time"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:[(Ve.scroll_100_pct*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Scroll 100%"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:[(Ve.bounce_pct*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Bounce %"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Scroll Depth Breakdown"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Percent"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Users"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[ue.scroll_breakdown.map(Yt=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:[Yt.percent,"%"]}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:Yt.users})]},Yt.percent)),ue.scroll_breakdown.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:2,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Top Interactions"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Count"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[ue.top_interactions.map(Yt=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:Yt.event_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:Yt.count})]},Yt.event_name)),ue.top_interactions.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:2,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]})]})},pe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[s.jsx("input",{placeholder:"Event name",value:K,onChange:ue=>U(ue.target.value),className:"bg-transparent text-sm outline-none w-40"}),s.jsx("input",{placeholder:"Feature",value:q,onChange:ue=>M(ue.target.value),className:"bg-transparent text-sm outline-none w-40"}),s.jsx("input",{placeholder:"Page",value:V,onChange:ue=>Q(ue.target.value),className:"bg-transparent text-sm outline-none w-56"})]}),s.jsxs("button",{onClick:at,disabled:p,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${p?"animate-spin":""}`}),s.jsx("span",{children:"Apply"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Event Name"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Feature Key"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Page"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Metadata"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[F.map(ue=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-xs text-gray-600 whitespace-nowrap",children:new Date(ue.created_at).toLocaleString()}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:ue.event_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 font-mono",children:ue.feature_key||""}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 font-mono",children:ue.page||ue.route||""}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:s.jsxs("button",{onClick:()=>{se({title:`${ue.event_name}`,json:ue.metadata||{}}),J(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",title:"View JSON",children:[s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]})})]},ue.id)),F.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})})]}),Y=()=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Session ID"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Device"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Time"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Active Time"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Idle Time"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Pages Visited"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[xe.map(ue=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:async()=>{try{g(!0);const Ve=await hq(ue.id);ye(Ve?.data||null),me(!0)}catch{b(" ")}finally{g(!1)}},children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:ue.id}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 font-mono",children:ue.user_id||""}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:ue.device||""}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:rs(ue.total_duration_seconds)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:rs(ue.active_duration_seconds)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:rs(ue.idle_duration_seconds)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:ue.pages_visited})]},ue.id)),xe.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})}),W=()=>!z||!le?null:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-end",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>J(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-2xl h-full overflow-y-auto shadow-2xl",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Metadata"}),s.jsx("p",{className:"text-sm text-gray-500",children:le.title})]}),s.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-6",children:s.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap break-words bg-gray-50 border border-gray-200 rounded-lg p-4",children:JSON.stringify(le.json||{},null,2)})})]})]}),ie=()=>{if(!re)return null;const ue=fe;return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-end",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>me(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-2xl h-full overflow-y-auto shadow-2xl",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Session Detail"}),s.jsx("p",{className:"text-sm text-gray-500",children:ue?.session?.id||""})]}),s.jsx("button",{onClick:()=>me(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Session Summary"}),ue?.session?s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"User"}),s.jsx("p",{className:"text-gray-800 font-mono",children:ue.session.user_id||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Device"}),s.jsx("p",{className:"text-gray-800",children:ue.session.device||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Total Time"}),s.jsx("p",{className:"text-gray-800",children:rs(ue.session.total_duration_seconds)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Active Time"}),s.jsx("p",{className:"text-gray-800",children:rs(ue.session.active_duration_seconds)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Idle Time"}),s.jsx("p",{className:"text-gray-800",children:rs(ue.session.idle_duration_seconds)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Exit Reason"}),s.jsx("p",{className:"text-gray-800",children:ue.exit_reason||""})]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:" "})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Timeline"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Route"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Metadata"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[(ue?.timeline||[]).map(Ve=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-xs text-gray-600 whitespace-nowrap",children:new Date(Ve.created_at).toLocaleString()}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:Ve.event_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 font-mono",children:Ve.route||Ve.page||""}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:s.jsxs("button",{onClick:()=>{se({title:`${Ve.event_name}`,json:Ve.metadata||{}}),J(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:[s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]})})]},Ve.id)),(ue?.timeline||[]).length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Pages Visited"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Route"})})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[(ue?.pages_visited||[]).map(Ve=>s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:Ve})},Ve)),(ue?.pages_visited||[]).length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]})]})]})]})},Ee=()=>ve==="featureDetail"?kt():ve==="pageDetail"?qr():n==="overview"?xt():n==="features"?ht():n==="pages"?$r():n==="events"?pe():n==="sessions"?Y():null;return s.jsxs("div",{className:"space-y-6",children:[Mt(),zt(),Vt(),Ee(),W(),ie()]})}const zbe=O_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Cr({className:e,variant:t,asChild:r=!1,...n}){const a=r?n3:"span";return s.jsx(a,{"data-slot":"badge",className:tt(zbe({variant:t}),e),...n})}const Wbe={wallpaper:s.jsx(Ed,{className:"w-5 h-5"}),song:s.jsx(Os,{className:"w-5 h-5"}),video:s.jsx(u3,{className:"w-5 h-5"}),sparkle:s.jsx(ic,{className:"w-5 h-5"}),photo:s.jsx(R_,{className:"w-5 h-5"}),ask_gugan:s.jsx(a3,{className:"w-5 h-5"}),banner:s.jsx(or,{className:"w-5 h-5"})},qbe={view:s.jsx(At,{className:"w-4 h-4"}),like:s.jsx(jr,{className:"w-4 h-4"}),unlike:s.jsx(o3,{className:"w-4 h-4"}),download:s.jsx(Ua,{className:"w-4 h-4"}),share:s.jsx(Ba,{className:"w-4 h-4"}),play:s.jsx(wn,{className:"w-4 h-4"}),watch_complete:s.jsx(Wn,{className:"w-4 h-4"}),read:s.jsx(P_,{className:"w-4 h-4"}),click:s.jsx(D_,{className:"w-4 h-4"})};function Vbe(){const[e,t]=w.useState(null),[r,n]=w.useState({}),[a,i]=w.useState(!0),[o,l]=w.useState(new Set),[u,h]=w.useState(!1);w.useEffect(()=>{f()},[]);const f=async()=>{i(!0);try{const x=await(await Je("/api/analytics/admin/dashboard",{headers:{Authorization:`Bearer ${he}`}})).json();x.success&&t(x.dashboard);const N=await(await Je("/api/analytics/admin/config",{headers:{Authorization:`Bearer ${he}`}})).json();N.success&&(n(N.config),l(new Set(Object.keys(N.config))))}catch(y){console.error("Error loading analytics:",y),ee.error("Failed to load analytics")}finally{i(!1)}},p=y=>{l(x=>{const _=new Set(x);return _.has(y)?_.delete(y):_.add(y),_})},g=async(y,x,_)=>{try{(await(await Je("/api/analytics/admin/config",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:y,event_type:x,updates:{is_enabled:!_}})})).json()).success?(ee.success(`${x} tracking ${_?"disabled":"enabled"}`),f()):ee.error("Failed to update configuration")}catch(N){console.error("Error updating config:",N),ee.error("Failed to update configuration")}},v=async(y,x)=>{try{(await(await Je("/api/analytics/admin/reset",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:y,item_id:null,event_type:x})})).json()).success?(ee.success(`Reset ${x} stats for ${y}`),f()):ee.error("Failed to reset stats")}catch(_){console.error("Error resetting stats:",_),ee.error("Failed to reset stats")}},b=async()=>{h(!0);try{(await(await Je("/api/analytics/admin/refresh",{method:"POST",headers:{Authorization:`Bearer ${he}`}})).json()).success?(ee.success("Analytics cache refreshed"),f()):ee.error("Failed to refresh cache")}catch(y){console.error("Error refreshing cache:",y),ee.error("Failed to refresh cache")}finally{h(!1)}};return a?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(mt,{className:"w-8 h-8 animate-spin text-[#0d5e38]"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Control Center"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Unified IP-based tracking for all modules  Real-time insights"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Te,{onClick:b,variant:"outline",disabled:u,className:"gap-2",children:[s.jsx(mt,{className:`w-4 h-4 ${u?"animate-spin":""}`}),"Refresh Cache"]}),s.jsx(bD,{onSuccess:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:e?.total_events?.toLocaleString()||0})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(en,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unique Users (IP)"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:e?.unique_ips?.toLocaleString()||0})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(un,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Modules"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Object.keys(r).length})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(or,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"space-y-4",children:Object.entries(r).map(([y,x])=>{const _=e?.modules?.[y],N=o.has(y);return s.jsxs(We,{className:"overflow-hidden",children:[s.jsxs("button",{onClick:()=>p(y),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#0d5e38]/10 rounded-lg flex items-center justify-center",children:Wbe[y]||s.jsx(or,{className:"w-5 h-5 text-[#0d5e38]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 capitalize",children:y.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[s.jsxs("span",{children:[_?.total_events?.toLocaleString()||0," events"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[_?.unique_items||0," items"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[_?.unique_ips||0," unique users"]})]})]})]}),N?s.jsx(i3,{className:"w-5 h-5 text-gray-400"}):s.jsx(Ho,{className:"w-5 h-5 text-gray-400"})]}),N&&s.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:s.jsx("div",{className:"p-6 space-y-3",children:x.sort((E,C)=>E.sort_order-C.sort_order).map(E=>{const C=_?.events_by_type?.[E.event_type]||0;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:qbe[E.event_type]||s.jsx(or,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:E.display_name}),s.jsx(Cr,{variant:E.is_enabled?"default":"secondary",className:E.is_enabled?"bg-green-100 text-green-800":"",children:E.is_enabled?"Active":"Disabled"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:E.description||`Track ${E.event_type} events`})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.toLocaleString()}),s.jsx("p",{className:"text-xs text-gray-500",children:"unique"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ca,{checked:E.is_enabled,onCheckedChange:()=>g(E.module_name,E.event_type,E.is_enabled)}),s.jsxs(N6,{children:[s.jsx(_6,{asChild:!0,children:s.jsxs(Te,{variant:"outline",size:"sm",className:"gap-1",disabled:C===0,children:[s.jsx(mt,{className:"w-3 h-3"}),"Reset"]})}),s.jsxs(S6,{children:[s.jsxs(k6,{children:[s.jsxs(A6,{children:["Reset ",E.display_name,"?"]}),s.jsxs(T6,{children:["This will permanently delete all ",C.toLocaleString()," tracking records for this event across all items in ",y,". This action cannot be undone."]})]}),s.jsxs(E6,{children:[s.jsx(C6,{children:"Cancel"}),s.jsx(O6,{onClick:()=>v(E.module_name,E.event_type),className:"bg-red-600 hover:bg-red-700",children:"Reset Stats"})]})]})]})]})]})]},E.id)})})})]},y)})}),Object.keys(r).length===0&&s.jsx(We,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Analytics Configuration Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Run the database migration to set up the analytics system."}),s.jsx(bD,{onSuccess:f})]})})]})}function bD({onSuccess:e}){const[t,r]=w.useState(!1),[n,a]=w.useState(""),[i,o]=w.useState(""),[l,u]=w.useState(""),[h,f]=w.useState(""),[p,g]=w.useState(""),[v,b]=w.useState(!1),y=async x=>{x.preventDefault(),b(!0);try{const N=await(await Je("/api/analytics/admin/config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:n,event_type:i,display_name:l,description:h,icon:p})})).json();N.success?(ee.success("Event type added successfully"),r(!1),e(),a(""),o(""),u(""),f(""),g("")):ee.error(N.error||"Failed to add event type")}catch(_){console.error("Error adding event:",_),ee.error("Failed to add event type")}finally{b(!1)}};return s.jsxs(Pd,{open:t,onOpenChange:r,children:[s.jsx(FN,{asChild:!0,children:s.jsxs(Te,{className:"bg-[#0d5e38] hover:bg-[#0a5b34] gap-2",children:[s.jsx(_r,{className:"w-4 h-4"}),"Add Event Type"]})}),s.jsx(Rd,{className:"sm:max-w-[500px]",children:s.jsxs("form",{onSubmit:y,children:[s.jsxs(Id,{children:[s.jsx(Dd,{children:"Add New Event Type"}),s.jsx(dS,{children:"Create a new trackable event for any module. This will immediately start tracking once enabled."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(vn,{htmlFor:"moduleName",children:"Module Name *"}),s.jsx(ir,{id:"moduleName",placeholder:"e.g., wallpaper, song, custom_module",value:n,onChange:x=>a(x.target.value.toLowerCase()),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vn,{htmlFor:"eventType",children:"Event Type *"}),s.jsx(ir,{id:"eventType",placeholder:"e.g., view, like, custom_action",value:i,onChange:x=>o(x.target.value.toLowerCase()),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vn,{htmlFor:"displayName",children:"Display Name *"}),s.jsx(ir,{id:"displayName",placeholder:"e.g., Wallpaper Views, Custom Action",value:l,onChange:x=>u(x.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vn,{htmlFor:"description",children:"Description"}),s.jsx(pm,{id:"description",placeholder:"Brief description of what this tracks",value:h,onChange:x=>f(x.target.value),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vn,{htmlFor:"icon",children:"Icon Name (Lucide)"}),s.jsx(ir,{id:"icon",placeholder:"e.g., Eye, Heart, Download",value:p,onChange:x=>g(x.target.value)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Optional: Icon name from Lucide React icons"})]})]}),s.jsxs(fm,{children:[s.jsx(Te,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(Te,{type:"submit",className:"bg-[#0d5e38] hover:bg-[#0a5b34]",disabled:v,children:v?"Adding...":"Add Event Type"})]})]})})]})}var Ax="Tabs",[Hbe]=Ds(Ax,[Rg]),IU=Rg(),[Gbe,Mk]=Hbe(Ax),DU=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...h}=e,f=kg(l),[p,g]=Pi({prop:n,onChange:a,defaultProp:i??"",caller:Ax});return s.jsx(Gbe,{scope:r,baseId:Es(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:u,children:s.jsx(st.div,{dir:f,"data-orientation":o,...h,ref:t})})});DU.displayName=Ax;var MU="TabsList",$U=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Mk(MU,r),o=IU(r);return s.jsx(H3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(st.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});$U.displayName=MU;var LU="TabsTrigger",FU=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Mk(LU,r),l=IU(r),u=zU(o.baseId,n),h=WU(o.baseId,n),f=n===o.value;return s.jsx(G3,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(st.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u,...i,ref:t,onMouseDown:Pe(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Pe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Pe(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!a&&p&&o.onValueChange(n)})})})});FU.displayName=LU;var UU="TabsContent",BU=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Mk(UU,r),u=zU(l.baseId,n),h=WU(l.baseId,n),f=n===l.value,p=w.useRef(f);return w.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Ms,{present:a||f,children:({present:g})=>s.jsx(st.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:h,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});BU.displayName=UU;function zU(e,t){return`${e}-trigger-${t}`}function WU(e,t){return`${e}-content-${t}`}var Kbe=DU,Ybe=$U,Xbe=FU,Jbe=BU;function Qbe({className:e,...t}){return s.jsx(Kbe,{"data-slot":"tabs",className:tt("flex flex-col gap-2",e),...t})}function Zbe({className:e,...t}){return s.jsx(Ybe,{"data-slot":"tabs-list",className:tt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function nN({className:e,...t}){return s.jsx(Xbe,{"data-slot":"tabs-trigger",className:tt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function sN({className:e,...t}){return s.jsx(Jbe,{"data-slot":"tabs-content",className:tt("flex-1 outline-none",e),...t})}var ewe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],twe=ewe.reduce((e,t)=>{const r=T_(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),rwe="Separator",wD="horizontal",nwe=["horizontal","vertical"],qU=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=wD,...a}=e,i=swe(n)?n:wD,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(twe.div,{"data-orientation":i,...l,...a,ref:t})});qU.displayName=rwe;function swe(e){return nwe.includes(e)}var awe=qU;function VU({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return s.jsx(awe,{"data-slot":"separator-root",decorative:r,orientation:t,className:tt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}const jD={Eye:At,Heart:jr,HeartOff:o3,Download:Ua,Share2:Ba,Play:wn,CheckCircle:Wn,BookOpen:P_,Music:Os,Send:TN,MessageCircle:Co,MousePointer:D_};function iwe(){const[e,t]=w.useState(!0),[r,n]=w.useState([]),[a,i]=w.useState(null),[o,l]=w.useState(null),[u,h]=w.useState(null),[f,p]=w.useState("overview"),[g,v]=w.useState(!1);w.useEffect(()=>{b()},[]);async function b(){t(!0),h(null);try{const k=await(await Je("/api/analytics/admin/status",{headers:{Authorization:`Bearer ${he}`}})).json();if(l(k.status),!k.status?.installed){h("Analytics system is not installed. Please run the migration SQL file."),t(!1);return}const P=await(await Je("/api/analytics/admin/config",{headers:{Authorization:`Bearer ${he}`}})).json();P.success&&n(P.all||[]);const I=await(await Je("/api/analytics/admin/dashboard",{headers:{Authorization:`Bearer ${he}`}})).json();I.success&&i(I.dashboard)}catch(S){console.error("Load analytics error:",S),h(S.message)}finally{t(!1)}}async function y(S){try{const A=await(await Je("/api/analytics/admin/config",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:S.module_name,event_type:S.event_type,updates:{is_enabled:!S.is_enabled}})})).json();A.success?n(P=>P.map(O=>O.id===S.id?{...O,is_enabled:!O.is_enabled}:O)):alert(`Failed to update: ${A.error}`)}catch(k){alert(`Error: ${k.message}`)}}async function x(S,k,A){if(confirm(`Are you sure you want to reset all stats for ${S} (all items)?`))try{const O=await(await Je("/api/analytics/admin/reset",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:S,item_id:k||"00000000-0000-0000-0000-000000000000",event_type:A||null})})).json();O.success?(alert(`Reset successful! Deleted ${O.result.deleted_count} records.`),b()):alert(`Reset failed: ${O.error}`)}catch(P){alert(`Error: ${P.message}`)}}async function _(){v(!0);try{const k=await(await Je("/api/analytics/admin/refresh",{method:"POST",headers:{Authorization:`Bearer ${he}`}})).json();k.success?(alert("Analytics cache refreshed successfully!"),b()):alert(`Refresh failed: ${k.error}`)}catch(S){alert(`Error: ${S.message}`)}finally{v(!1)}}async function N(){if(confirm("This will attempt to initialize the analytics system. Continue?")){t(!0);try{const k=await(await Je("/api/analytics/admin/initialize",{method:"POST",headers:{Authorization:`Bearer ${he}`}})).json();k.success?(alert("Analytics system initialized! Please check the migration status."),b()):alert(`Initialization failed: ${k.message}

Please run the migration SQL file manually.`)}catch(S){alert(`Error: ${S.message}`)}finally{t(!1)}}}const E=r.reduce((S,k)=>(S[k.module_name]||(S[k.module_name]=[]),S[k.module_name].push(k),S),{}),C=Object.keys(E).sort();return e?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-[#0d5e38]"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics system..."})]})}):u&&!o?.installed?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ti,{variant:"destructive",children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsxs(Eo,{children:[s.jsx("strong",{children:"Analytics System Not Installed"}),s.jsx("p",{className:"mt-2",children:"The unified analytics database has not been set up yet."}),s.jsx("p",{className:"mt-2",children:"Please open Supabase SQL Editor and run the migration file:"}),s.jsx("code",{className:"block bg-black/10 p-2 rounded mt-2 text-sm",children:"/MIGRATION_READY_TO_COPY.sql"})]})]}),s.jsxs(We,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Installation Instructions"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsxs("li",{children:["Open your ",s.jsx("strong",{children:"User Panel Supabase"})," project (not Admin)"]}),s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"SQL Editor"})]}),s.jsxs("li",{children:["Copy the entire contents of ",s.jsx("code",{children:"/MIGRATION_READY_TO_COPY.sql"})]}),s.jsxs("li",{children:["Paste into SQL Editor and click ",s.jsx("strong",{children:"RUN"})]}),s.jsx("li",{children:'Wait for "Analytics system installed successfully!" message'}),s.jsx("li",{children:'Return here and click the "Verify Installation" button below'})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs(Te,{onClick:b,variant:"outline",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Verify Installation"]}),s.jsxs(Te,{onClick:N,variant:"default",children:[s.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Auto-Initialize (Experimental)"]})]})]}),o&&s.jsxs(We,{className:"p-4 bg-gray-50",children:[s.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"System Status"}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(o,null,2)})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Unified Analytics Manager"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"IP-based tracking system for all modules"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Te,{onClick:b,variant:"outline",size:"sm",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Reload"]}),s.jsxs(Te,{onClick:_,variant:"outline",size:"sm",disabled:g,children:[s.jsx(Dr,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),"Refresh Cache"]})]})]}),o&&s.jsx(We,{className:"p-4 bg-green-50 border-green-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vr,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-green-900",children:"Analytics System Active"}),s.jsx("p",{className:"text-sm text-green-700",children:"All tables and functions are operational"})]}),a&&s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-bold text-green-900",children:a.total_events?.toLocaleString()}),s.jsx("p",{className:"text-green-700",children:"Total Events"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-bold text-green-900",children:a.unique_ips?.toLocaleString()}),s.jsx("p",{className:"text-green-700",children:"Unique IPs"})]})]})]})}),s.jsxs(Qbe,{value:f,onValueChange:p,children:[s.jsxs(Zbe,{children:[s.jsx(nN,{value:"overview",children:"Overview"}),s.jsx(nN,{value:"modules",children:"Modules"}),s.jsx(nN,{value:"config",children:"Configuration"})]}),s.jsx(sN,{value:"overview",className:"space-y-4 mt-6",children:a&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:C.map(S=>{const k=a.modules?.[S];return k?s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold capitalize",children:S}),s.jsx(Te,{onClick:()=>x(S),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:s.jsx(zr,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Events"}),s.jsx("span",{className:"font-semibold",children:k.total_events?.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Unique Items"}),s.jsx("span",{className:"font-semibold",children:k.unique_items?.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Unique IPs"}),s.jsx("span",{className:"font-semibold",children:k.unique_ips?.toLocaleString()})]})]}),k.events_by_type&&s.jsxs(s.Fragment,{children:[s.jsx(VU,{className:"my-3"}),s.jsx("div",{className:"space-y-1",children:Object.entries(k.events_by_type).map(([A,P])=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500 capitalize",children:A}),s.jsx(Cr,{variant:"secondary",className:"text-xs",children:P})]},A))})]})]},S):null})})}),s.jsx(sN,{value:"modules",className:"space-y-6 mt-6",children:C.map(S=>{const k=E[S],A=a?.modules?.[S];return s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold capitalize",children:S}),A&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[A.total_events," events  ",A.unique_items," items  ",A.unique_ips," unique users"]})]}),s.jsxs(Te,{onClick:()=>x(S),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[s.jsx(zr,{className:"h-4 w-4 mr-2"}),"Reset All"]})]}),s.jsx("div",{className:"space-y-2",children:k.map(P=>{const O=jD[P.icon]||At,I=A?.events_by_type?.[P.event_type]||0;return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border hover:bg-gray-50",children:[s.jsx(O,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:P.display_name}),s.jsx("p",{className:"text-xs text-gray-500",children:P.description})]}),s.jsx(Cr,{variant:P.is_enabled?"default":"secondary",children:I.toLocaleString()}),s.jsx(Ca,{checked:P.is_enabled,onCheckedChange:()=>y(P)})]},P.id)})})]},S)})}),s.jsx(sN,{value:"config",className:"mt-6",children:s.jsxs(We,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Event Types Configuration"}),s.jsx("div",{className:"space-y-3",children:r.map(S=>{const k=jD[S.icon]||At;return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[s.jsx(k,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4 text-sm",children:[s.jsx("div",{children:s.jsx("p",{className:"font-medium",children:S.module_name})}),s.jsx("div",{children:s.jsx("p",{className:"text-gray-600",children:S.event_type})}),s.jsx("div",{children:s.jsx("p",{children:S.display_name})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Cr,{variant:S.is_enabled?"default":"secondary",className:"text-xs",children:S.is_enabled?"Enabled":"Disabled"}),s.jsx(Cr,{variant:S.track_anonymous?"outline":"secondary",className:"text-xs",children:S.track_anonymous?"Anonymous":"Auth Only"})]})]}),s.jsx(Ca,{checked:S.is_enabled,onCheckedChange:()=>y(S)})]},S.id)})})]})})]})]})}function owe(e){const t=Math.max(0,Math.round(e||0));if(t<60)return`${t}s`;const r=Math.floor(t/60),n=t%60;return`${r}m ${n}s`}function ND(){const e=w.useMemo(()=>new Date,[]),[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState(null),[l,u]=w.useState([]),[h,f]=w.useState(!1),[p,g]=w.useState(null),v=async()=>{r(!0),a(null);try{const y=e.toISOString(),x=new Date(e.getTime()-720*60*60*1e3).toISOString(),[_,N]=await Promise.all([CM({from:x,to:y}),Oq({acknowledged:!1,limit:100})]);o(_?.data?.summary||null),u(N?.data||[])}catch{a(" ")}finally{r(!1)}};w.useEffect(()=>{v()},[]);const b=l.length;return s.jsxs("div",{className:"space-y-6",children:[n&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:n}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:i?`${i.sessions_today} / ${i.sessions_7d} / ${i.sessions_30d}`:""}),s.jsx("p",{className:"text-sm text-gray-500",children:"DAU / WAU / MAU"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:""}),s.jsx("p",{className:"text-sm text-gray-500",children:"New Installs (Last 7 days)"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:i?owe(i.avg_active_time_seconds):""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Avg Active Time"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Retention (D1)"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:i?.most_used_feature_name||""}),s.jsx("p",{className:"text-sm text-gray-500",children:"Most Used Feature (Last 7 days)"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:t?"":b.toLocaleString()}),s.jsx("p",{className:"text-sm text-gray-500",children:"Alerts / Insights"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"What Needs Attention"}),s.jsx("button",{onClick:()=>v(),disabled:t,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:s.jsx("span",{children:t?"Refreshing":"Refresh"})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Severity"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Recommendation"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[l.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:y.insight_type}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:y.severity}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:y.recommendation}),s.jsx("td",{className:"px-3 py-2 text-right",children:s.jsx("button",{onClick:()=>{g({title:y.title,row:y}),f(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:s.jsx("span",{children:"View"})})})]},y.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-10 text-center text-sm text-gray-500",children:" "})})]})]})})]}),h&&p&&s.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[s.jsx("div",{className:"flex-1 bg-black/30",onClick:()=>f(!1)}),s.jsxs("div",{className:"w-full max-w-xl bg-white h-full shadow-xl p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:p.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(p.row.created_at).toLocaleString()})]}),s.jsx("button",{onClick:()=>f(!1),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:"Close"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase",children:"Type"}),s.jsx("div",{className:"text-sm text-gray-800",children:p.row.insight_type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase",children:"Severity"}),s.jsx("div",{className:"text-sm text-gray-800",children:p.row.severity})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase",children:"Description"}),s.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:p.row.description})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase",children:"Recommendation"}),s.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:p.row.recommendation})]}),(p.row.related_feature_key||p.row.related_page)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase",children:"Related"}),s.jsxs("div",{className:"text-sm text-gray-800",children:[p.row.related_feature_key?`Feature: ${p.row.related_feature_key}`:"",p.row.related_feature_key&&p.row.related_page?"  ":"",p.row.related_page?`Page: ${p.row.related_page}`:""]})]}),p.row.metric_snapshot&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase",children:"Metric snapshot"}),s.jsx("pre",{className:"text-xs bg-gray-50 border border-gray-200 rounded-lg p-3 overflow-x-auto",children:JSON.stringify(p.row.metric_snapshot,null,2)})]})]})]})]})]})}function lwe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsx(xg,{title:"Product",subtitle:"Behavior analytics",defaultTab:"features",allowedTabs:["features"]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"User Flow"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Dashboard  Feature  Exit"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Retention"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"D1 / D7 / D30  Festival vs Non-festival cohorts"})]})]})}function cwe(){const e=w.useMemo(()=>new Date,[]),[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState([]),[l,u]=w.useState(null),h=async()=>{r(!0),a(null);try{const p=e.toISOString(),g=new Date(e.getTime()-720*60*60*1e3).toISOString(),[v,b]=await Promise.all([PM({from:g,to:p}),Tq({page:"murugan-calendar",from:g,to:p})]);o(v?.data||[]),u(b?.data||null)}catch{a(" ")}finally{r(!1)}};w.useEffect(()=>{h()},[]);const f=w.useMemo(()=>{const p=new Set(["popular-temples","temple-detail"]);return i.filter(g=>p.has(String(g.page_name||"")))},[i]);return s.jsxs("div",{className:"space-y-6",children:[n&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:n}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Songs"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Completion and repeat matter more than views"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Plays"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Completion rate"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Repeat plays"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Avg listening time"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Videos"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Watch time and drop-off"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Watch time"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Drop-off %"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Temple Pages"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Views and region (country/state)"}),s.jsx("div",{className:"overflow-x-auto mt-4",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Page"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Views"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Time"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Scroll 100%"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[f.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:p.page_name}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:p.views}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[Math.round(p.avg_time_seconds||0),"s"]}),s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:[((p.scroll_100_pct||0)*100).toFixed(1),"%"]})]},p.page_name)),f.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-3 py-10 text-center text-sm text-gray-500",children:t?"Loading":" "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Calendar Usage"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sashti days, festival spikes, daily usage patterns"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Date selects (30d)"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:l?l.totals.calendar_date_selects.toLocaleString():t?"":""})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Calendar page views (30d)"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:l?l.totals.views.toLocaleString():t?"":""})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Sashti day usage"}),s.jsx("div",{className:"text-xl font-bold text-gray-800",children:""})]})]}),s.jsx("div",{className:"overflow-x-auto mt-4",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Date selects"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Views"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[(l?.daily||[]).slice(-14).map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-mono",children:p.date}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:p.calendar_date_selects}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right",children:p.views})]},p.date)),(!l||(l.daily||[]).length===0)&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-3 py-10 text-center text-sm text-gray-500",children:t?"Loading":" "})})]})]})}),s.jsx("div",{className:"text-sm text-gray-500 mt-4"})]}),s.jsx(xg,{title:"Content",subtitle:"Page engagement",defaultTab:"pages",allowedTabs:["pages"]})]})}function uwe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Installs"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Daily installs and weekly installs (privacy-first)"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Active Users"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"DAU / WAU and time-of-day usage"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Open rate and festival effectiveness"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"In-App Messages"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"CTR and dismiss rate"})]})]})}function dwe(){const[e,t]=w.useState(null),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState("");w.useEffect(()=>{u(),h()},[]);const u=async()=>{n(!0);try{const b=await Je("/api/analytics/admin/status",{headers:{Authorization:`Bearer ${he}`}});if(!b.ok)throw new Error(`Status check failed: ${b.statusText}`);const y=await b.json();t(y.status)}catch(b){console.error("[Analytics Setup] Status check error:",b),ee.error(`Failed to check status: ${b.message}`)}finally{n(!1)}},h=async()=>{try{const b=await Je("/api/analytics/admin/install-guide",{headers:{Authorization:`Bearer ${he}`}});if(b.ok){const y=await b.json();l(y.guide)}}catch(b){console.error("[Analytics Setup] Failed to load install guide:",b)}},f=async()=>{i(!0),ee.info("Attempting automatic initialization...");try{const b=await Je("/api/analytics/admin/initialize",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`}});if(!b.ok)throw new Error(`Initialization failed: ${b.statusText}`);const y=await b.json();y.success?(ee.success("Analytics system initialized!"),await u()):ee.error(y.message||"Initialization failed"),console.log("[Analytics Setup] Init result:",y)}catch(b){console.error("[Analytics Setup] Init error:",b),ee.error(`Initialization error: ${b.message}`)}finally{i(!1)}},p=()=>{navigator.clipboard.writeText("/MIGRATION_READY_TO_COPY.sql"),ee.success("Migration file path copied! Open this file and copy its contents.")},g=()=>{const b=`https://supabase.com/dashboard/project/${He}/sql`;window.open(b,"_blank"),ee.info("Opening Supabase SQL Editor...")};if(r)return s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(mt,{className:"size-8 animate-spin text-[#0d5e38]"}),s.jsx("span",{className:"ml-3 text-[#0d5e38]",children:"Checking analytics system status..."})]})});const v=e?.installed&&e?.tables?.analytics_tracking==="exists"&&e?.tables?.analytics_config==="exists"&&e?.functions?.get_analytics_dashboard==="exists";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl",children:s.jsx("span",{className:"font-['Inter']",children:"Analytics System Status"})}),s.jsxs(Te,{onClick:u,variant:"outline",size:"sm",disabled:r,children:[s.jsx(mt,{className:`size-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[v?s.jsx(vr,{className:"size-6 text-green-600 mr-3"}):s.jsx(cn,{className:"size-6 text-amber-600 mr-3"}),s.jsx("span",{className:"font-medium",children:v?" Fully Installed":" Setup Required"})]}),s.jsx(Cr,{variant:v?"default":"destructive",children:v?"Ready":"Not Ready"})]}),s.jsxs("div",{className:"pl-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" Database Tables"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Cr,{variant:e?.tables?.analytics_tracking==="exists"?"default":"outline",children:[e?.tables?.analytics_tracking==="exists"?"":""," analytics_tracking"]}),s.jsxs(Cr,{variant:e?.tables?.analytics_config==="exists"?"default":"outline",children:[e?.tables?.analytics_config==="exists"?"":""," analytics_config"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" RPC Functions"}),s.jsxs(Cr,{variant:e?.functions?.get_analytics_dashboard==="exists"?"default":"outline",children:[e?.functions?.get_analytics_dashboard==="exists"?"":""," Functions"]})]}),e?.config?.entries!==void 0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" Configuration"}),s.jsxs(Cr,{variant:"secondary",children:[e.config.entries," events configured"]})]})]})]})]}),!v&&s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Dr,{className:"size-6 text-[#0d5e38] mr-3"}),s.jsx("h2",{className:"text-xl",children:s.jsx("span",{className:"font-['Inter']",children:"Installation Required"})})]}),s.jsxs(Ti,{className:"mb-6 bg-amber-50 border-amber-200",children:[s.jsx(cn,{className:"size-4 text-amber-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"font-medium text-amber-900",children:"Manual Migration Required"}),s.jsx("div",{className:"text-sm text-amber-700 mt-1",children:"The analytics system requires database tables and functions that must be created using SQL Editor."})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"size-8 rounded-full bg-[#0d5e38] text-white flex items-center justify-center font-bold",children:"1"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Open Migration File"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Locate and open the file ",s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"/MIGRATION_READY_TO_COPY.sql"})," in your project."]}),s.jsxs(Te,{onClick:p,variant:"outline",size:"sm",children:[s.jsx(ac,{className:"size-4 mr-2"}),"Copy File Path"]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"size-8 rounded-full bg-[#0d5e38] text-white flex items-center justify-center font-bold",children:"2"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Open Supabase SQL Editor"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Go to your ",s.jsx("strong",{children:"User Panel Supabase project"})," (not Admin) and navigate to the SQL Editor."]}),s.jsxs(Te,{onClick:g,variant:"outline",size:"sm",children:[s.jsx(Ci,{className:"size-4 mr-2"}),"Open SQL Editor"]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"size-8 rounded-full bg-[#0d5e38] text-white flex items-center justify-center font-bold",children:"3"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Copy & Paste SQL"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Copy the ",s.jsx("strong",{children:"ENTIRE contents"})," of the migration file and paste it into the SQL Editor."]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"size-8 rounded-full bg-[#0d5e38] text-white flex items-center justify-center font-bold",children:"4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Run Migration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Click the ",s.jsx("strong",{children:"RUN"})," button in Supabase SQL Editor and wait for the success message."]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"size-8 rounded-full bg-[#0d5e38] text-white flex items-center justify-center font-bold",children:"5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Verify Installation"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:'Return to this page and click "Refresh" to verify all components are installed correctly.'}),s.jsxs(Te,{onClick:u,className:"bg-[#0d5e38] hover:bg-[#0a4a2a]",children:[s.jsx(vr,{className:"size-4 mr-2"}),"Verify Installation"]})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(cn,{className:"size-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[s.jsx("strong",{children:"Alternative:"})," You can attempt automatic initialization, but this may fail due to database permissions. Manual migration is recommended."]}),s.jsxs(Te,{onClick:f,variant:"outline",size:"sm",disabled:a,children:[s.jsx(EN,{className:`size-4 mr-2 ${a?"animate-spin":""}`}),a?"Initializing...":"Try Auto-Initialize"]})]})]})})]}),v&&s.jsxs(We,{className:"p-6 bg-green-50 border-green-200",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(vr,{className:"size-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-['Inter'] text-green-900",children:"Analytics System Ready!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"All components are installed and functioning correctly."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e?.config?.entries||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Event Types Configured"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:""}),s.jsx("div",{className:"text-sm text-gray-600",children:"IP-Based Tracking Active"})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsxs(Te,{onClick:()=>window.location.href="#analytics-testing",className:"bg-[#0d5e38] hover:bg-[#0a4a2a]",children:[s.jsx(EN,{className:"size-4 mr-2"}),"Run Test Suite"]}),s.jsxs(Te,{onClick:u,variant:"outline",children:[s.jsx(mt,{className:"size-4 mr-2"}),"Refresh Status"]})]})]}),o&&!v&&s.jsx(We,{className:"p-6",children:s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"flex items-center font-semibold mb-2",children:[s.jsx(P_,{className:"size-5 mr-2 text-[#0d5e38]"}),s.jsx("span",{className:"font-['TAU-Paalai_Bold']",children:"View Complete Installation Guide"})]}),s.jsx("pre",{className:"mt-4 p-4 bg-gray-50 rounded-lg text-xs overflow-x-auto border",children:o})]})})]})}function hwe(){const[e,t]=w.useState([{name:"Database Tables",status:"pending",message:"Not run yet"},{name:"Database Functions",status:"pending",message:"Not run yet"},{name:"Config Seeding",status:"pending",message:"Not run yet"},{name:"Track Endpoint",status:"pending",message:"Not run yet"},{name:"Untrack Endpoint",status:"pending",message:"Not run yet"},{name:"Stats Endpoint",status:"pending",message:"Not run yet"},{name:"Check Endpoint",status:"pending",message:"Not run yet"},{name:"IP-Based Uniqueness",status:"pending",message:"Not run yet"},{name:"Like/Unlike Toggle",status:"pending",message:"Not run yet"},{name:"Admin Dashboard",status:"pending",message:"Not run yet"},{name:"Admin Config",status:"pending",message:"Not run yet"},{name:"Reset Function",status:"pending",message:"Not run yet"}]),[r,n]=w.useState("00000000-0000-0000-0000-000000000001"),[a,i]=w.useState(!1),o=(O,I)=>{t(D=>D.map(L=>L.name===O?{...L,...I}:L))},l=async()=>{i(!0),ee.info("Running all tests..."),t(O=>O.map(I=>({...I,status:"pending",message:"Waiting..."}))),await u(),await h(),await f(),await p(),await g(),await v(),await b(),await y(),await x(),await _(),await N(),await E(),i(!1),ee.success("All tests completed!")},u=async()=>{o("Database Tables",{status:"running",message:"Checking tables..."});try{const O=jN(`https://${He}.supabase.co`,he),{data:I,error:D}=await O.from("analytics_tracking").select("*").limit(1),{data:L,error:F}=await O.from("analytics_config").select("*").limit(1);if(D||F)throw new Error(`Tables not found. Run migration first: ${D?.message||F?.message}`);o("Database Tables",{status:"passed",message:" analytics_tracking and analytics_config tables exist",details:{trackingRows:I?.length,configRows:L?.length}})}catch(O){o("Database Tables",{status:"failed",message:` ${O.message}`,details:O})}},h=async()=>{o("Database Functions",{status:"running",message:"Checking functions..."});try{const O=jN(`https://${He}.supabase.co`,he),{data:I,error:D}=await O.rpc("get_analytics_dashboard");if(D)throw new Error(`Function not found: ${D.message}`);o("Database Functions",{status:"passed",message:" All RPC functions available",details:I})}catch(O){o("Database Functions",{status:"failed",message:` ${O.message}`,details:O})}},f=async()=>{o("Config Seeding",{status:"running",message:"Checking config..."});try{const I=await(await Je("/api/analytics/admin/config",{headers:{Authorization:`Bearer ${he}`}})).json();if(!I.success||!I.config)throw new Error("Config not seeded");const D=Object.keys(I.config).length,L=I.all?.length||0;if(D===0||L===0)throw new Error("No config entries found. Migration may not have seeded defaults.");o("Config Seeding",{status:"passed",message:` ${D} modules, ${L} events configured`,details:I.config})}catch(O){o("Config Seeding",{status:"failed",message:` ${O.message}`,details:O})}},p=async()=>{o("Track Endpoint",{status:"running",message:"Testing track..."});try{const O=await yr.track("wallpaper",r,"view",{test:!0});if(!O.success)throw new Error("Track endpoint failed");o("Track Endpoint",{status:"passed",message:` Track successful (count: ${O.unique_count})`,details:O})}catch(O){o("Track Endpoint",{status:"failed",message:` ${O.message}`,details:O})}},g=async()=>{o("Untrack Endpoint",{status:"running",message:"Testing untrack..."});try{await yr.track("wallpaper",r,"like");const O=await yr.untrack("wallpaper",r,"like");if(!O.success)throw new Error("Untrack endpoint failed");o("Untrack Endpoint",{status:"passed",message:` Untrack successful (count: ${O.unique_count})`,details:O})}catch(O){o("Untrack Endpoint",{status:"failed",message:` ${O.message}`,details:O})}},v=async()=>{o("Stats Endpoint",{status:"running",message:"Testing stats..."});try{const O=await yr.getStats("wallpaper",r);o("Stats Endpoint",{status:"passed",message:" Stats retrieved successfully",details:O})}catch(O){o("Stats Endpoint",{status:"failed",message:` ${O.message}`,details:O})}},b=async()=>{o("Check Endpoint",{status:"running",message:"Testing check..."});try{const I=await(await Je(`/api/analytics/check/wallpaper/${r}/view`,{headers:{Authorization:`Bearer ${he}`}})).json();if(!I.success)throw new Error("Check endpoint failed");o("Check Endpoint",{status:"passed",message:` Check successful (tracked: ${I.tracked})`,details:I})}catch(O){o("Check Endpoint",{status:"failed",message:` ${O.message}`,details:O})}},y=async()=>{o("IP-Based Uniqueness",{status:"running",message:"Testing uniqueness..."});try{const O=`00000000-0000-0000-0001-${String(Date.now()).slice(-12).padStart(12,"0")}`,I=await yr.track("wallpaper",O,"download");if(!I.tracked)throw new Error("First track should succeed");const D=await yr.track("wallpaper",O,"download");if(D.tracked)throw new Error("Second track should fail (already tracked)");if(!D.already_tracked)throw new Error("already_tracked flag should be true");if(I.unique_count!==D.unique_count)throw new Error("Count should remain same on duplicate track");o("IP-Based Uniqueness",{status:"passed",message:` IP uniqueness working (count: ${D.unique_count})`,details:{result1:I,result2:D}})}catch(O){o("IP-Based Uniqueness",{status:"failed",message:` ${O.message}`,details:O})}},x=async()=>{o("Like/Unlike Toggle",{status:"running",message:"Testing toggle..."});try{const O=`00000000-0000-0000-0002-${String(Date.now()).slice(-12).padStart(12,"0")}`,I=await yr.track("wallpaper",O,"like"),D=I.unique_count,L=await yr.untrack("wallpaper",O,"like"),F=L.unique_count,G=await yr.track("wallpaper",O,"like"),K=G.unique_count;if(F>=D)throw new Error("Unlike should decrement count");if(K!==D)throw new Error("Like again should restore count");o("Like/Unlike Toggle",{status:"passed",message:` Toggle working (${D}  ${F}  ${K})`,details:{likeResult:I,unlikeResult:L,likeAgainResult:G}})}catch(O){o("Like/Unlike Toggle",{status:"failed",message:` ${O.message}`,details:O})}},_=async()=>{o("Admin Dashboard",{status:"running",message:"Testing dashboard..."});try{const I=await(await Je("/api/analytics/admin/dashboard",{headers:{Authorization:`Bearer ${he}`}})).json();if(!I.success||!I.dashboard)throw new Error("Dashboard endpoint failed");o("Admin Dashboard",{status:"passed",message:` Dashboard loaded (${I.dashboard.total_events||0} events, ${I.dashboard.unique_ips||0} IPs)`,details:I.dashboard})}catch(O){o("Admin Dashboard",{status:"failed",message:` ${O.message}`,details:O})}},N=async()=>{o("Admin Config",{status:"running",message:"Testing config CRUD..."});try{const I=await(await Je("/api/analytics/admin/config",{headers:{Authorization:`Bearer ${he}`}})).json();if(!I.success)throw new Error("Get config failed");const L=await(await Je("/api/analytics/admin/config",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",event_type:"view",updates:{is_enabled:!0}})})).json();if(!L.success)throw new Error("Update config failed");o("Admin Config",{status:"passed",message:" Config CRUD working",details:{get:I,update:L}})}catch(O){o("Admin Config",{status:"failed",message:` ${O.message}`,details:O})}},E=async()=>{o("Reset Function",{status:"running",message:"Testing reset..."});try{const O=`00000000-0000-0000-0003-${String(Date.now()).slice(-12).padStart(12,"0")}`;await yr.track("wallpaper",O,"share");const I=await yr.getStats("wallpaper",O),L=await(await Je("/api/analytics/admin/reset",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:O,event_type:"share"})})).json();if(!L.success)throw new Error("Reset failed");const F=await yr.getStats("wallpaper",O);o("Reset Function",{status:"passed",message:` Reset working (deleted ${L.result.deleted_count} records)`,details:{before:I,after:F,reset:L}})}catch(O){o("Reset Function",{status:"failed",message:` ${O.message}`,details:O})}},C=O=>{switch(O){case"passed":return s.jsx(vr,{className:"w-5 h-5 text-green-600"});case"failed":return s.jsx(Nn,{className:"w-5 h-5 text-red-600"});case"running":return s.jsx(mt,{className:"w-5 h-5 text-blue-600 animate-spin"});default:return s.jsx(cn,{className:"w-5 h-5 text-gray-400"})}},S=O=>{const I={passed:"default",failed:"destructive",running:"secondary",pending:"outline"};return s.jsx(Cr,{variant:I[O],className:"ml-auto",children:O})},k=e.filter(O=>O.status==="passed").length,A=e.filter(O=>O.status==="failed").length,P=e.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Testing Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive test suite for unified analytics system"})]}),s.jsx(Te,{onClick:l,disabled:a,size:"lg",className:"bg-[#0d5e38] hover:bg-[#0a5b34] gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(mt,{className:"w-5 h-5 animate-spin"}),"Running Tests..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"w-5 h-5"}),"Run All Tests"]})})]}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(vn,{htmlFor:"testItemId",children:"Test Item ID"}),s.jsx(ir,{id:"testItemId",value:r,onChange:O=>n(O.target.value),placeholder:"00000000-0000-0000-0000-000000000001",className:"mt-1"})]}),s.jsx("div",{className:"text-sm text-gray-600 mt-6",children:"This ID will be used for testing. You can change it if needed."})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:P})]}),s.jsx(or,{className:"w-12 h-12 text-blue-600 opacity-20"})]})}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Passed"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:k})]}),s.jsx(vr,{className:"w-12 h-12 text-green-600 opacity-20"})]})}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Failed"}),s.jsx("p",{className:"text-3xl font-bold text-red-600 mt-1",children:A})]}),s.jsx(Nn,{className:"w-12 h-12 text-red-600 opacity-20"})]})})]}),s.jsxs(We,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Test Results"})}),s.jsx("div",{className:"divide-y divide-gray-200",children:e.map((O,I)=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"mt-0.5",children:C(O.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:[I+1,". ",O.name]}),S(O.status)]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.message}),O.details&&O.status!=="pending"&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"Show details"}),s.jsx("pre",{className:"mt-2 p-3 bg-gray-100 rounded text-xs overflow-auto max-h-32",children:JSON.stringify(O.details,null,2)})]})]})]})},O.name))})]}),s.jsxs(We,{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Test Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs(Te,{variant:"outline",onClick:()=>p(),disabled:a,className:"gap-2",children:[s.jsx(At,{className:"w-4 h-4"}),"Test Track"]}),s.jsxs(Te,{variant:"outline",onClick:()=>y(),disabled:a,className:"gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Test Uniqueness"]}),s.jsxs(Te,{variant:"outline",onClick:()=>x(),disabled:a,className:"gap-2",children:[s.jsx(jr,{className:"w-4 h-4"}),"Test Toggle"]}),s.jsxs(Te,{variant:"outline",onClick:()=>_(),disabled:a,className:"gap-2",children:[s.jsx(or,{className:"w-4 h-4"}),"Test Dashboard"]})]})]})]})}function fwe(){const[e,t]=w.useState([{name:"System Status",description:"Check if analytics system is installed",status:"pending"},{name:"Track View Event",description:"Track a wallpaper view",status:"pending"},{name:"Track Like Event",description:"Track a wallpaper like",status:"pending"},{name:"Check Tracked Status",description:"Verify event was tracked",status:"pending"},{name:"Track Unlike Event",description:"Remove the like tracking",status:"pending"},{name:"Track Share Event",description:"Track a share action",status:"pending"},{name:"Track Download Event",description:"Track a download action",status:"pending"},{name:"Track Video Play",description:"Track video wallpaper play",status:"pending"},{name:"Track Watch Complete",description:"Track video completion (80%)",status:"pending"},{name:"Get Item Stats",description:"Fetch analytics stats for item",status:"pending"},{name:"Unique IP Enforcement",description:"Test duplicate tracking prevention",status:"pending"},{name:"Like Toggle",description:"Test like/unlike toggling",status:"pending"},{name:"Reset Stats",description:"Test analytics reset function",status:"pending"},{name:"Launch QA (STEP 10)",description:"Run bounded integrity checks (rollups, sessions, volume)",status:"pending"},{name:"Dashboard Data",description:"Fetch admin dashboard overview",status:"pending"}]),[r,n]=w.useState(!1),[a]=w.useState("00000000-0000-0000-0000-000000000001"),i=(O,I)=>{t(D=>D.map((L,F)=>F===O?{...L,...I}:L))};async function o(){n(!0),t(I=>I.map(D=>({...D,status:"pending",error:void 0,response:void 0})));const O=[l,h,f,p,g,v,b,y,x,_,N,E,C,u,S];for(let I=0;I<O.length;I++){i(I,{status:"running"});const D=Date.now();try{const L=await O[I](),F=Date.now()-D;i(I,{status:L.passed?"passed":"failed",error:L.error,response:L.response,duration:F})}catch(L){const F=Date.now()-D;i(I,{status:"failed",error:L.message,duration:F})}await new Promise(L=>setTimeout(L,300))}n(!1)}async function l(){try{const O=await Je("/api/analytics/admin/status",{headers:{Authorization:`Bearer ${he}`}});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return!I.success||!I.status?.installed?{passed:!1,error:"Analytics system not installed",response:I}:{passed:!0,response:I}}catch(O){return{passed:!1,error:O.message}}}async function u(){try{const O=await Je("/api/admin/analytics/qa?window_days=7",{headers:{Authorization:`Bearer ${he}`}});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();if(!I?.success)return{passed:!1,error:I?.error||"QA failed",response:I};const D=I?.summary||{pass:0,warn:0,fail:0},L=Number(D.warn||0),F=Number(D.fail||0);return F>0||L>0?{passed:!1,error:`QA not clean (fail=${F}, warn=${L})`,response:I}:{passed:!0,response:I}}catch(O){return{passed:!1,error:O.message}}}async function h(){try{const O=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"view",metadata:{test:!0}})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function f(){try{const O=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"like",metadata:{test:!0}})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function p(){try{const O=await Je(`/api/analytics/check/wallpaper/${a}/like`,{headers:{Authorization:`Bearer ${he}`}});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return!I.success||!I.tracked?{passed:!1,error:"Like was not tracked",response:I}:{passed:!0,response:I}}catch(O){return{passed:!1,error:O.message}}}async function g(){try{const O=await Je("/api/analytics/untrack",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"like"})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function v(){try{const O=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"share",metadata:{platform:"whatsapp",test:!0}})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function b(){try{const O=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"download",metadata:{test:!0}})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function y(){try{const O=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"play",metadata:{video:!0,test:!0}})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function x(){try{const O=await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"watch_complete",metadata:{completion_percent:80,test:!0}})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function _(){try{const O=await Je(`/api/analytics/stats/wallpaper/${a}`,{headers:{Authorization:`Bearer ${he}`}});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return!I.success||!I.stats?{passed:!1,error:"No stats returned",response:I}:{passed:!0,response:I}}catch(O){return{passed:!1,error:O.message}}}async function N(){try{const I=await(await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"view",metadata:{test:"duplicate"}})})).json(),L=await(await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"view",metadata:{test:"duplicate"}})})).json();return L.already_tracked?{passed:!0,response:{first:I,second:L}}:{passed:!1,error:"Duplicate was not prevented",response:{first:I,second:L}}}catch(O){return{passed:!1,error:O.message}}}async function E(){try{const I=await(await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"like"})})).json(),L=await(await Je("/api/analytics/untrack",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"like"})})).json(),G=await(await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:"like"})})).json();return!I.success||!L.success||!G.success?{passed:!1,error:"Toggle failed",response:{like1:I,unlike:L,like2:G}}:{passed:!0,response:{like1:I,unlike:L,like2:G}}}catch(O){return{passed:!1,error:O.message}}}async function C(){try{const O=await Je("/api/analytics/admin/reset",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:a,event_type:null})});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return I.success?{passed:!0,response:I}:{passed:!1,error:I.error,response:I}}catch(O){return{passed:!1,error:O.message}}}async function S(){try{const O=await Je("/api/analytics/admin/dashboard",{headers:{Authorization:`Bearer ${he}`}});if(!O.ok)return{passed:!1,error:`HTTP ${O.status}`,response:await O.text()};const I=await O.json();return!I.success||!I.dashboard?{passed:!1,error:"No dashboard data",response:I}:{passed:!0,response:I}}catch(O){return{passed:!1,error:O.message}}}const k=e.filter(O=>O.status==="passed").length,A=e.filter(O=>O.status==="failed").length,P=e.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics Test Suite"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive testing for unified analytics system"})]}),s.jsx(Te,{onClick:o,disabled:r,size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Tests..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),"Run All Tests"]})})]}),(k>0||A>0)&&s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Test Results"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5 text-green-600"}),s.jsxs("span",{className:"font-semibold text-green-900",children:[k," Passed"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"h-5 w-5 text-red-600"}),s.jsxs("span",{className:"font-semibold text-red-900",children:[A," Failed"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(or,{className:"h-5 w-5 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:[P," Total"]})]})]})]}),k===P&&s.jsx(Cr,{className:"bg-green-600 text-white px-4 py-2",children:" All Tests Passed!"}),A>0&&s.jsxs(Cr,{variant:"destructive",className:"px-4 py-2",children:[" ",A," Failed"]})]})}),s.jsx(We,{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:e.map((O,I)=>s.jsx("div",{className:"p-4 rounded-lg border bg-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[O.status==="pending"&&s.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),O.status==="running"&&s.jsx(Bt,{className:"h-5 w-5 text-blue-600 animate-spin"}),O.status==="passed"&&s.jsx(vr,{className:"h-5 w-5 text-green-600"}),O.status==="failed"&&s.jsx(Nn,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:O.name}),s.jsx("p",{className:"text-sm text-gray-600",children:O.description}),O.error&&s.jsx(Ti,{variant:"destructive",className:"mt-2",children:s.jsxs(Eo,{className:"text-xs",children:["Error: ",O.error]})}),O.response&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"View response"}),s.jsx("pre",{className:"mt-2 p-2 bg-gray-50 rounded text-xs overflow-auto max-h-32",children:JSON.stringify(O.response,null,2)})]})]}),O.duration&&s.jsxs(Cr,{variant:"outline",className:"text-xs",children:[O.duration,"ms"]}),s.jsx(Cr,{variant:O.status==="passed"?"default":O.status==="failed"?"destructive":"secondary",className:"min-w-[80px] justify-center",children:O.status})]})},I))})})]})}function pwe(){const[e,t]=w.useState(0),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,l]=w.useState([{id:"tables",name:"Database Tables",description:"Check if analytics_tracking and analytics_config tables exist",status:"pending"},{id:"functions",name:"RPC Functions",description:"Verify all tracking functions are installed",status:"pending"},{id:"config",name:"Configuration Data",description:"Check if event configurations are seeded",status:"pending"},{id:"api",name:"API Endpoints",description:"Test analytics API connectivity",status:"pending"},{id:"tracking",name:"Tracking System",description:"Test event tracking functionality",status:"pending"}]),u="/MIGRATION_READY_TO_COPY.sql",h=[{step:1,title:"Open Supabase Dashboard",description:"Navigate to your User Panel Supabase project",action:s.jsxs(Te,{onClick:()=>window.open("https://supabase.com/dashboard","_blank"),variant:"outline",size:"sm",children:[s.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Open Supabase"]})},{step:2,title:"Go to SQL Editor",description:'Click on "SQL Editor" in the left sidebar',action:null},{step:3,title:"Copy Migration File",description:"Copy the entire migration SQL file",action:s.jsxs(Te,{onClick:f,variant:"outline",size:"sm",children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),a?"Copied!":"Copy Migration SQL"]})},{step:4,title:"Paste & Run",description:"Paste the SQL into Supabase SQL Editor and click RUN",action:null},{step:5,title:"Verify Installation",description:"Run verification tests to confirm everything works",action:s.jsx(Te,{onClick:p,disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rH,{className:"h-4 w-4 mr-2"}),"Verify Installation"]})})}];async function f(){try{const x=await(await fetch(u)).text();await navigator.clipboard.writeText(x),i(!0),setTimeout(()=>i(!1),3e3)}catch{alert("Failed to copy migration code. Please copy it manually from the file.")}}async function p(){n(!0),l(y=>y.map(x=>({...x,status:"pending",error:void 0,details:void 0}))),await g(0,async()=>{const x=await(await Je("/api/analytics/admin/status",{headers:{Authorization:`Bearer ${he}`}})).json();if(!x.success||!x.status?.tables)throw new Error("Status check failed");const _=x.status.tables.analytics_tracking==="exists",N=x.status.tables.analytics_config==="exists";if(!_||!N)throw new Error(`Missing tables: ${_?"":"analytics_tracking "}${N?"":"analytics_config"}`);return x.status.tables}),await g(1,async()=>{if(!(await(await Je("/api/analytics/admin/dashboard",{headers:{Authorization:`Bearer ${he}`}})).json()).success)throw new Error("Dashboard function failed - RPC functions may not exist");return{dashboard_accessible:!0}}),await g(2,async()=>{const x=await(await Je("/api/analytics/admin/config",{headers:{Authorization:`Bearer ${he}`}})).json();if(!x.success||!x.all||x.all.length===0)throw new Error("No event configurations found - migration may not have seeded data");return{config_count:x.all.length}}),await g(3,async()=>{if(!(await(await Je("/api/analytics/stats/wallpaper/00000000-0000-0000-0000-000000000001",{headers:{Authorization:`Bearer ${he}`}})).json()).success)throw new Error("Stats endpoint failed");return{stats_endpoint:"working"}}),await g(4,async()=>{const y="00000000-0000-0000-0000-000000000999";if(!(await(await Je("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({module_name:"wallpaper",item_id:y,event_type:"view",metadata:{test:"installation_verification"}})})).json()).success)throw new Error("Track event failed");if(!(await(await Je(`/api/analytics/check/wallpaper/${y}/view`,{headers:{Authorization:`Bearer ${he}`}})).json()).tracked)throw new Error("Event was not persisted");return{tracking:"working",test_tracked:!0}}),n(!1)}async function g(y,x){l(_=>_.map((N,E)=>E===y?{...N,status:"checking"}:N));try{const _=await x();l(N=>N.map((E,C)=>C===y?{...E,status:"passed",details:_}:E)),await new Promise(N=>setTimeout(N,500))}catch(_){l(N=>N.map((E,C)=>C===y?{...E,status:"failed",error:_.message}:E))}}const v=o.every(y=>y.status==="passed"),b=o.some(y=>y.status==="failed");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics System Installation"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Step-by-step guide to set up unified analytics tracking"})]}),v&&s.jsxs(Ti,{className:"bg-green-50 border-green-200",children:[s.jsx(vr,{className:"h-4 w-4 text-green-600"}),s.jsxs(Eo,{className:"text-green-900",children:[s.jsx("strong",{children:" Analytics System Fully Operational!"}),s.jsx("p",{className:"mt-2",children:"All verification checks passed. Your analytics system is ready to use."})]})]}),b&&!r&&s.jsxs(Ti,{variant:"destructive",children:[s.jsx(Nn,{className:"h-4 w-4"}),s.jsxs(Eo,{children:[s.jsx("strong",{children:"Installation Incomplete"}),s.jsx("p",{className:"mt-2",children:"Some verification checks failed. Please follow the installation steps below."})]})]}),s.jsxs(We,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(DG,{className:"h-5 w-5 text-gray-600"}),"Installation Steps"]}),s.jsx("div",{className:"space-y-4",children:h.map(y=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm ${e>=y.step?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>y.step?s.jsx(vr,{className:"h-5 w-5"}):y.step})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:y.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description}),y.action&&s.jsx("div",{className:"mt-3",children:y.action})]})]},y.step))}),s.jsx(VU,{className:"my-6"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Te,{onClick:()=>t(Math.max(0,e-1)),variant:"outline",disabled:e===0,children:"Previous"}),s.jsx(Te,{onClick:()=>t(Math.min(h.length,e+1)),disabled:e===h.length,children:"Next Step"})]})]}),s.jsxs(We,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(_H,{className:"h-5 w-5 text-gray-600"}),"Migration SQL File"]}),s.jsxs("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-gray-400",children:["File: ",u]}),s.jsxs(Te,{onClick:f,size:"sm",variant:"outline",className:"bg-gray-800 border-gray-700 text-gray-100 hover:bg-gray-700",children:[s.jsx(ac,{className:"h-3 w-3 mr-2"}),a?"Copied!":"Copy"]})]}),s.jsx("pre",{className:"text-xs leading-relaxed",children:`-- ============================================================================
-- UNIFIED ANALYTICS SYSTEM - MIGRATION SCRIPT
-- Copy this ENTIRE file and paste into Supabase SQL Editor
-- Then click RUN
-- ============================================================================

-- Drop old analytics tables and triggers if they exist
DROP TABLE IF EXISTS analytics_tracking CASCADE;
DROP TABLE IF EXISTS analytics_config CASCADE;
...

-- See full file at: ${u}`})]}),s.jsxs(Ti,{className:"mt-4",children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsxs(Eo,{children:[s.jsx("strong",{children:"Important:"})," Make sure you're running this in your ",s.jsx("strong",{children:"User Panel Supabase"})," project, not the Admin Backend project. The migration file is located at ",s.jsx("code",{children:u})," in your project root."]})]})]}),s.jsxs(We,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Dr,{className:"h-5 w-5 text-gray-600"}),"System Verification"]}),s.jsx("div",{className:"space-y-3 mb-4",children:o.map(y=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[y.status==="pending"&&s.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),y.status==="checking"&&s.jsx(Bt,{className:"h-5 w-5 text-blue-600 animate-spin"}),y.status==="passed"&&s.jsx(vr,{className:"h-5 w-5 text-green-600"}),y.status==="failed"&&s.jsx(Nn,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:y.name}),s.jsx("p",{className:"text-sm text-gray-600",children:y.description}),y.error&&s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Error: ",y.error]}),y.details&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:"View details"}),s.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 overflow-auto",children:JSON.stringify(y.details,null,2)})]})]}),s.jsx(Cr,{variant:y.status==="passed"?"default":y.status==="failed"?"destructive":"secondary",children:y.status})]},y.id))}),s.jsx(Te,{onClick:p,disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Verification..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),"Run Verification Tests"]})})]}),v&&s.jsxs(We,{className:"p-6 bg-green-50 border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-900",children:" Next Steps"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vr,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Go to Analytics Unified Manager"}),s.jsx("p",{className:"text-green-700",children:"Configure tracking settings for each module and event type"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vr,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Run Analytics Test Suite"}),s.jsx("p",{className:"text-green-700",children:"Test all 12 analytics functions to ensure everything works"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vr,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Check Analytics Center"}),s.jsx("p",{className:"text-green-700",children:"View real-time analytics dashboard and insights"})]})]})]})]})]})}const Kp=[{id:"wallpaper",name:"Wallpapers",icon:"Image",color:"bg-blue-500",enabled:!0,actions:["view","like","unlike","download","share","favorite","unfavorite"],description:"Track wallpaper interactions"},{id:"sparkle",name:"Sparkle Videos",icon:"Sparkles",color:"bg-purple-500",enabled:!0,actions:["view","play","pause","complete","read","like","share"],description:"Track video views and reads"},{id:"song",name:"Songs",icon:"Music",color:"bg-pink-500",enabled:!0,actions:["view","listen","play","pause","skip","like","download","share"],description:"Track song plays and interactions"},{id:"banner",name:"Banners",icon:"Layout",color:"bg-orange-500",enabled:!0,actions:["impression","click","view"],description:"Track banner impressions and clicks"},{id:"ask_gugan",name:"Ask Gugan AI",icon:"MessageCircle",color:"bg-green-500",enabled:!0,actions:["conversation_start","message_sent","message_received"],description:"Track AI chat interactions"},{id:"auth",name:"Authentication",icon:"User",color:"bg-indigo-500",enabled:!0,actions:["login","signup","logout"],description:"Track user authentication"},{id:"app",name:"App Usage",icon:"Smartphone",color:"bg-gray-500",enabled:!0,actions:["app_open","app_close","tab_switch"],description:"Track general app usage"}],mwe={Image:Ed,Sparkles:ic,Music:Os,Layout:c3,MessageCircle:Co,User:F_,Smartphone:L_};function gwe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState(null),[u,h]=w.useState(!1),f=async()=>{try{i(!0);const _=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/tracking/stats`,{headers:{Authorization:`Bearer ${he}`}});if(!_.ok)throw new Error("Failed to load stats");const N=await _.json();t(N.stats||[])}catch(_){console.error("Error loading stats:",_)}finally{n(!1),i(!1)}};w.useEffect(()=>{f();const _=setInterval(f,3e4);return()=>clearInterval(_)},[]);const p=_=>Kp.find(N=>N.id===_)||Kp[0],g=_=>{switch(_){case"active":return s.jsx(vr,{className:"w-4 h-4 text-green-500"});case"inactive":return s.jsx(cn,{className:"w-4 h-4 text-yellow-500"});case"error":return s.jsx(Nn,{className:"w-4 h-4 text-red-500"});default:return s.jsx(rm,{className:"w-4 h-4 text-gray-400"})}},v=_=>{switch(_){case"up":return s.jsx(Ko,{className:"w-4 h-4 text-green-500"});case"down":return s.jsx(LG,{className:"w-4 h-4 text-red-500"});default:return s.jsx(rm,{className:"w-4 h-4 text-gray-400"})}},b=e.reduce((_,N)=>_+N.total_events,0),y=e.reduce((_,N)=>_+N.today_events,0),x=e.filter(_=>_.status==="active").length;return s.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#0d5e38]",style:{fontFamily:"var(--font-english)"},children:"Tracking System"}),s.jsx("p",{className:"text-gray-600",style:{fontFamily:"var(--font-english)"},children:"Unified analytics and event tracking"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Te,{onClick:()=>h(!u),variant:u?"default":"outline",className:"gap-2",children:[s.jsx(Pr,{className:"w-4 h-4"}),"Calendar"]}),s.jsxs(Te,{onClick:f,variant:"outline",disabled:a,className:"gap-2",children:[s.jsx(mt,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),s.jsx("p",{className:"text-[#0d5e38]",children:b.toLocaleString()})]}),s.jsx(or,{className:"w-8 h-8 text-[#0d5e38] opacity-20"})]})}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Today's Events"}),s.jsx("p",{className:"text-[#0d5e38]",children:y.toLocaleString()})]}),s.jsx(en,{className:"w-8 h-8 text-[#0d5e38] opacity-20"})]})}),s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Modules"}),s.jsxs("p",{className:"text-[#0d5e38]",children:[x," / ",Kp.length]})]}),s.jsx(vr,{className:"w-8 h-8 text-[#0d5e38] opacity-20"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(_=>{const N=p(_.module),E=mwe[N.icon]||or;return s.jsxs(We,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>l(_.module),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${N.color} bg-opacity-10`,children:s.jsx(E,{className:`w-5 h-5 text-${N.color.replace("bg-","")}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:N.name}),s.jsx("p",{className:"text-xs text-gray-500",children:N.description})]})]}),g(_.status)]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Events"}),s.jsx("span",{className:"font-semibold",children:_.total_events.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Today"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:_.today_events}),_.trend!=="stable"&&s.jsxs("div",{className:"flex items-center gap-1",children:[v(_.trend),s.jsxs("span",{className:`text-xs ${_.trend==="up"?"text-green-500":"text-red-500"}`,children:[_.trend_percentage,"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active Users"}),s.jsx("span",{className:"font-semibold",children:_.active_users})]})]}),_.top_actions.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Top Actions"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:_.top_actions.slice(0,3).map(C=>s.jsxs(Cr,{variant:"secondary",className:"text-xs",children:[C.action,": ",C.count]},C.action))})]}),_.last_event&&s.jsxs("div",{className:"mt-3 text-xs text-gray-400",children:["Last event: ",new Date(_.last_event).toLocaleString()]})]},_.module)})}),o&&s.jsx(xwe,{module:o,onClose:()=>l(null)}),r&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(mt,{className:"w-6 h-6 animate-spin text-[#0d5e38]"})})]})}function xwe({module:e,onClose:t}){const[r,n]=w.useState([]),[a,i]=w.useState(!0);w.useEffect(()=>{o()},[e]);const o=async()=>{try{const u=await fetch(`https://${He}.supabase.co/functions/v1/make-server-4a075ebc/tracking/events/${e}?limit=20`,{headers:{Authorization:`Bearer ${he}`}});if(!u.ok)throw new Error("Failed to load events");const h=await u.json();n(h.events||[])}catch(u){console.error("Error loading events:",u)}finally{i(!1)}},l=Kp.find(u=>u.id===e);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(We,{className:"w-full max-w-3xl max-h-[80vh] overflow-auto",children:[s.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-[#0d5e38]",children:[l?.name," - Recent Events"]}),s.jsx("p",{className:"text-sm text-gray-600",children:l?.description})]}),s.jsx(Te,{onClick:t,variant:"ghost",children:"Close"})]})}),s.jsx("div",{className:"p-6",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(mt,{className:"w-6 h-6 animate-spin text-[#0d5e38]"})}):r.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"No events recorded yet"}):s.jsx("div",{className:"space-y-3",children:r.map((u,h)=>s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Cr,{variant:"outline",children:u.action}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(u.created_at).toLocaleString()})]}),u.content_id&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Content ID: ",u.content_id]}),u.user_id&&s.jsxs("p",{className:"text-sm text-gray-600",children:["User ID: ",u.user_id]}),u.metadata&&Object.keys(u.metadata).length>0&&s.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded mt-2 overflow-auto",children:JSON.stringify(u.metadata,null,2)})]},u.id||h))})})]})})}function ywe(){const e=[{date:"Mon",chats:234},{date:"Tue",chats:312},{date:"Wed",chats:456},{date:"Thu",chats:389},{date:"Fri",chats:512},{date:"Sat",chats:678},{date:"Sun",chats:598}],t=[{type:"Text",count:6543},{type:"Image",count:1234},{type:"Audio",count:567}],r=[{question:"Which temple should I visit?",count:234},{question:"Prayer timings for Murugan",count:189},{question:"Festival dates",count:156},{question:"Arupadai Veedu information",count:134},{question:"Kavadi attam guidance",count:112}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Ask Gugan AI Analytics"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Monitor AI chatbot performance and user engagement"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:s.jsx(Co,{className:"w-6 h-6 text-teal-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"8,765"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Chats"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(un,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"3,456"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Unique Users"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(wr,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"1.4s"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Avg Response"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ko,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"98.4%"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Success Rate"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"New Chats Per Day"}),s.jsx(Zr,{width:"100%",height:250,children:s.jsxs(Kxe,{data:e,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorChats",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#14b8a6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#14b8a6",stopOpacity:0})]})}),s.jsx(jn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Rr,{dataKey:"date",stroke:"#6b7280"}),s.jsx(Ir,{stroke:"#6b7280"}),s.jsx(Ut,{}),s.jsx(zi,{type:"monotone",dataKey:"chats",stroke:"#14b8a6",fillOpacity:1,fill:"url(#colorChats)"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Message Types"}),s.jsx(Zr,{width:"100%",height:250,children:s.jsxs(gk,{data:t,children:[s.jsx(jn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Rr,{dataKey:"type",stroke:"#6b7280"}),s.jsx(Ir,{stroke:"#6b7280"}),s.jsx(Ut,{}),s.jsx(Ts,{dataKey:"count",fill:"#8b5cf6"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top User Questions"})}),s.jsx("div",{className:"divide-y",children:r.map((n,a)=>s.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center text-teal-700 font-bold",children:a+1}),s.jsx("p",{className:"text-gray-800",children:n.question})]}),s.jsxs("span",{className:"text-gray-500 font-semibold",children:[n.count," asks"]})]},a))})]})]})}function _D(e,[t,r]){return Math.min(r,Math.max(t,e))}function vwe(e){const t=bwe(e),r=w.forwardRef((n,a)=>{const{children:i,...o}=n,l=w.Children.toArray(i),u=l.find(jwe);if(u){const h=u.props.children,f=l.map(p=>p===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...o,ref:a,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function bwe(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const o=_we(a),l=Nwe(i,a.props);return a.type!==w.Fragment&&(l.ref=n?da(n,o):o),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wwe=Symbol("radix.slottable");function jwe(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wwe}function Nwe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _we(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var HU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Swe="VisuallyHidden",kwe=w.forwardRef((e,t)=>s.jsx(st.span,{...e,ref:t,style:{...HU,...e.style}}));kwe.displayName=Swe;var Ewe=[" ","Enter","ArrowUp","ArrowDown"],Awe=[" ","Enter"],Wo="Select",[Tx,Ox,Twe]=B_(Wo),[tu]=Ds(Wo,[Twe,Vc]),Cx=Vc(),[Owe,qi]=tu(Wo),[Cwe,Pwe]=tu(Wo),GU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:h,name:f,autoComplete:p,disabled:g,required:v,form:b}=e,y=Cx(t),[x,_]=w.useState(null),[N,E]=w.useState(null),[C,S]=w.useState(!1),k=kg(h),[A,P]=Pi({prop:n,defaultProp:a??!1,onChange:i,caller:Wo}),[O,I]=Pi({prop:o,defaultProp:l,onChange:u,caller:Wo}),D=w.useRef(null),L=x?b||!!x.closest("form"):!0,[F,G]=w.useState(new Set),K=Array.from(F).map(U=>U.props.value).join(";");return s.jsx(X_,{...y,children:s.jsxs(Owe,{required:v,scope:t,trigger:x,onTriggerChange:_,valueNode:N,onValueNodeChange:E,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:Es(),value:O,onValueChange:I,open:A,onOpenChange:P,dir:k,triggerPointerDownPosRef:D,disabled:g,children:[s.jsx(Tx.Provider,{scope:t,children:s.jsx(Cwe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(U=>{G(q=>new Set(q).add(U))},[]),onNativeOptionRemove:w.useCallback(U=>{G(q=>{const M=new Set(q);return M.delete(U),M})},[]),children:r})}),L?s.jsxs(mB,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:p,value:O,onChange:U=>I(U.target.value),disabled:g,form:b,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};GU.displayName=Wo;var KU="SelectTrigger",YU=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Cx(r),o=qi(KU,r),l=o.disabled||n,u=gt(t,o.onTriggerChange),h=Ox(r),f=w.useRef("touch"),[p,g,v]=xB(y=>{const x=h().filter(E=>!E.disabled),_=x.find(E=>E.value===o.value),N=yB(x,y,_);N!==void 0&&o.onValueChange(N.value)}),b=y=>{l||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Pg,{asChild:!0,...i,children:s.jsx(st.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gB(o.value)?"":void 0,...a,ref:u,onClick:Pe(a.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&b(y)}),onPointerDown:Pe(a.onPointerDown,y=>{f.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Pe(a.onKeyDown,y=>{const x=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(x&&y.key===" ")&&Ewe.includes(y.key)&&(b(),y.preventDefault())})})})});YU.displayName=KU;var XU="SelectValue",JU=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,u=qi(XU,r),{onValueNodeHasChildrenChange:h}=u,f=i!==void 0,p=gt(t,u.onValueNodeChange);return tn(()=>{h(f)},[h,f]),s.jsx(st.span,{...l,ref:p,style:{pointerEvents:"none"},children:gB(u.value)?s.jsx(s.Fragment,{children:o}):i})});JU.displayName=XU;var Rwe="SelectIcon",QU=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(st.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});QU.displayName=Rwe;var Iwe="SelectPortal",ZU=e=>s.jsx(_h,{asChild:!0,...e});ZU.displayName=Iwe;var qo="SelectContent",eB=w.forwardRef((e,t)=>{const r=qi(qo,e.__scopeSelect),[n,a]=w.useState();if(tn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Bc.createPortal(s.jsx(tB,{scope:e.__scopeSelect,children:s.jsx(Tx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(rB,{...e,ref:t})});eB.displayName=qo;var ws=10,[tB,Vi]=tu(qo),Dwe="SelectContentImpl",Mwe=vwe("SelectContent.RemoveScroll"),rB=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:x,..._}=e,N=qi(qo,r),[E,C]=w.useState(null),[S,k]=w.useState(null),A=gt(t,re=>C(re)),[P,O]=w.useState(null),[I,D]=w.useState(null),L=Ox(r),[F,G]=w.useState(!1),K=w.useRef(!1);w.useEffect(()=>{if(E)return Ig(E)},[E]),Eg();const U=w.useCallback(re=>{const[me,...fe]=L().map(ce=>ce.ref.current),[ye]=fe.slice(-1),ve=document.activeElement;for(const ce of re)if(ce===ve||(ce?.scrollIntoView({block:"nearest"}),ce===me&&S&&(S.scrollTop=0),ce===ye&&S&&(S.scrollTop=S.scrollHeight),ce?.focus(),document.activeElement!==ve))return},[L,S]),q=w.useCallback(()=>U([P,E]),[U,P,E]);w.useEffect(()=>{F&&q()},[F,q]);const{onOpenChange:M,triggerPointerDownPosRef:V}=N;w.useEffect(()=>{if(E){let re={x:0,y:0};const me=ye=>{re={x:Math.abs(Math.round(ye.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(ye.pageY)-(V.current?.y??0))}},fe=ye=>{re.x<=10&&re.y<=10?ye.preventDefault():E.contains(ye.target)||M(!1),document.removeEventListener("pointermove",me),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",fe,{capture:!0})}}},[E,M,V]),w.useEffect(()=>{const re=()=>M(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[M]);const[Q,z]=xB(re=>{const me=L().filter(ve=>!ve.disabled),fe=me.find(ve=>ve.ref.current===document.activeElement),ye=yB(me,re,fe);ye&&setTimeout(()=>ye.ref.current.focus())}),J=w.useCallback((re,me,fe)=>{const ye=!K.current&&!fe;(N.value!==void 0&&N.value===me||ye)&&(O(re),ye&&(K.current=!0))},[N.value]),le=w.useCallback(()=>E?.focus(),[E]),se=w.useCallback((re,me,fe)=>{const ye=!K.current&&!fe;(N.value!==void 0&&N.value===me||ye)&&D(re)},[N.value]),xe=n==="popper"?u_:nB,X=xe===u_?{side:l,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:x}:{};return s.jsx(tB,{scope:r,content:E,viewport:S,onViewportChange:k,itemRefCallback:J,selectedItem:P,onItemLeave:le,itemTextRefCallback:se,focusSelectedItem:q,selectedItemText:I,position:n,isPositioned:F,searchRef:Q,children:s.jsx(kh,{as:Mwe,allowPinchZoom:!0,children:s.jsx(jh,{asChild:!0,trapped:N.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Pe(a,re=>{N.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:s.jsx(wh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(xe,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:re=>re.preventDefault(),..._,...X,onPlaced:()=>G(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Pe(_.onKeyDown,re=>{const me=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!me&&re.key.length===1&&z(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ye=L().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ve=re.target,ce=ye.indexOf(ve);ye=ye.slice(ce+1)}setTimeout(()=>U(ye)),re.preventDefault()}})})})})})})});rB.displayName=Dwe;var $we="SelectItemAlignedPosition",nB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=qi(qo,r),o=Vi(qo,r),[l,u]=w.useState(null),[h,f]=w.useState(null),p=gt(t,A=>f(A)),g=Ox(r),v=w.useRef(!1),b=w.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:_,focusSelectedItem:N}=o,E=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&h&&y&&x&&_){const A=i.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(i.dir!=="rtl"){const ve=I.left-P.left,ce=O.left-ve,Oe=A.left-ce,Ie=A.width+Oe,it=Math.max(Ie,P.width),at=window.innerWidth-ws,lt=_D(ce,[ws,Math.max(ws,at-it)]);l.style.minWidth=Ie+"px",l.style.left=lt+"px"}else{const ve=P.right-I.right,ce=window.innerWidth-O.right-ve,Oe=window.innerWidth-A.right-ce,Ie=A.width+Oe,it=Math.max(Ie,P.width),at=window.innerWidth-ws,lt=_D(ce,[ws,Math.max(ws,at-it)]);l.style.minWidth=Ie+"px",l.style.right=lt+"px"}const D=g(),L=window.innerHeight-ws*2,F=y.scrollHeight,G=window.getComputedStyle(h),K=parseInt(G.borderTopWidth,10),U=parseInt(G.paddingTop,10),q=parseInt(G.borderBottomWidth,10),M=parseInt(G.paddingBottom,10),V=K+U+F+M+q,Q=Math.min(x.offsetHeight*5,V),z=window.getComputedStyle(y),J=parseInt(z.paddingTop,10),le=parseInt(z.paddingBottom,10),se=A.top+A.height/2-ws,xe=L-se,X=x.offsetHeight/2,re=x.offsetTop+X,me=K+U+re,fe=V-me;if(me<=se){const ve=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const ce=h.clientHeight-y.offsetTop-y.offsetHeight,Oe=Math.max(xe,X+(ve?le:0)+ce+q),Ie=me+Oe;l.style.height=Ie+"px"}else{const ve=D.length>0&&x===D[0].ref.current;l.style.top="0px";const Oe=Math.max(se,K+y.offsetTop+(ve?J:0)+X)+fe;l.style.height=Oe+"px",y.scrollTop=me-se+y.offsetTop}l.style.margin=`${ws}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,i.trigger,i.valueNode,l,h,y,x,_,i.dir,n]);tn(()=>E(),[E]);const[C,S]=w.useState();tn(()=>{h&&S(window.getComputedStyle(h).zIndex)},[h]);const k=w.useCallback(A=>{A&&b.current===!0&&(E(),N?.(),b.current=!1)},[E,N]);return s.jsx(Fwe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(st.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nB.displayName=$we;var Lwe="SelectPopperPosition",u_=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ws,...i}=e,o=Cx(r);return s.jsx(J_,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});u_.displayName=Lwe;var[Fwe,$k]=tu(qo,{}),d_="SelectViewport",sB=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Vi(d_,r),o=$k(d_,r),l=gt(t,i.onViewportChange),u=w.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Tx.Slot,{scope:r,children:s.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,h=>{const f=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const v=Math.abs(u.current-f.scrollTop);if(v>0){const b=window.innerHeight-ws*2,y=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),_=Math.max(y,x);if(_<b){const N=_+v,E=Math.min(b,N),C=N-E;p.style.height=E+"px",p.style.bottom==="0px"&&(f.scrollTop=C>0?C:0,p.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});sB.displayName=d_;var aB="SelectGroup",[Uwe,Bwe]=tu(aB),zwe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Es();return s.jsx(Uwe,{scope:r,id:a,children:s.jsx(st.div,{role:"group","aria-labelledby":a,...n,ref:t})})});zwe.displayName=aB;var iB="SelectLabel",Wwe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Bwe(iB,r);return s.jsx(st.div,{id:a.id,...n,ref:t})});Wwe.displayName=iB;var yg="SelectItem",[qwe,oB]=tu(yg),lB=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=qi(yg,r),u=Vi(yg,r),h=l.value===n,[f,p]=w.useState(i??""),[g,v]=w.useState(!1),b=gt(t,N=>u.itemRefCallback?.(N,n,a)),y=Es(),x=w.useRef("touch"),_=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(qwe,{scope:r,value:n,disabled:a,textId:y,isSelected:h,onItemTextChange:w.useCallback(N=>{p(E=>E||(N?.textContent??"").trim())},[]),children:s.jsx(Tx.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(st.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Pe(o.onFocus,()=>v(!0)),onBlur:Pe(o.onBlur,()=>v(!1)),onClick:Pe(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:Pe(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:Pe(o.onPointerDown,N=>{x.current=N.pointerType}),onPointerMove:Pe(o.onPointerMove,N=>{x.current=N.pointerType,a?u.onItemLeave?.():x.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Pe(o.onKeyDown,N=>{u.searchRef?.current!==""&&N.key===" "||(Awe.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})})})})});lB.displayName=yg;var od="SelectItemText",cB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=qi(od,r),l=Vi(od,r),u=oB(od,r),h=Pwe(od,r),[f,p]=w.useState(null),g=gt(t,_=>p(_),u.onItemTextChange,_=>l.itemTextRefCallback?.(_,u.value,u.disabled)),v=f?.textContent,b=w.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=h;return tn(()=>(y(b),()=>x(b)),[y,x,b]),s.jsxs(s.Fragment,{children:[s.jsx(st.span,{id:u.textId,...i,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Bc.createPortal(i.children,o.valueNode):null]})});cB.displayName=od;var uB="SelectItemIndicator",dB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return oB(uB,r).isSelected?s.jsx(st.span,{"aria-hidden":!0,...n,ref:t}):null});dB.displayName=uB;var h_="SelectScrollUpButton",hB=w.forwardRef((e,t)=>{const r=Vi(h_,e.__scopeSelect),n=$k(h_,e.__scopeSelect),[a,i]=w.useState(!1),o=gt(t,n.onScrollButtonChange);return tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=u.scrollTop>0;i(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(pB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});hB.displayName=h_;var f_="SelectScrollDownButton",fB=w.forwardRef((e,t)=>{const r=Vi(f_,e.__scopeSelect),n=$k(f_,e.__scopeSelect),[a,i]=w.useState(!1),o=gt(t,n.onScrollButtonChange);return tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<h;i(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(pB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});fB.displayName=f_;var pB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Vi("SelectScrollButton",r),o=w.useRef(null),l=Ox(r),u=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>u(),[u]),tn(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(st.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Pe(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{u()})})}),Vwe="SelectSeparator",Hwe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(st.div,{"aria-hidden":!0,...n,ref:t})});Hwe.displayName=Vwe;var p_="SelectArrow",Gwe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Cx(r),i=qi(p_,r),o=Vi(p_,r);return i.open&&o.position==="popper"?s.jsx(Q_,{...a,...n,ref:t}):null});Gwe.displayName=p_;var Kwe="SelectBubbleInput",mB=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=gt(n,a),o=n6(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(p)}},[o,t]),s.jsx(st.select,{...r,style:{...HU,...r.style},ref:i,defaultValue:t})});mB.displayName=Kwe;function gB(e){return e===""||e===void 0}function xB(e){const t=oa(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(o=>{const l=r.current+o;t(l),(function u(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function yB(e,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Ywe(e,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const u=o.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function Ywe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Xwe=GU,Jwe=YU,Qwe=JU,Zwe=QU,eje=ZU,tje=eB,rje=sB,nje=lB,sje=cB,aje=dB,ije=hB,oje=fB;function lje({...e}){return s.jsx(Xwe,{"data-slot":"select",...e})}function cje({...e}){return s.jsx(Qwe,{"data-slot":"select-value",...e})}function uje({className:e,size:t="default",children:r,...n}){return s.jsxs(Jwe,{"data-slot":"select-trigger","data-size":t,className:tt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(Zwe,{asChild:!0,children:s.jsx(Ho,{className:"size-4 opacity-50"})})]})}function dje({className:e,children:t,position:r="popper",...n}){return s.jsx(eje,{children:s.jsxs(tje,{"data-slot":"select-content",className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(fje,{}),s.jsx(rje,{className:tt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(pje,{})]})})}function hje({className:e,children:t,...r}){return s.jsxs(nje,{"data-slot":"select-item",className:tt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(aje,{children:s.jsx(kd,{className:"size-4"})})}),s.jsx(sje,{children:t})]})}function fje({className:e,...t}){return s.jsx(ije,{"data-slot":"select-scroll-up-button",className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i3,{className:"size-4"})})}function pje({className:e,...t}){return s.jsx(oje,{"data-slot":"select-scroll-down-button",className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ho,{className:"size-4"})})}function SD(e){return e||"-"}function mje(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function gje(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:{}}catch{return{}}}function xje(){const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,i]=w.useState(null),[o,l]=w.useState(null),[u,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState(null),[b,y]=w.useState([]),x=w.useMemo(()=>[{id:"draft",label:"Draft"},{id:"running",label:"Running"},{id:"paused",label:"Paused"},{id:"completed",label:"Completed"}],[]),_=async()=>{try{n(!0),i(null);const O=(await fq())?.data||[];t(O)}catch(P){i(P?.message||"Failed to load experiments")}finally{n(!1)}};w.useEffect(()=>{_()},[]);const N=()=>{l({id:"",name:"",description:null,status:"draft",start_date:null,end_date:null,created_at:null,variants:[]}),h(!0)},E=P=>{l({...P}),h(!0)},C=async()=>{if(o)try{n(!0),i(null);const P={name:o.name,description:o.description,status:o.status,start_date:o.start_date,end_date:o.end_date};o.id?await eT(o.id,P):await pq(P),h(!1),l(null),await _()}catch(P){i(P?.message||"Failed to save experiment")}finally{n(!1)}},S=async(P,O)=>{try{n(!0),i(null),await eT(P.id,{status:O}),await _()}catch(I){i(I?.message||"Failed to update status")}finally{n(!1)}},k=P=>{v(P);const O=(P.variants||[]).length>0?P.variants||[]:[{variant_key:"A",traffic_percent:50,config:{}},{variant_key:"B",traffic_percent:50,config:{}}];y(O.map(I=>({variant_key:I.variant_key,traffic_percent:String(I.traffic_percent??0),configText:mje(I.config)}))),p(!0)},A=async()=>{if(g)try{n(!0),i(null);const P=b.map(O=>({variant_key:O.variant_key.trim(),traffic_percent:parseInt(O.traffic_percent||"0",10)||0,config:gje(O.configText)})).filter(O=>O.variant_key);await mq(g.id,P),p(!1),v(null),await _()}catch(P){i(P?.message||"Failed to save variants")}finally{n(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Experiments"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage feature/UX experiments (not marketing A/B)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:"outline",size:"sm",onClick:_,disabled:r,children:s.jsx(mt,{className:`w-4 h-4 ${r?"animate-spin":""}`})}),s.jsxs(Te,{size:"sm",onClick:N,disabled:r,children:[s.jsx(_r,{className:"w-4 h-4"}),"New"]})]})]}),a?s.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:a}):null,s.jsxs(We,{children:[s.jsx(bZ,{children:s.jsx(wZ,{children:"All Experiments"})}),s.jsx(jZ,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 pr-3 font-medium text-gray-700",children:"Name"}),s.jsx("th",{className:"text-left py-2 pr-3 font-medium text-gray-700",children:"Status"}),s.jsx("th",{className:"text-left py-2 pr-3 font-medium text-gray-700",children:"Start"}),s.jsx("th",{className:"text-left py-2 pr-3 font-medium text-gray-700",children:"End"}),s.jsx("th",{className:"text-right py-2 font-medium text-gray-700",children:"Actions"})]})}),s.jsxs("tbody",{children:[e.map(P=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsxs("td",{className:"py-3 pr-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:P.name}),P.description?s.jsx("div",{className:"text-gray-500 mt-1",children:P.description}):null]}),s.jsx("td",{className:"py-3 pr-3",children:s.jsx("span",{className:"inline-flex rounded-md border px-2 py-1 text-xs text-gray-700",children:P.status})}),s.jsx("td",{className:"py-3 pr-3 text-gray-700",children:SD(P.start_date)}),s.jsx("td",{className:"py-3 pr-3 text-gray-700",children:SD(P.end_date)}),s.jsx("td",{className:"py-3 text-right",children:s.jsxs("div",{className:"inline-flex gap-2",children:[s.jsx(Te,{variant:"outline",size:"sm",onClick:()=>E(P),disabled:r,children:"Edit"}),s.jsx(Te,{variant:"outline",size:"sm",onClick:()=>k(P),disabled:r,children:"Variants"}),P.status!=="running"?s.jsx(Te,{size:"sm",onClick:()=>S(P,"running"),disabled:r,children:"Run"}):s.jsx(Te,{variant:"outline",size:"sm",onClick:()=>S(P,"paused"),disabled:r,children:"Pause"})]})})]},P.id)),e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500",children:"No experiments found"})}):null]})]})})})]}),s.jsxs(Pd,{open:u,onOpenChange:P=>h(P),children:[s.jsx(FN,{asChild:!0,children:s.jsx("span",{})}),s.jsxs(Rd,{children:[s.jsx(Id,{children:s.jsx(Dd,{children:o?.id?"Edit Experiment":"New Experiment"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),s.jsx(ir,{value:o?.name||"",onChange:P=>l(O=>O&&{...O,name:P.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),s.jsx(pm,{value:o?.description||"",onChange:P=>l(O=>O&&{...O,description:P.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),s.jsxs(lje,{value:o?.status||"draft",onValueChange:P=>l(O=>O&&{...O,status:P}),children:[s.jsx(uje,{children:s.jsx(cje,{})}),s.jsx(dje,{children:x.map(P=>s.jsx(hje,{value:P.id,children:P.label},P.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date (UTC)"}),s.jsx(ir,{type:"date",value:o?.start_date||"",onChange:P=>l(O=>O&&{...O,start_date:P.target.value||null})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date (UTC)"}),s.jsx(ir,{type:"date",value:o?.end_date||"",onChange:P=>l(O=>O&&{...O,end_date:P.target.value||null})})]})]})]}),s.jsxs(fm,{children:[s.jsx(Te,{variant:"outline",onClick:()=>h(!1),disabled:r,children:"Cancel"}),s.jsxs(Te,{onClick:C,disabled:r||!o?.name,children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save"]})]})]})]}),s.jsxs(Pd,{open:f,onOpenChange:P=>p(P),children:[s.jsx(FN,{asChild:!0,children:s.jsx("span",{})}),s.jsxs(Rd,{children:[s.jsx(Id,{children:s.jsx(Dd,{children:"Variants"})}),s.jsxs("div",{className:"space-y-4",children:[b.map((P,O)=>s.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Variant Key"}),s.jsx(ir,{value:P.variant_key,onChange:I=>y(D=>D.map((L,F)=>F===O?{...L,variant_key:I.target.value}:L))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Traffic %"}),s.jsx(ir,{type:"number",value:P.traffic_percent,onChange:I=>y(D=>D.map((L,F)=>F===O?{...L,traffic_percent:I.target.value}:L))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Config (JSON)"}),s.jsx(pm,{value:P.configText,onChange:I=>y(D=>D.map((L,F)=>F===O?{...L,configText:I.target.value}:L))})]})]},O)),s.jsxs(Te,{variant:"outline",onClick:()=>y(P=>[...P,{variant_key:"",traffic_percent:"0",configText:"{}"}]),disabled:r,children:[s.jsx(_r,{className:"w-4 h-4"}),"Add Variant"]})]}),s.jsxs(fm,{children:[s.jsx(Te,{variant:"outline",onClick:()=>p(!1),disabled:r,children:"Cancel"}),s.jsxs(Te,{onClick:A,disabled:r,children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save"]})]})]})]})]})}function aN(e,t=0){return e==null||Number.isNaN(e)?"--":e.toFixed(t)}function kD(e){return e==null||Number.isNaN(e)?"--":`${(e*100).toFixed(1)}%`}function ED(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[a,i]=w.useState(null),[o,l]=w.useState(""),[u,h]=w.useState(""),[f,p]=w.useState(""),[g,v]=w.useState(""),[b,y]=w.useState(""),[x,_]=w.useState(""),N=async()=>{t(!0),n(null);try{const S=await Pq({from:o||void 0,to:u||void 0,app_version:f||void 0,screen:g||void 0,feature_key:b||void 0,network_state:x||void 0});if(!S?.success)throw new Error(S?.error||"Failed to load");i(S.data)}catch(S){n(S?.message||"Failed to load")}finally{t(!1)}};w.useEffect(()=>{N()},[]);const E=a?.dimensions,C=w.useMemo(()=>({loadTime:a?.trends?.image_load_time_ms||[],downscale:a?.trends?.downscale_pct||[],buffering:a?.trends?.video_buffering_count||[]}),[a]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Media Health Overview"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Definitions: Avg Image Load Time = avg(payload.duration_ms) where event_code=DG-MEDIA-0001"})]}),s.jsxs("button",{onClick:N,disabled:e,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${e?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx("input",{placeholder:"from (ISO)",value:o,onChange:S=>l(S.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsx("input",{placeholder:"to (ISO)",value:u,onChange:S=>h(S.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsxs("select",{value:f,onChange:S=>p(S.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"app_version (all)"}),(E?.app_versions||[]).map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsxs("select",{value:g,onChange:S=>v(S.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"screen (all)"}),(E?.screens||[]).map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsxs("select",{value:b,onChange:S=>y(S.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"feature_key (all)"}),(E?.feature_keys||[]).map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsxs("select",{value:x,onChange:S=>_(S.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"network_state (all)"}),(E?.network_states||[]).map(S=>s.jsx("option",{value:S,children:S},S))]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:N,disabled:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm disabled:opacity-50",children:"Apply Filters"})}),r&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:r})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Avg Image Load Time (ms)"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-gray-900",children:aN(a?.kpis?.avg_image_load_ms,0)}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"avg(duration_ms) for DG-MEDIA-0001"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"% Images Downscaled"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-gray-900",children:kD(a?.kpis?.image_downscale_pct)}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"DG-MEDIA-0002 / DG-MEDIA-0001"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Image Failure Rate"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-gray-900",children:kD(a?.kpis?.image_failure_rate)}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"DG-MEDIA-0003 / DG-MEDIA-0001"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Video Buffering"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-gray-900",children:aN(a?.kpis?.video_buffering_count,0)}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"DG-MEDIA-0004 count (rate pending video_started)"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Video Releases"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-gray-900",children:aN(a?.kpis?.video_release_count,0)}),s.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"DG-MEDIA-0005 count"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Image load time trend"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Daily avg(duration_ms) for DG-MEDIA-0001"}),s.jsx("div",{className:"mt-3 h-[240px]",children:s.jsx(Zr,{width:"100%",height:"100%",children:s.jsxs(Fa,{data:C.loadTime,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",hide:!0}),s.jsx(Ir,{}),s.jsx(Ut,{}),s.jsx(cr,{type:"monotone",dataKey:"value",stroke:"#16a34a",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Downscale % trend"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"DG-MEDIA-0002 / DG-MEDIA-0001 per day"}),s.jsx("div",{className:"mt-3 h-[240px]",children:s.jsx(Zr,{width:"100%",height:"100%",children:s.jsxs(Fa,{data:C.downscale,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",hide:!0}),s.jsx(Ir,{tickFormatter:S=>`${Math.round(S*100)}%`}),s.jsx(Ut,{formatter:S=>`${(Number(S)*100).toFixed(1)}%`}),s.jsx(cr,{type:"monotone",dataKey:"value",stroke:"#2563eb",strokeWidth:2,dot:!1})]})})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Video buffering over time"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"DG-MEDIA-0004 count per day"}),s.jsx("div",{className:"mt-3 h-[240px]",children:s.jsx(Zr,{width:"100%",height:"100%",children:s.jsxs(Fa,{data:C.buffering,children:[s.jsx(jn,{strokeDasharray:"3 3"}),s.jsx(Rr,{dataKey:"date",hide:!0}),s.jsx(Ir,{}),s.jsx(Ut,{}),s.jsx(cr,{type:"monotone",dataKey:"value",stroke:"#f59e0b",strokeWidth:2,dot:!1})]})})})]})]})]})}function yje(e){return e==null||Number.isNaN(e)?"--":e.toFixed(0)}function vje(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[a,i]=w.useState(null),[o,l]=w.useState(""),[u,h]=w.useState(""),[f,p]=w.useState(""),[g,v]=w.useState(""),[b,y]=w.useState(""),[x,_]=w.useState(""),[N,E]=w.useState(50),C=async()=>{t(!0),n(null);try{const A=await Rq({from:o||void 0,to:u||void 0,app_version:f||void 0,screen:g||void 0,feature_key:b||void 0,network_state:x||void 0,limit:N});if(!A?.success)throw new Error(A?.error||"Failed to load");i(A.data)}catch(A){n(A?.message||"Failed to load")}finally{t(!1)}};w.useEffect(()=>{C()},[]);const S=a?.dimensions,k=w.useMemo(()=>a?.rows||[],[a]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Heavy Asset Explorer"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Grouped by asset_id or asset_url from DG-MEDIA payload"})]}),s.jsxs("button",{onClick:C,disabled:e,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${e?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-3",children:[s.jsx("input",{placeholder:"from (ISO)",value:o,onChange:A=>l(A.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsx("input",{placeholder:"to (ISO)",value:u,onChange:A=>h(A.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsxs("select",{value:f,onChange:A=>p(A.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"app_version (all)"}),(S?.app_versions||[]).map(A=>s.jsx("option",{value:A,children:A},A))]}),s.jsxs("select",{value:g,onChange:A=>v(A.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"screen (all)"}),(S?.screens||[]).map(A=>s.jsx("option",{value:A,children:A},A))]}),s.jsxs("select",{value:b,onChange:A=>y(A.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"feature_key (all)"}),(S?.feature_keys||[]).map(A=>s.jsx("option",{value:A,children:A},A))]}),s.jsxs("select",{value:x,onChange:A=>_(A.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"network_state (all)"}),(S?.network_states||[]).map(A=>s.jsx("option",{value:A,children:A},A))]}),s.jsx("input",{type:"number",value:N,onChange:A=>E(parseInt(A.target.value||"50",10)||50),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm",min:10,max:200,placeholder:"limit"})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:C,disabled:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm disabled:opacity-50",children:"Apply Filters"})}),r&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:r})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Asset"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg load (ms)"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Downscale"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Fail"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Buffer"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Release"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Screens"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[k.map(A=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 text-sm text-gray-800",children:[s.jsx("div",{className:"font-mono text-xs text-gray-600",children:A.asset_key}),A.asset_url&&s.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[420px]",children:A.asset_url})]}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:yje(A.avg_load_ms)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:A.downscales}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:A.failures}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:A.bufferings}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:A.releases}),s.jsxs("td",{className:"px-3 py-2 text-xs text-gray-600",children:[(A.screens||[]).slice(0,3).join(", "),(A.screens||[]).length>3?"":""]})]},A.asset_key)),k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-10 text-center text-sm text-gray-500",children:"No DG-MEDIA assets found for current filters."})})]})]})})})]})}function Lp(e,t){if(e==null||t==null||e===0)return"--";const r=(t-e)/e;return`${r>0?"+":""}${(r*100).toFixed(1)}%`}function AD(e,t=0){return e==null||Number.isNaN(e)?"--":e.toFixed(t)}function Fp(e){return e==null||Number.isNaN(e)?"--":`${(e*100).toFixed(1)}%`}function bje(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[a,i]=w.useState([]),[o,l]=w.useState(""),[u,h]=w.useState(""),[f,p]=w.useState(""),[g,v]=w.useState(""),[b,y]=w.useState(null),x=async()=>{try{const N=await Cq();if(N?.success){const E=N.data?.app_versions||[];i(E),!o&&E[0]&&l(E[0]),!u&&E[1]&&h(E[1])}}catch{}},_=async()=>{if(!(!o||!u)){t(!0),n(null);try{const N=await Iq({version_a:o,version_b:u,from:f||void 0,to:g||void 0});if(!N?.success)throw new Error(N?.error||"Failed to load");y(N.data)}catch(N){n(N?.message||"Failed to load")}finally{t(!1)}}};return w.useEffect(()=>{x()},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Before vs After"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Compare metrics across releases (version-aware)"})]}),s.jsxs("button",{onClick:_,disabled:e,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50",children:[s.jsx(mt,{className:`w-4 h-4 ${e?"animate-spin":""}`}),s.jsx("span",{children:"Compare"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"Version A"}),a.map(N=>s.jsx("option",{value:N,children:N},N))]}),s.jsxs("select",{value:u,onChange:N=>h(N.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white",children:[s.jsx("option",{value:"",children:"Version B"}),a.map(N=>s.jsx("option",{value:N,children:N},N))]}),s.jsx("input",{placeholder:"from (ISO)",value:f,onChange:N=>p(N.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsx("input",{placeholder:"to (ISO)",value:g,onChange:N=>v(N.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"})]}),r&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:r})]}),b&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Metrics"}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Range: ",b.range.from,"  ",b.range.to]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Metric"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"A"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"B"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Delta"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:"Avg image load (ms)"}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:AD(b.metrics_a.avg_image_load_ms)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:AD(b.metrics_b.avg_image_load_ms)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Lp(b.metrics_a.avg_image_load_ms,b.metrics_b.avg_image_load_ms)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:"Downscale %"}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Fp(b.metrics_a.image_downscale_pct)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Fp(b.metrics_b.image_downscale_pct)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Lp(b.metrics_a.image_downscale_pct,b.metrics_b.image_downscale_pct)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:"Image failure rate"}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Fp(b.metrics_a.image_failure_rate)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Fp(b.metrics_b.image_failure_rate)}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Lp(b.metrics_a.image_failure_rate,b.metrics_b.image_failure_rate)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:"Video buffering (count)"}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:b.metrics_a.video_buffering_count}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:b.metrics_b.video_buffering_count}),s.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 text-right font-mono",children:Lp(b.metrics_a.video_buffering_count,b.metrics_b.video_buffering_count)})]})]})]})})]})]})}function wje(){const e=w.useMemo(()=>[{id:"media",label:"/admin/divine-guard/media"},{id:"assets",label:"/admin/divine-guard/media/assets"},{id:"compare",label:"/admin/divine-guard/media/compare"}],[]),[t,r]=w.useState("media"),n=()=>{switch(t){case"media":return s.jsx(ED,{});case"assets":return s.jsx(vje,{});case"compare":return s.jsx(bje,{});default:return s.jsx(ED,{})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Divine Guard  Media"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Data from Divine Guard (dg_events, DG-MEDIA-*)"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1 flex-wrap",children:e.map(a=>s.jsx("button",{onClick:()=>r(a.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===a.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:a.label},a.id))}),n()]})}function Up(e){const t=parseInt(e,10);return!Number.isFinite(t)||t<=0?null:t}function jje(){const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[a,i]=w.useState(null),[o,l]=w.useState(null),[u,h]=w.useState(""),[f,p]=w.useState(""),[g,v]=w.useState(""),b=w.useMemo(()=>{const N=[];return u&&N.push(`app_version=${u}`),f&&N.push(`feature_key=${f}`),g&&N.push(`network_state=${g}`),N.length>0?N.join(" "):"global (no match filters)"},[u,f,g]),y=async()=>{t(!0),i(null);try{const N=await Dq({app_version:u||void 0,feature_key:f||void 0,network_state:g||void 0});if(!N?.success)throw new Error(N?.error||"Failed to load");l(N.data)}catch(N){i(N?.message||"Failed to load")}finally{t(!1)}};w.useEffect(()=>{y()},[]);const x=async N=>{n(!0),i(null);try{await Mq(N),await y()}catch(E){i(E?.message||"Failed to save")}finally{n(!1)}},_=w.useMemo(()=>{const N={};return u&&(N.app_version=[u]),f&&(N.feature_key=[f]),g&&(N.network_state=[g]),Object.keys(N).length>0?N:null},[u,f,g]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Divine Guard  Control Plane"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Remote runtime controls compiled from dg_admin_rules"})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Context preview"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Snapshot is compiled for: ",b]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{value:u,onChange:N=>h(N.target.value),placeholder:"app_version (optional)",className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsx("input",{value:f,onChange:N=>p(N.target.value),placeholder:"feature_key (optional)",className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"}),s.jsx("input",{value:g,onChange:N=>v(N.target.value),placeholder:"network_state (optional)",className:"border border-gray-200 rounded-lg px-3 py-2 text-sm"})]}),s.jsx("button",{onClick:y,disabled:e,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50",children:"Refresh Snapshot"}),a&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm px-4 py-2 rounded-lg",children:a})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Emergency Controls"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Safe Mode overrides all other rules"})]}),s.jsx("button",{onClick:()=>x({rule_key:"dg_global_safe_mode",scope:"global",enabled:!0,priority:1e3,match:_,action:{safe_mode:!o?.global?.safe_mode}}),disabled:r,className:`px-4 py-2 rounded-lg text-sm font-medium ${o?.global?.safe_mode?"bg-red-600 text-white":"bg-green-600 text-white"} disabled:opacity-50`,children:o?.global?.safe_mode?"Safe Mode: ON":"Safe Mode: OFF"})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Current snapshot compiled_at: ",o?.compiled_at||"--"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Media Controls"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Applies to OptimizedImage/OptimizedVideo"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Force image quality"}),s.jsxs("select",{value:o?.media?.force_image_quality||"auto",onChange:N=>x({rule_key:"dg_media_force_image_quality",scope:"media",enabled:!0,priority:500,match:_,action:{force_image_quality:N.target.value}}),disabled:r,className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white disabled:opacity-50",children:[s.jsx("option",{value:"auto",children:"auto"}),s.jsx("option",{value:"low",children:"low"}),s.jsx("option",{value:"medium",children:"medium"}),s.jsx("option",{value:"high",children:"high"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Max concurrent media loads"}),s.jsx("input",{value:o?.media?.max_concurrent_media_loads==null?"":String(o.media.max_concurrent_media_loads),onChange:N=>x({rule_key:"dg_media_max_concurrent_loads",scope:"media",enabled:!0,priority:450,match:_,action:{max_concurrent_media_loads:Up(N.target.value)}}),disabled:r,placeholder:"(empty = unlimited)",className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm disabled:opacity-50"})]})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Disable video autoplay"}),s.jsx("input",{type:"checkbox",checked:!!o?.media?.disable_video_autoplay,onChange:N=>x({rule_key:"dg_media_disable_video_autoplay",scope:"media",enabled:!0,priority:480,match:_,action:{disable_video_autoplay:N.target.checked}}),disabled:r})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Disable video entirely (thumbnail fallback)"}),s.jsx("input",{type:"checkbox",checked:!!o?.media?.disable_video,onChange:N=>x({rule_key:"dg_media_disable_video",scope:"media",enabled:!0,priority:490,match:_,action:{disable_video:N.target.checked}}),disabled:r})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Disable media preloading"}),s.jsx("input",{type:"checkbox",checked:!!o?.media?.disable_preloading,onChange:N=>x({rule_key:"dg_media_disable_preloading",scope:"media",enabled:!0,priority:470,match:_,action:{disable_preloading:N.target.checked}}),disabled:r})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Network Controls"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Applies to networkClient"})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Disable retries globally"}),s.jsx("input",{type:"checkbox",checked:!!o?.network?.disable_retries,onChange:N=>x({rule_key:"dg_network_disable_retries",scope:"network",enabled:!0,priority:400,match:_,action:{disable_retries:N.target.checked}}),disabled:r})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Retry count"}),s.jsx("input",{value:o?.network?.retry_count==null?"":String(o.network.retry_count),onChange:N=>x({rule_key:"dg_network_retry_count",scope:"network",enabled:!0,priority:390,match:_,action:{retry_count:Up(N.target.value)??0}}),disabled:r,placeholder:"(empty = default)",className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm disabled:opacity-50"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Timeout (ms)"}),s.jsx("input",{value:o?.network?.timeout_ms==null?"":String(o.network.timeout_ms),onChange:N=>x({rule_key:"dg_network_timeout_ms",scope:"network",enabled:!0,priority:380,match:_,action:{timeout_ms:Up(N.target.value)}}),disabled:r,placeholder:"(empty = default)",className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm disabled:opacity-50"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"UX Controls"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Applies via document dataset + watchdog threshold override"})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Skeleton-only mode"}),s.jsx("input",{type:"checkbox",checked:!!o?.ux?.skeleton_only,onChange:N=>x({rule_key:"dg_ux_skeleton_only",scope:"ux",enabled:!0,priority:300,match:_,action:{skeleton_only:N.target.checked}}),disabled:r})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Reduce animations"}),s.jsx("input",{type:"checkbox",checked:!!o?.ux?.reduce_animations,onChange:N=>x({rule_key:"dg_ux_reduce_animations",scope:"ux",enabled:!0,priority:290,match:_,action:{reduce_animations:N.target.checked}}),disabled:r})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"UX watchdog threshold (ms)"}),s.jsx("input",{value:o?.ux?.ux_watchdog_threshold_ms==null?"":String(o.ux.ux_watchdog_threshold_ms),onChange:N=>x({rule_key:"dg_ux_watchdog_threshold_ms",scope:"ux",enabled:!0,priority:280,match:_,action:{ux_watchdog_threshold_ms:Up(N.target.value)}}),disabled:r,placeholder:"(empty = default)",className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm disabled:opacity-50"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"AI Controls"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Applies to murugan_agent wrapper"})]}),s.jsxs("label",{className:"flex items-center justify-between gap-3",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Disable AI calls"}),s.jsx("input",{type:"checkbox",checked:!!o?.ai?.disable_ai,onChange:N=>x({rule_key:"dg_ai_disable_ai",scope:"ai",enabled:!0,priority:250,match:_,action:{disable_ai:N.target.checked}}),disabled:r})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Applied Rules"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Snapshot indicates what rules contributed to the current state"}),s.jsx("pre",{className:"mt-3 text-xs bg-gray-50 border border-gray-200 rounded-lg p-3 overflow-x-auto",children:JSON.stringify(o?.applied||[],null,2)})]})]})}function Nje(){const e=w.useMemo(()=>[{id:"overview",label:"Overview"},{id:"product",label:"Product"},{id:"content",label:"Content"},{id:"growth",label:"Growth"},{id:"advanced",label:"Advanced"}],[]),[t,r]=w.useState("overview"),n=()=>{switch(t){case"overview":return s.jsx(ND,{});case"product":return s.jsx(lwe,{});case"content":return s.jsx(cwe,{});case"growth":return s.jsx(uwe,{});case"advanced":return s.jsxs("div",{className:"space-y-6",children:[s.jsx(xg,{title:"Raw Explorer",subtitle:"Universal event stream",defaultTab:"events",allowedTabs:["events"]}),s.jsx(xg,{title:"Session Timeline",subtitle:"Universal sessions",defaultTab:"sessions",allowedTabs:["sessions"]}),s.jsx(xje,{}),s.jsx(ywe,{}),s.jsx(Vbe,{}),s.jsx(iwe,{}),s.jsx(gwe,{}),s.jsx(dwe,{}),s.jsx(pwe,{}),s.jsx(hwe,{}),s.jsx(fwe,{}),s.jsx(wje,{}),s.jsx(jje,{})]});default:return s.jsx(ND,{})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",style:{fontFamily:"var(--font-english)"},children:"Analytics"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Monitor and manage analytics"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1 flex-wrap",children:e.map(a=>s.jsx("button",{onClick:()=>r(a.id),className:`px-6 py-2 rounded-lg text-sm font-medium transition-all ${t===a.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:a.label},a.id))}),n()]})}function TD(){const[e,t]=w.useState("general"),r=[{id:"general",label:"General",icon:Go},{id:"admins",label:"Admin Accounts",icon:un},{id:"storage",label:"Storage",icon:Dr},{id:"api",label:"API Keys",icon:BH},{id:"optimization",label:"Image Optimization",icon:ON},{id:"ai",label:"AI Engine",icon:a3},{id:"cdn",label:"CDN",icon:yG},{id:"upload",label:"Upload Config",icon:ki},{id:"security",label:"Security",icon:Sg}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",style:{fontFamily:"var(--font-english)"},children:"Settings"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Configure admin panel and app settings"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:s.jsx("nav",{className:"space-y-1",children:r.map(n=>{const a=n.icon;return s.jsxs("button",{onClick:()=>t(n.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${e===n.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(a,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:n.label})]},n.id)})})}),s.jsxs("div",{className:"col-span-3 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"General App Settings"})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"App Name"}),s.jsx("input",{type:"text",defaultValue:"Tamil Kadavul Murugan",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),s.jsx("input",{type:"email",defaultValue:"admin@murugan.app",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),s.jsx("input",{type:"email",defaultValue:"support@murugan.app",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Enable maintenance mode"})]})}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Allow user registrations"})]})}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save Changes"]})]}),e==="admins"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Admin Accounts"}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm",children:"Add Admin"})]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:"Admin User"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"admin@murugan.app"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded",children:"Super Admin"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"Edit"})})]})})]})]}),e==="storage"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Storage Configuration"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Provider"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600",children:[s.jsx("option",{children:"Supabase Storage"}),s.jsx("option",{children:"AWS S3"}),s.jsx("option",{children:"Google Cloud Storage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max File Size (MB)"}),s.jsx("input",{type:"number",defaultValue:"50",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Auto-delete unused files after 90 days"})]})}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save Changes"]})]}),e==="api"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"API Keys"}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:" Keep your API keys secure. Never share them publicly."})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supabase URL"}),s.jsx("input",{type:"text",defaultValue:"https://your-project.supabase.co",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supabase Anon Key"}),s.jsx("input",{type:"password",defaultValue:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 font-mono text-sm"})]}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save Changes"]})]}),e==="optimization"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Image Optimization Rules"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Image Width (px)"}),s.jsx("input",{type:"number",defaultValue:"2048",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality (%)"}),s.jsx("input",{type:"number",defaultValue:"80",min:"1",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Generate WebP format"})]})}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Generate AVIF format"})]})}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Strip EXIF metadata"})]})}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save Changes"]})]}),e==="ai"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"AI Engine Settings"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Provider"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600",children:[s.jsx("option",{children:"OpenAI GPT-4"}),s.jsx("option",{children:"Google Gemini"}),s.jsx("option",{children:"Anthropic Claude"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),s.jsx("input",{type:"password",placeholder:"sk-...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature (0-1)"}),s.jsx("input",{type:"number",defaultValue:"0.7",min:"0",max:"1",step:"0.1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),s.jsx("input",{type:"number",defaultValue:"500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save Changes"]})]}),e==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Security & Rate Limits"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Rate Limit (requests/minute)"}),s.jsx("input",{type:"number",defaultValue:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Login Attempts"}),s.jsx("input",{type:"number",defaultValue:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Enable 2FA for admins"})]})}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Log all admin actions"})]})}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(Ys,{className:"w-4 h-4"}),"Save Changes"]})]})]})]})]})}function _je(){const[e,t]=w.useState("overview"),r=[{month:"Jan",revenue:12500},{month:"Feb",revenue:15200},{month:"Mar",revenue:18900},{month:"Apr",revenue:22300},{month:"May",revenue:26700},{month:"Jun",revenue:31200}],n=[{name:"Monthly",value:45,color:"#3b82f6"},{name:"Yearly",value:55,color:"#10b981"}],a=[{id:"overview",label:"Overview"},{id:"users",label:"Premium Users"},{id:"coupons",label:"Coupons"},{id:"campaigns",label:"Campaigns"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",style:{fontFamily:"var(--font-english)"},children:"Subscriptions Management"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage premium subscriptions and revenue"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1",children:a.map(i=>s.jsx("button",{onClick:()=>t(i.id),className:`px-6 py-2 rounded-lg text-sm font-medium transition-all ${e===i.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:i.label},i.id))}),e==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Premium"}),s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(un,{className:"w-5 h-5 text-blue-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"1,234"}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+18% from last month"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"MRR"}),s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(xH,{className:"w-5 h-5 text-green-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"31,200"}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+23% from last month"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Conversion Rate"}),s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Ko,{className:"w-5 h-5 text-purple-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"4.2%"}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+0.8% from last month"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Renewal Rate"}),s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-yellow-600"})})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"92%"}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Industry avg: 85%"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Revenue Trend"}),s.jsx(Zr,{width:"100%",height:250,children:s.jsxs(Fa,{data:r,children:[s.jsx(jn,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Rr,{dataKey:"month",stroke:"#6b7280"}),s.jsx(Ir,{stroke:"#6b7280"}),s.jsx(Ut,{}),s.jsx(cr,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:6}})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Plan Distribution"}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Zr,{width:"100%",height:250,children:s.jsxs(xk,{children:[s.jsx(Fs,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:o})=>`${i}: ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((i,o)=>s.jsx(Xc,{fill:i.color},`cell-${o}`))}),s.jsx(Ut,{})]})})})]})]})]}),e==="users"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Premium Users"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Start Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Renewal"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:[1,2,3,4,5].map(i=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-700 font-bold text-sm",children:"R"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Rajesh Kumar"}),s.jsx("p",{className:"text-xs text-gray-500",children:"rajesh@gmail.com"})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded font-medium",children:"Yearly"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"Jan 15, 2024"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"Jan 15, 2025"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded font-medium",children:"Active"})})]},i))})]})})]}),e==="coupons"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-gray-600",children:"Manage discount coupons and promotional codes"}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(_r,{className:"w-4 h-4"}),"Create Coupon"]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-6",children:[1,2,3].map(i=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"FESTIVAL50"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"50% off yearly plan"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:s.jsx(PG,{className:"w-4 h-4 text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-red-100 rounded",children:s.jsx(zr,{className:"w-4 h-4 text-red-600"})})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Uses:"}),s.jsx("span",{className:"font-medium text-gray-800",children:"234 / 500"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Valid until:"}),s.jsx("span",{className:"font-medium text-gray-800",children:"Dec 31, 2024"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded font-medium",children:"Active"})})]},i))})]}),e==="campaigns"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-gray-600",children:"Marketing campaigns to boost subscriptions"}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(_r,{className:"w-4 h-4"}),"New Campaign"]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Campaign management coming soon"})})]})]})}function Sje(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[a,i]=w.useState(0);w.useEffect(()=>{o()},[]);const o=async()=>{n(!0);try{const u=await LM();if(u.success&&u.data){const h={wallpapers:"#3b82f6",banners:"#14b8a6",media:"#a855f7",photos:"#ec4899",sparkle:"#eab308"},f=u.data.reduce((g,v)=>g+v.size,0);i(f);const p=u.data.map(g=>({name:g.name.charAt(0).toUpperCase()+g.name.slice(1),size:Math.max(parseFloat((g.size/(1024*1024*1024)).toFixed(3)),.001),rawSize:g.size,count:g.count,color:h[g.name]||"#9ca3af"})).filter(g=>g.count>0);t(p)}}catch(u){console.error("Failed to fetch storage stats:",u),ee.error("Failed to load storage statistics")}finally{n(!1)}},l=u=>{if(u===0)return"0 B";const h=1024,f=["B","KB","MB","GB","TB"],p=Math.floor(Math.log(u)/Math.log(h));return parseFloat((u/Math.pow(h,p)).toFixed(2))+" "+f[p]};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Storage Monitor"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Track storage usage and optimization opportunities"})]}),s.jsx("button",{onClick:o,className:"p-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",title:"Refresh Stats",children:s.jsx(mt,{className:`w-5 h-5 text-gray-600 ${r?"animate-spin":""}`})})]}),r?s.jsx("div",{className:"h-64 flex items-center justify-center bg-white rounded-xl border",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(mt,{className:"w-8 h-8 text-green-600 animate-spin"}),s.jsx("p",{className:"text-gray-500",children:"Calculating storage usage..."})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Dr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l(a)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Used"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(ON,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"100%"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Health Check"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(cn,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.reduce((u,h)=>u+h.count,0)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Files"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(RH,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"~"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Supabase Storage"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Storage Distribution"}),e.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(Zr,{width:"100%",height:"100%",children:s.jsxs(xk,{children:[s.jsx(Fs,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:h})=>h>.05?`${(h*100).toFixed(0)}%`:"",outerRadius:100,fill:"#8884d8",dataKey:"size",children:e.map((u,h)=>s.jsx(Xc,{fill:u.color},`cell-${h}`))}),s.jsx(Ut,{formatter:(u,h,f)=>[l(f.payload.rawSize),h]})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-gray-400",children:"No storage data available"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Detailed Breakdown"}),s.jsxs("div",{className:"space-y-4",children:[e.map((u,h)=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-50 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:u.color}}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 block",children:u.name}),s.jsxs("span",{className:"text-xs text-gray-400",children:[u.count," files"]})]})]}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l(u.rawSize)})]},h)),e.length===0&&s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No files found in visible buckets."})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border opacity-75",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Optimization Suggestions (Coming Soon)"})}),s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx(ON,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Compress Images"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Automated image compression analysis will appear here."})]})]})})]})]})}function kje(){const e=w.useMemo(()=>[{id:"settings",label:"Settings"},{id:"subscriptions",label:"Subscriptions"},{id:"storage",label:"Storage"}],[]),[t,r]=w.useState("settings"),n=()=>{switch(t){case"settings":return s.jsx(TD,{});case"subscriptions":return s.jsx(_je,{});case"storage":return s.jsx(Sje,{});default:return s.jsx(TD,{})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",style:{fontFamily:"var(--font-english)"},children:"Settings"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Configure admin panel and app settings"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex gap-1 flex-wrap",children:e.map(a=>s.jsx("button",{onClick:()=>r(a.id),className:`px-6 py-2 rounded-lg text-sm font-medium transition-all ${t===a.id?"bg-green-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"}`,children:a.label},a.id))}),n()]})}function Eje({onExitAdmin:e}){const{user:t,signOut:r}=Vo(),[n,a]=w.useState("dashboard"),[i,o]=w.useState(""),[l,u]=w.useState(!1),[h,f]=w.useState(!1),[p,g]=w.useState(!1),v=[{id:"dashboard",label:"Dashboard",icon:pp},{id:"content",label:"Content",icon:pp},{id:"analytics",label:"Analytics",icon:en},{id:"users",label:"Users",icon:un},{id:"settings",label:"Settings",icon:Go}],b=()=>{switch(n){case"dashboard":return s.jsx(J5,{});case"content":return s.jsx(Bbe,{});case"analytics":return s.jsx(Nje,{});case"users":return s.jsx(E0e,{});case"settings":return s.jsx(kje,{});default:return s.jsx(J5,{})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsxs("aside",{className:`${h?"w-20":"w-64"} bg-gradient-to-b from-green-800 to-green-900 shadow-xl fixed left-0 top-0 bottom-0 overflow-y-auto transition-all duration-300`,children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:h?s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-lg flex items-center justify-center",children:s.jsx(pp,{className:"w-6 h-6 text-green-900"})}),s.jsx("button",{onClick:()=>f(!h),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(xT,{className:"w-5 h-5 text-white"})})]}):s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-400 rounded-lg flex items-center justify-center",children:s.jsx(pp,{className:"w-6 h-6 text-green-900"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-white text-lg font-bold leading-tight",style:{fontFamily:"var(--font-english)"},children:"Murugan Admin"}),s.jsx("p",{className:"text-green-200 text-xs",children:"Content Management"})]})]}),s.jsx("button",{onClick:()=>f(!h),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:s.jsx(xT,{className:"w-5 h-5 text-white"})})]})}),s.jsx("nav",{className:"p-4 space-y-1 pb-24",children:v.map(y=>{const x=y.icon,_=n===y.id;return s.jsxs("button",{onClick:()=>a(y.id),title:h?y.label:void 0,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 relative group ${_?"bg-white/20 text-white shadow-lg":"text-green-100 hover:bg-white/10 hover:text-white"}`,children:[s.jsx(x,{className:"w-5 h-5 flex-shrink-0"}),!h&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-medium",children:y.label}),_&&s.jsx("div",{className:"ml-auto w-1 h-6 bg-yellow-400 rounded-full"})]}),h&&s.jsxs("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:[y.label,s.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 w-0 h-0 border-t-4 border-t-transparent border-b-4 border-b-transparent border-r-4 border-r-gray-900"})]}),_&&h&&s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-yellow-400 rounded-r-full"})]},y.id)})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10 bg-green-900/90",children:h?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})}):s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded-lg px-3 py-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-white text-xs font-medium",children:"All Synced"})]})})]}),s.jsxs("div",{className:`flex-1 transition-all duration-300 ${h?"ml-20":"ml-64"}`,children:[s.jsx("header",{className:"sticky top-0 z-40 bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-6 h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>f(!h),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",children:h?s.jsx(Oa,{className:"w-5 h-5 text-gray-700"}):s.jsx(I_,{className:"w-5 h-5 text-gray-700"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800 capitalize",children:n.replace("-"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2 w-80",children:[s.jsx($_,{className:"w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search admin panel...",value:i,onChange:y=>o(y.target.value),className:"flex-1 bg-transparent text-gray-800 text-sm placeholder:text-gray-400 outline-none"})]}),s.jsxs("button",{onClick:()=>u(!l),className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(C_,{className:"w-5 h-5 text-gray-700"}),s.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsxs("button",{onClick:()=>g(y=>!y),className:"flex items-center gap-3 hover:bg-gray-100 rounded-lg px-3 py-2 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-900 font-bold text-sm",children:"A"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-gray-800 text-sm font-medium",children:"Admin User"}),s.jsx("p",{className:"text-gray-500 text-xs",children:t?.email||""})]}),s.jsx(Ho,{className:"w-4 h-4 text-gray-400"})]})]})]})}),p&&s.jsxs("div",{className:"fixed top-16 right-6 w-64 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),s.jsx("p",{className:"text-sm font-medium text-gray-800 break-all",children:t?.email||""})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("button",{onClick:async()=>{g(!1),await r()},className:"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:"Sign out"}),s.jsx("button",{onClick:()=>{g(!1),e?.()},className:"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100",children:"Exit admin"})]})]}),l&&s.jsxs("div",{className:"fixed top-16 right-6 w-96 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 max-h-[500px] overflow-y-auto",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"font-bold text-gray-800",children:"Notifications"})}),s.jsxs("div",{className:"divide-y divide-gray-200",children:[s.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Wallpaper optimization complete"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"23 images optimized  2 minutes ago"})]})]})}),s.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:"New user signup"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"rajesh@gmail.com  15 minutes ago"})]})]})}),s.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Storage warning"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"85% capacity reached  1 hour ago"})]})]})})]}),s.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:s.jsx("button",{className:"text-sm text-green-700 font-medium hover:text-green-800",children:"View all notifications"})})]}),s.jsx("main",{className:"p-6",children:s.jsx("div",{className:"max-w-[1600px] mx-auto",children:b()})})]})]})}const iN=`-- Create media table
CREATE TABLE IF NOT EXISTS media (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  type TEXT NOT NULL CHECK (type IN ('image', 'video')),
  title TEXT NOT NULL,
  description TEXT,
  tags TEXT[] DEFAULT '{}',
  uploader TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  storage_path TEXT NOT NULL,
  thumbnail_url TEXT NOT NULL,
  duration_seconds INTEGER,
  downloadable BOOLEAN DEFAULT true,
  views INTEGER DEFAULT 0,
  likes INTEGER DEFAULT 0
);

-- Create user_favorites table
CREATE TABLE IF NOT EXISTS user_favorites (
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  media_id UUID NOT NULL REFERENCES media(id) ON DELETE CASCADE,
  saved_at TIMESTAMPTZ DEFAULT NOW(),
  downloaded BOOLEAN DEFAULT false,
  PRIMARY KEY (user_id, media_id)
);

-- Create increment_views function
CREATE OR REPLACE FUNCTION increment_views(media_id UUID)
RETURNS void AS $$
BEGIN
  UPDATE media
  SET views = views + 1
  WHERE id = media_id;
END;
$$ LANGUAGE plpgsql;

-- Enable Row Level Security
ALTER TABLE media ENABLE ROW LEVEL SECURITY;
ALTER TABLE user_favorites ENABLE ROW LEVEL SECURITY;

-- Drop existing policies if they exist
DROP POLICY IF EXISTS "Public read access" ON media;
DROP POLICY IF EXISTS "Users can read own favorites" ON user_favorites;
DROP POLICY IF EXISTS "Users can insert own favorites" ON user_favorites;
DROP POLICY IF EXISTS "Users can delete own favorites" ON user_favorites;

-- Create policies
CREATE POLICY "Public read access" ON media FOR SELECT USING (true);
CREATE POLICY "Users can read own favorites" ON user_favorites FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "Users can insert own favorites" ON user_favorites FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Users can delete own favorites" ON user_favorites FOR DELETE USING (auth.uid() = user_id);`;function Aje({onClose:e}){const[t,r]=w.useState(!1),[n,a]=w.useState(!1),i=async()=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(iN);else{const l=document.createElement("textarea");l.value=iN,l.style.position="fixed",l.style.left="-999999px",document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)}a(!0),ee.success(" SQL copied! Now paste it in Supabase SQL Editor."),setTimeout(()=>a(!1),3e3)}catch{ee.error("Failed to copy. Please select and copy manually.")}},o=async()=>{r(!0);try{const{error:l}=await Xs.from("media").select("id").limit(1),{error:u}=await Xs.from("user_favorites").select("media_id").limit(1);l?.code==="PGRST205"||u?.code==="PGRST205"?ee.error(" Tables not found. Please run the SQL commands first."):l||u?(ee.error("Error connecting. Check console for details."),console.error("Connection test errors:",{mediaError:l,favError:u})):ee.success(" SUCCESS! Database is ready. Reload the page to use the app.")}catch(l){console.error("Test connection error:",l),ee.error("Failed to test connection")}finally{r(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 overflow-y-auto",children:s.jsxs(We,{className:"max-w-3xl w-full my-8 p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-orange-600",children:" Database Setup Required"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none -mt-2",children:""})]}),s.jsxs(Ti,{className:"mb-6 bg-red-50 border-red-300 border-2",children:[s.jsx(cn,{className:"h-5 w-5 text-red-600"}),s.jsxs(Eo,{className:"text-gray-800",children:[s.jsx("strong",{children:"The app won't work until you complete this setup."}),s.jsx("br",{}),"You need to create database tables in Supabase. This is a one-time setup (2 minutes)."]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center",children:"1"}),s.jsx("h3",{className:"text-gray-900",children:"Copy the SQL Commands"})]}),s.jsxs("div",{className:"ml-11",children:[s.jsx(Te,{onClick:i,className:"gap-2 bg-orange-500 hover:bg-orange-600 mb-3",children:n?s.jsxs(s.Fragment,{children:[s.jsx(kd,{className:"w-4 h-4"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{className:"w-4 h-4"}),"Copy SQL to Clipboard"]})}),s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-sm text-blue-600 cursor-pointer hover:underline mb-2",children:"Show SQL Code (optional)"}),s.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded text-xs overflow-x-auto max-h-64",children:iN})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center",children:"2"}),s.jsx("h3",{className:"text-gray-900",children:"Run SQL in Supabase"})]}),s.jsxs("div",{className:"ml-11",children:[s.jsxs("ol",{className:"text-sm text-gray-700 space-y-2 mb-3 list-decimal list-inside",children:[s.jsxs("li",{children:["Go to ",s.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Supabase Dashboard"})]}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:'"SQL Editor"'})," in the left sidebar"]}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:'"New Query"'})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Paste the SQL"})," you copied in Step 1"]}),s.jsxs("li",{children:["Click ",s.jsx("strong",{children:'"Run"'})," (or press Ctrl+Enter)"]}),s.jsx("li",{children:'Wait for "Success. No rows returned" message'})]}),s.jsxs("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[s.jsx(Ci,{className:"w-4 h-4"}),"Open Supabase Dashboard"]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-orange-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center",children:"3"}),s.jsx("h3",{className:"text-gray-900",children:"Verify Setup"})]}),s.jsxs("div",{className:"ml-11",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"After running the SQL, click the button below to test the connection:"}),s.jsx(Te,{onClick:o,disabled:t,variant:"outline",className:"gap-2 border-2 border-green-500 text-green-700 hover:bg-green-50",children:t?s.jsxs(s.Fragment,{children:[s.jsx(mt,{className:"w-4 h-4 animate-spin"}),"Testing Connection..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mt,{className:"w-4 h-4"}),"Test Database Connection"]})})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-300 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:" After successful setup:"})," Close this guide and ",s.jsx("strong",{children:"reload the page (F5)"})," to use the app!"]})}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx(Te,{onClick:e,variant:"outline",children:"Close"}),s.jsx(Te,{onClick:()=>window.location.reload(),className:"bg-green-600 hover:bg-green-700",children:"Reload Page"})]}),s.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:["Need help? Check ",s.jsx("strong",{children:"QUICK_START_GUIDE.md"})," or ",s.jsx("strong",{children:"ERROR_FIXES.md"})," in the project files"]})]})})}const Tje=300*1e3,Oje=`https://${He}.supabase.co/functions/v1/make-server-4a075ebc`;function Cje(){return w.useEffect(()=>{console.log("[ServerWarmup] Starting background warmup pings...");const e=async()=>{try{(await fetch(`${Oje}/banners/list?type=home`,{method:"GET",headers:{Authorization:`Bearer ${he}`},signal:AbortSignal.timeout(3e3)})).ok&&console.log("[ServerWarmup]  Server is warm")}catch{console.log("[ServerWarmup] Ping failed (server may be cold)")}},t=setTimeout(e,1e4),r=setInterval(e,Tje);return()=>{clearTimeout(t),clearInterval(r),console.log("[ServerWarmup] Stopped warmup pings")}},[]),null}let oN=null,Pje=15e3;function OD(){try{oN&&clearTimeout(oN),OM(),oN=setTimeout(()=>{lq()},Pje)}catch{}}function Rje(e){let t=e.getRoute(),r=Date.now();const n=new Set,a=h=>{const f=t,p=Date.now();if(f&&f!==h){const g=Math.max(0,Math.round((p-r)/1e3));ss("time_spent",{route:f,seconds:g}),n.clear()}t=h,r=p},i=()=>{try{const h=document.scrollingElement||document.documentElement,f=h.scrollTop,p=h.scrollHeight-h.clientHeight;if(p<=0)return;const g=f/p*100,v=[25,50,75,100];for(const b of v)g>=b&&!n.has(b)&&(n.add(b),ss(`scroll_${b}`,{route:t}))}catch{}},o=["mousemove","mousedown","keydown","touchstart","scroll"],l=()=>{OD()};return o.forEach(h=>window.addEventListener(h,l,{passive:!0})),window.addEventListener("scroll",i,{passive:!0}),OD(),{stop:()=>{const h=Date.now(),f=Math.max(0,Math.round((h-r)/1e3));ss("time_spent",{route:t,seconds:f}),o.forEach(p=>window.removeEventListener(p,l)),window.removeEventListener("scroll",i)},setRoute:a}}function vB(){try{return new Date().toISOString()}catch{return""}}function Ije(e,t){try{const r=globalThis?.DivineGuard;r&&typeof r.capture=="function"&&r.capture({event_code:"DG-NET-0001",message:"Network state changed",payload:{previous_state:e,new_state:t}})}catch{}}let bd="unknown",yh=null,Lk=null,CD=!1;function Dje(){try{if(typeof window<"u"&&typeof window.navigator<"u"&&typeof window.navigator.onLine=="boolean")return window.navigator.onLine?"online":"offline"}catch{}return"unknown"}function PD(e){if(e===bd)return;const t=bd;bd=e,yh=vB()||null,e==="online"&&(Lk=yh),Ije(t,e)}function bB(){if(CD)return;CD=!0;const e=Dje();bd=e,e!=="unknown"&&(yh=vB()||null,e==="online"&&(Lk=yh));try{typeof window<"u"&&typeof window.addEventListener=="function"&&(window.addEventListener("online",()=>PD("online")),window.addEventListener("offline",()=>PD("offline")))}catch{}}bB();function wB(){return bB(),{state:bd,last_changed_at:yh,last_known_online_at:Lk}}function jB(){const e=import.meta?.env?.VITE_APP_VERSION;return typeof e=="string"&&e.length>0?e:"0.1.0"}function Mje(){return{version:1,context:{app_version:jB(),feature_key:null,network_state:wB().state},global:{safe_mode:!1},media:{force_image_quality:"auto",disable_video_autoplay:!1,disable_video:!1,disable_preloading:!1,max_concurrent_media_loads:null},network:{disable_retries:!1,retry_count:null,timeout_ms:null},ux:{skeleton_only:!1,reduce_animations:!1,ux_watchdog_threshold_ms:null},ai:{disable_ai:!1},applied:[],compiled_at:new Date().toISOString(),ttl_seconds:45}}let ji=Mje();const $je=new Set;let RD=!1,lN=null;function Lje(e){try{const t=globalThis?.document;if(!t?.documentElement)return;const r=t.documentElement;r.dataset.dgSafeMode=e.global.safe_mode?"true":"false",r.dataset.dgSkeletonOnly=e.ux.skeleton_only?"true":"false",r.dataset.dgReduceAnimations=e.ux.reduce_animations?"true":"false"}catch{}}function NB(e){Lje(e);for(const t of $je)try{t(e)}catch{}}async function Fje(){const e=jB(),t=wB().state,r=new URLSearchParams;r.set("app_version",e),r.set("network_state",t);const a=`${`https://${He}.supabase.co/functions/v1/make-server-4a075ebc`}/api/divine-guard/control-snapshot?${r.toString()}`;try{const i=new AbortController,o=setTimeout(()=>i.abort(),3500),l=await fetch(a,{headers:{Authorization:`Bearer ${he}`,apikey:he},signal:i.signal});clearTimeout(o);const u=await l.json().catch(()=>null);return!l.ok||!u?.success||!u.data?null:u.data}catch{return null}}function _B(e){if(lN)try{clearTimeout(lN)}catch{}lN=setTimeout(async()=>{const t=await Fje();t&&(ji=t,NB(ji));const r=typeof ji.ttl_seconds=="number"&&Number.isFinite(ji.ttl_seconds)&&ji.ttl_seconds>0?ji.ttl_seconds*1e3:45e3,n=ji.global.safe_mode?5e3:Math.max(1e4,Math.min(6e4,r));_B(n)},Math.max(0,e))}function Uje(){RD||(RD=!0,NB(ji),_B(0))}function Bje(){const{user:e,loading:t}=Vo(),[r,n]=w.useState(!0),[a,i]=w.useState(!1),[o,l]=w.useState("launcher"),[u,h]=w.useState("photos"),[f,p]=w.useState(!1),g=B.useRef("photos"),v=B.useRef(null),[b,y]=w.useState(null),[x,_]=w.useState(null),[N,E]=w.useState(""),[C,S]=w.useState(!1),[k,A]=w.useState(null);B.useEffect(()=>{const F=requestAnimationFrame(()=>{try{(document.scrollingElement||document.documentElement)?.scrollTo?.({top:0,left:0,behavior:"auto"}),window.scrollTo(0,0),document.body.scrollTop=0}catch{}});return()=>cancelAnimationFrame(F)},[u]),B.useEffect(()=>{if(typeof window>"u")return;Uje(),id.initialize().catch(U=>{console.error("AdMob init error in App:",U)});try{$q()||p(!0)}catch{}v.current||(v.current=Rje({getRoute:()=>g.current,idleMs:6e4})),oq(),sT(u),ss("app_open",{route:window.location.pathname}),ss("page_enter",{route:u,page:u}),u==="photos"&&ss("dashboard_view",{route:u});const F=()=>{document.visibilityState==="hidden"&&(ss("app_background",{route:window.location.pathname}),O0(),iT())},G=()=>{ss("app_close",{route:window.location.pathname}),O0(),iT()};document.addEventListener("visibilitychange",F),window.addEventListener("beforeunload",G);const K=U=>{try{const q=U?.detail?.tab;typeof q=="string"&&q.length>0&&h(q)}catch{}};return window.addEventListener("murugan:navigate",K),()=>{document.removeEventListener("visibilitychange",F),window.removeEventListener("beforeunload",G),window.removeEventListener("murugan:navigate",K),v.current?.stop(),v.current=null,O0()}},[]),B.useEffect(()=>{const F=g.current;F!==u&&(ss("tab_switch",{from:F,to:u}),ss("page_exit",{route:F,page:F}),ss("page_enter",{route:u,page:u}),u==="photos"&&ss("dashboard_view",{route:u}),g.current=u,v.current?.setRoute(u),sT(u))},[u]),B.useEffect(()=>{e&&(i(!1),h("photos"),P())},[e]);const P=async()=>{try{const{error:F}=await Xs.from("media").select("id").limit(1),{error:G}=await Xs.from("user_favorites").select("media_id").limit(1);if(F?.code==="PGRST205"||G?.code==="PGRST205"){console.log("Database tables not found. Please complete Supabase setup."),A(!1),S(!0);return}A(!0)}catch(F){console.error("Error checking tables:",F)}},O=(F,G)=>{y(F),_(G)},I=()=>{y(null),_(null)};if(B.useEffect(()=>{const F=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(F)},[]),r)return s.jsx(zq,{});if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-[#0d5e38] to-black",children:s.jsx(ia,{size:60})});if(C&&k===!1)return s.jsx(Aje,{onClose:()=>{S(!1),A(null),P()}});if(o==="launcher")return s.jsx(iee,{onSelectMode:F=>l(F)});if(o==="admin")return e?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx(Eje,{onExitAdmin:()=>l("launcher")})}):s.jsx(vT,{});if(!e||a)return s.jsx(vT,{});const D=()=>u==="saved"?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(Bl,{title:"Saved Items",onBack:()=>h("profile"),titleFontFamily:"var(--font-english)"}),s.jsx("div",{className:"pt-16",children:s.jsx(vZ,{onSelectMedia:O})})]}):u==="notifications"?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(Bl,{title:"Notifications",onBack:()=>h("profile"),titleFontFamily:"var(--font-english)"}),s.jsx("div",{className:"pt-16",children:s.jsx(TZ,{})})]}):u==="account"?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(Bl,{title:"Account Settings",onBack:()=>h("profile"),titleFontFamily:"var(--font-english)"}),s.jsx(ree,{})]}):u==="contact"?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(Bl,{title:"Contact Us",onBack:()=>h("profile"),titleFontFamily:"var(--font-english)"}),s.jsx("div",{className:"pt-16",children:s.jsx(nee,{})})]}):u==="privacy"?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(Bl,{title:"Privacy Policy",onBack:()=>h("profile"),titleFontFamily:"var(--font-english)"}),s.jsx("div",{className:"pt-16",children:s.jsx(see,{})})]}):u==="photos"?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(iS,{title:"Wallpapers",children:s.jsx(aee,{onSearch:E,placeholder:"Search murugan photos, videos..."})}),s.jsx(pK,{searchQuery:N,onSelectMedia:O,onTablesNotFound:()=>S(!0)})]}):u==="songs"?s.jsx("div",{className:"min-h-screen bg-[#F2FFF6]",children:s.jsx(uZ,{})}):u==="spark"?s.jsx(fZ,{}):u==="profile"?s.jsx(yZ,{onNavigate:F=>h(F),onLogout:()=>{console.log("User logged out"),i(!0)}}):null,L=u==="spark"?"#000":u==="photos"?"#fff":"#F2FFF6";return s.jsxs("div",{className:"relative min-h-screen bg-white",children:[s.jsx("div",{style:{paddingBottom:"calc(120px + env(safe-area-inset-bottom, 0px))",background:L},children:D()}),f&&s.jsx("div",{className:"fixed left-4 right-4 z-50 rounded-2xl border border-[#E6F0EA] bg-white shadow-[0px_10px_25px_rgba(0,0,0,0.12)]",style:{bottom:"calc(96px + env(safe-area-inset-bottom, 0px))"},children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",style:{fontFamily:"var(--font-tamil-bold)"},children:"      ."}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx("button",{type:"button",className:"flex-1 rounded-xl bg-[#0d5e38] px-4 py-2 text-sm font-semibold text-white",onClick:()=>{_N({analytics:!0}),p(!1)},children:""}),s.jsx("button",{type:"button",className:"flex-1 rounded-xl border border-[#E6F0EA] bg-white px-4 py-2 text-sm font-semibold text-gray-800",onClick:()=>{_N({analytics:!1}),p(!1)},children:""})]})]})}),b&&x&&s.jsx(xK,{media:x,initialIndex:x.findIndex(F=>F.id===b.id),onClose:I}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 shadow-[0px_-4px_20px_rgba(0,0,0,0.15)] overflow-hidden",style:{background:"#0d5e38"},children:s.jsxs("div",{className:"flex justify-around items-center px-2 pt-[12px] pb-[16px] pr-[0px] pl-[0px]",children:[s.jsxs("button",{onClick:()=>h("photos"),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${u==="photos"?"bg-white/20 scale-105":"hover:bg-white/10"}`,children:[s.jsx(Ed,{className:`w-6 h-6 ${u==="photos"?"text-white":"text-white/70"}`}),s.jsx("span",{className:`text-xs ${u==="photos"?"text-white":"text-white/70"}`,children:"Photos"})]}),s.jsxs("button",{onClick:()=>h("songs"),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${u==="songs"?"bg-white/20 scale-105":"hover:bg-white/10"}`,children:[s.jsx(Os,{className:`w-6 h-6 ${u==="songs"?"text-white":"text-white/70"}`}),s.jsx("span",{className:`text-xs ${u==="songs"?"text-white":"text-white/70"}`,children:"Songs"})]}),s.jsxs("button",{onClick:()=>h("spark"),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${u==="spark"?"bg-white/20 scale-105":"hover:bg-white/10"}`,children:[s.jsx(ic,{className:`w-6 h-6 ${u==="spark"?"text-white":"text-white/70"}`}),s.jsx("span",{className:`text-xs ${u==="spark"?"text-white":"text-white/70"}`,children:"Spark"})]}),s.jsxs("button",{onClick:()=>h("profile"),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${u==="profile"?"bg-white/20 scale-105":"hover:bg-white/10"}`,children:[s.jsx(F_,{className:`w-6 h-6 ${u==="profile"?"text-white":"text-white/70"}`}),s.jsx("span",{className:`text-xs ${u==="profile"?"text-white":"text-white/70"}`,children:"Profile"})]})]})})]})}function zje(){return s.jsxs(Uq,{children:[s.jsx(Cje,{}),s.jsx(Bje,{})]})}Ez.createRoot(document.getElementById("root")).render(s.jsx(zje,{}));export{yD as A,RU as W};
